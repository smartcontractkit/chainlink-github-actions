"use strict";var SM=Object.create;var Nv=Object.defineProperty;var PM=Object.getOwnPropertyDescriptor;var IM=Object.getOwnPropertyNames;var bM=Object.getPrototypeOf,AM=Object.prototype.hasOwnProperty;var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var RM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of IM(t))!AM.call(e,s)&&s!==r&&Nv(e,s,{get:()=>t[s],enumerable:!(n=PM(t,s))||n.enumerable});return e};var ks=(e,t,r)=>(r=e!=null?SM(bM(e)):{},RM(t||!e||!e.__esModule?Nv(r,"default",{value:e,enumerable:!0}):r,e));var Ha=l(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.toCommandProperties=kn.toCommandValue=void 0;function CM(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}kn.toCommandValue=CM;function TM(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}kn.toCommandProperties=TM});var jv=l(Qe=>{"use strict";var xM=Qe&&Qe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qM=Qe&&Qe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OM=Qe&&Qe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&xM(t,e,r);return qM(t,e),t};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.issue=Qe.issueCommand=void 0;var NM=OM(require("os")),kv=Ha();function Dv(e,t,r){let n=new Bm(e,t,r);process.stdout.write(n.toString()+NM.EOL)}Qe.issueCommand=Dv;function MM(e,t=""){Dv(e,{},t)}Qe.issue=MM;var Mv="::",Bm=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=Mv+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let s=this.properties[n];s&&(r?r=!1:t+=",",t+=`${n}=${DM(s)}`)}}return t+=`${Mv}${kM(this.message)}`,t}};function kM(e){return kv.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function DM(e){return kv.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var Wm=l(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.default=zM;var jM=LM(require("crypto"));function LM(e){return e&&e.__esModule?e:{default:e}}var Ba=new Uint8Array(256),Ga=Ba.length;function zM(){return Ga>Ba.length-16&&(jM.default.randomFillSync(Ba),Ga=0),Ba.slice(Ga,Ga+=16)}});var Lv=l(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.default=void 0;var FM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Va.default=FM});var Ds=l(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.default=void 0;var UM=$M(Lv());function $M(e){return e&&e.__esModule?e:{default:e}}function HM(e){return typeof e=="string"&&UM.default.test(e)}var GM=HM;Wa.default=GM});var js=l(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.default=void 0;var BM=VM(Ds());function VM(e){return e&&e.__esModule?e:{default:e}}var Ie=[];for(let e=0;e<256;++e)Ie.push((e+256).toString(16).substr(1));function WM(e,t=0){let r=(Ie[e[t+0]]+Ie[e[t+1]]+Ie[e[t+2]]+Ie[e[t+3]]+"-"+Ie[e[t+4]]+Ie[e[t+5]]+"-"+Ie[e[t+6]]+Ie[e[t+7]]+"-"+Ie[e[t+8]]+Ie[e[t+9]]+"-"+Ie[e[t+10]]+Ie[e[t+11]]+Ie[e[t+12]]+Ie[e[t+13]]+Ie[e[t+14]]+Ie[e[t+15]]).toLowerCase();if(!(0,BM.default)(r))throw TypeError("Stringified UUID is invalid");return r}var KM=WM;Ka.default=KM});var Uv=l(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.default=void 0;var JM=Fv(Wm()),YM=Fv(js());function Fv(e){return e&&e.__esModule?e:{default:e}}var zv,Km,Jm=0,Ym=0;function XM(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let i=e.node||zv,o=e.clockseq!==void 0?e.clockseq:Km;if(i==null||o==null){let p=e.random||(e.rng||JM.default)();i==null&&(i=zv=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),o==null&&(o=Km=(p[6]<<8|p[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Ym+1,d=a-Jm+(c-Ym)/1e4;if(d<0&&e.clockseq===void 0&&(o=o+1&16383),(d<0||a>Jm)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Jm=a,Ym=c,Km=o,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;s[n++]=u>>>24&255,s[n++]=u>>>16&255,s[n++]=u>>>8&255,s[n++]=u&255;let f=a/4294967296*1e4&268435455;s[n++]=f>>>8&255,s[n++]=f&255,s[n++]=f>>>24&15|16,s[n++]=f>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(let p=0;p<6;++p)s[n+p]=i[p];return t||(0,YM.default)(s)}var QM=XM;Ja.default=QM});var Xm=l(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.default=void 0;var ZM=ek(Ds());function ek(e){return e&&e.__esModule?e:{default:e}}function tk(e){if(!(0,ZM.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var rk=tk;Ya.default=rk});var Qm=l(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.default=ok;on.URL=on.DNS=void 0;var nk=$v(js()),sk=$v(Xm());function $v(e){return e&&e.__esModule?e:{default:e}}function ik(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var Hv="6ba7b810-9dad-11d1-80b4-00c04fd430c8";on.DNS=Hv;var Gv="6ba7b811-9dad-11d1-80b4-00c04fd430c8";on.URL=Gv;function ok(e,t,r){function n(s,i,o,a){if(typeof s=="string"&&(s=ik(s)),typeof i=="string"&&(i=(0,sk.default)(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(let d=0;d<16;++d)o[a+d]=c[d];return o}return(0,nk.default)(c)}try{n.name=e}catch{}return n.DNS=Hv,n.URL=Gv,n}});var Bv=l(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.default=void 0;var ak=ck(require("crypto"));function ck(e){return e&&e.__esModule?e:{default:e}}function dk(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ak.default.createHash("md5").update(e).digest()}var lk=dk;Xa.default=lk});var Wv=l(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.default=void 0;var uk=Vv(Qm()),fk=Vv(Bv());function Vv(e){return e&&e.__esModule?e:{default:e}}var pk=(0,uk.default)("v3",48,fk.default),mk=pk;Qa.default=mk});var Jv=l(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.default=void 0;var hk=Kv(Wm()),_k=Kv(js());function Kv(e){return e&&e.__esModule?e:{default:e}}function yk(e,t,r){e=e||{};let n=e.random||(e.rng||hk.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return(0,_k.default)(n)}var gk=yk;Za.default=gk});var Yv=l(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.default=void 0;var wk=vk(require("crypto"));function vk(e){return e&&e.__esModule?e:{default:e}}function Ek(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),wk.default.createHash("sha1").update(e).digest()}var Sk=Ek;ec.default=Sk});var Qv=l(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.default=void 0;var Pk=Xv(Qm()),Ik=Xv(Yv());function Xv(e){return e&&e.__esModule?e:{default:e}}var bk=(0,Pk.default)("v5",80,Ik.default),Ak=bk;tc.default=Ak});var Zv=l(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.default=void 0;var Rk="00000000-0000-0000-0000-000000000000";rc.default=Rk});var eE=l(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.default=void 0;var Ck=Tk(Ds());function Tk(e){return e&&e.__esModule?e:{default:e}}function xk(e){if(!(0,Ck.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var qk=xk;nc.default=qk});var sc=l(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});Object.defineProperty(wt,"v1",{enumerable:!0,get:function(){return Ok.default}});Object.defineProperty(wt,"v3",{enumerable:!0,get:function(){return Nk.default}});Object.defineProperty(wt,"v4",{enumerable:!0,get:function(){return Mk.default}});Object.defineProperty(wt,"v5",{enumerable:!0,get:function(){return kk.default}});Object.defineProperty(wt,"NIL",{enumerable:!0,get:function(){return Dk.default}});Object.defineProperty(wt,"version",{enumerable:!0,get:function(){return jk.default}});Object.defineProperty(wt,"validate",{enumerable:!0,get:function(){return Lk.default}});Object.defineProperty(wt,"stringify",{enumerable:!0,get:function(){return zk.default}});Object.defineProperty(wt,"parse",{enumerable:!0,get:function(){return Fk.default}});var Ok=sr(Uv()),Nk=sr(Wv()),Mk=sr(Jv()),kk=sr(Qv()),Dk=sr(Zv()),jk=sr(eE()),Lk=sr(Ds()),zk=sr(js()),Fk=sr(Xm());function sr(e){return e&&e.__esModule?e:{default:e}}});var sE=l(Ze=>{"use strict";var Uk=Ze&&Ze.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$k=Ze&&Ze.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rE=Ze&&Ze.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Uk(t,e,r);return $k(t,e),t};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.prepareKeyValueMessage=Ze.issueFileCommand=void 0;var tE=rE(require("fs")),Zm=rE(require("os")),Hk=sc(),nE=Ha();function Gk(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!tE.existsSync(r))throw new Error(`Missing file at path: ${r}`);tE.appendFileSync(r,`${nE.toCommandValue(t)}${Zm.EOL}`,{encoding:"utf8"})}Ze.issueFileCommand=Gk;function Bk(e,t){let r=`ghadelimiter_${Hk.v4()}`,n=nE.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${Zm.EOL}${n}${Zm.EOL}${r}`}Ze.prepareKeyValueMessage=Bk});var oE=l(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.checkBypass=Dn.getProxyUrl=void 0;function Vk(e){let t=e.protocol==="https:";if(iE(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Dn.getProxyUrl=Vk;function iE(e){if(!e.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let n=[e.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let s of t.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(n.some(i=>i===s))return!0;return!1}Dn.checkBypass=iE});var lE=l(jn=>{"use strict";var ine=require("net"),Wk=require("tls"),eh=require("http"),aE=require("https"),Kk=require("events"),one=require("assert"),Jk=require("util");jn.httpOverHttp=Yk;jn.httpsOverHttp=Xk;jn.httpOverHttps=Qk;jn.httpsOverHttps=Zk;function Yk(e){var t=new ir(e);return t.request=eh.request,t}function Xk(e){var t=new ir(e);return t.request=eh.request,t.createSocket=cE,t.defaultPort=443,t}function Qk(e){var t=new ir(e);return t.request=aE.request,t}function Zk(e){var t=new ir(e);return t.request=aE.request,t.createSocket=cE,t.defaultPort=443,t}function ir(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||eh.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,s,i,o){for(var a=dE(s,i,o),c=0,d=t.requests.length;c<d;++c){var u=t.requests[c];if(u.host===a.host&&u.port===a.port){t.requests.splice(c,1),u.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}Jk.inherits(ir,Kk.EventEmitter);ir.prototype.addRequest=function(t,r,n,s){var i=this,o=th({request:t},i.options,dE(r,n,s));if(i.sockets.length>=this.maxSockets){i.requests.push(o);return}i.createSocket(o,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),t.onSocket(a);function c(){i.emit("free",a,o)}function d(u){i.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};ir.prototype.createSocket=function(t,r){var n=this,s={};n.sockets.push(s);var i=th({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(i.localAddress=t.localAddress),i.proxyAuth&&(i.headers=i.headers||{},i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")),Cr("making CONNECT request");var o=n.request(i);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",c),o.once("connect",d),o.once("error",u),o.end();function a(f){f.upgrade=!0}function c(f,p,m){process.nextTick(function(){d(f,p,m)})}function d(f,p,m){if(o.removeAllListeners(),p.removeAllListeners(),f.statusCode!==200){Cr("tunneling socket could not be established, statusCode=%d",f.statusCode),p.destroy();var _=new Error("tunneling socket could not be established, statusCode="+f.statusCode);_.code="ECONNRESET",t.request.emit("error",_),n.removeSocket(s);return}if(m.length>0){Cr("got illegal response body from proxy"),p.destroy();var _=new Error("got illegal response body from proxy");_.code="ECONNRESET",t.request.emit("error",_),n.removeSocket(s);return}return Cr("tunneling connection has established"),n.sockets[n.sockets.indexOf(s)]=p,r(p)}function u(f){o.removeAllListeners(),Cr(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var p=new Error("tunneling socket could not be established, cause="+f.message);p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(s)}};ir.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(s){n.request.onSocket(s)})}};function cE(e,t){var r=this;ir.prototype.createSocket.call(r,e,function(n){var s=e.request.getHeader("host"),i=th({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):e.host}),o=Wk.connect(0,i);r.sockets[r.sockets.indexOf(n)]=o,t(o)})}function dE(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function th(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var s=Object.keys(n),i=0,o=s.length;i<o;++i){var a=s[i];n[a]!==void 0&&(e[a]=n[a])}}return e}var Cr;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Cr=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Cr=function(){};jn.debug=Cr});var fE=l((cne,uE)=>{uE.exports=lE()});var mE=l(W=>{"use strict";var eD=W&&W.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tD=W&&W.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dc=W&&W.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&eD(t,e,r);return tD(t,e),t},ve=W&&W.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(W,"__esModule",{value:!0});W.HttpClient=W.isHttps=W.HttpClientResponse=W.HttpClientError=W.getProxyUrl=W.MediaTypes=W.Headers=W.HttpCodes=void 0;var ic=dc(require("http")),rh=dc(require("https")),pE=dc(oE()),oc=dc(fE()),vt;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(vt=W.HttpCodes||(W.HttpCodes={}));var Me;(function(e){e.Accept="accept",e.ContentType="content-type"})(Me=W.Headers||(W.Headers={}));var Tr;(function(e){e.ApplicationJson="application/json"})(Tr=W.MediaTypes||(W.MediaTypes={}));function rD(e){let t=pE.getProxyUrl(new URL(e));return t?t.href:""}W.getProxyUrl=rD;var nD=[vt.MovedPermanently,vt.ResourceMoved,vt.SeeOther,vt.TemporaryRedirect,vt.PermanentRedirect],sD=[vt.BadGateway,vt.ServiceUnavailable,vt.GatewayTimeout],iD=["OPTIONS","GET","DELETE","HEAD"],oD=10,aD=5,Ln=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Ln.prototype)}};W.HttpClientError=Ln;var cc=class{constructor(t){this.message=t}readBody(){return ve(this,void 0,void 0,function*(){return new Promise(t=>ve(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};W.HttpClientResponse=cc;function cD(e){return new URL(e).protocol==="https:"}W.isHttps=cD;var nh=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return ve(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return ve(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return ve(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return ve(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return ve(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return ve(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return ve(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,s){return ve(this,void 0,void 0,function*(){return this.request(t,r,n,s)})}getJson(t,r={}){return ve(this,void 0,void 0,function*(){r[Me.Accept]=this._getExistingOrDefaultHeader(r,Me.Accept,Tr.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return ve(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Me.Accept]=this._getExistingOrDefaultHeader(n,Me.Accept,Tr.ApplicationJson),n[Me.ContentType]=this._getExistingOrDefaultHeader(n,Me.ContentType,Tr.ApplicationJson);let i=yield this.post(t,s,n);return this._processResponse(i,this.requestOptions)})}putJson(t,r,n={}){return ve(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Me.Accept]=this._getExistingOrDefaultHeader(n,Me.Accept,Tr.ApplicationJson),n[Me.ContentType]=this._getExistingOrDefaultHeader(n,Me.ContentType,Tr.ApplicationJson);let i=yield this.put(t,s,n);return this._processResponse(i,this.requestOptions)})}patchJson(t,r,n={}){return ve(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Me.Accept]=this._getExistingOrDefaultHeader(n,Me.Accept,Tr.ApplicationJson),n[Me.ContentType]=this._getExistingOrDefaultHeader(n,Me.ContentType,Tr.ApplicationJson);let i=yield this.patch(t,s,n);return this._processResponse(i,this.requestOptions)})}request(t,r,n,s){return ve(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let i=new URL(r),o=this._prepareRequest(t,i,s),a=this._allowRetries&&iD.includes(t)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(o,n),d&&d.message&&d.message.statusCode===vt.Unauthorized){let f;for(let p of this.handlers)if(p.canHandleAuthentication(d)){f=p;break}return f?f.handleAuthentication(this,o,n):d}let u=this._maxRedirects;for(;d.message.statusCode&&nD.includes(d.message.statusCode)&&this._allowRedirects&&u>0;){let f=d.message.headers.location;if(!f)break;let p=new URL(f);if(i.protocol==="https:"&&i.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),p.hostname!==i.hostname)for(let m in s)m.toLowerCase()==="authorization"&&delete s[m];o=this._prepareRequest(t,p,s),d=yield this.requestRaw(o,n),u--}if(!d.message.statusCode||!sD.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return ve(this,void 0,void 0,function*(){return new Promise((n,s)=>{function i(o,a){o?s(o):a?n(a):s(new Error("Unknown error"))}this.requestRawWithCallback(t,r,i)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let s=!1;function i(c,d){s||(s=!0,n(c,d))}let o=t.httpModule.request(t.options,c=>{let d=new cc(c);i(void 0,d)}),a;o.on("socket",c=>{a=c}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),i(new Error(`Request timeout: ${t.options.path}`))}),o.on("error",function(c){i(c)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let s={};s.parsedUrl=r;let i=s.parsedUrl.protocol==="https:";s.httpModule=i?rh:ic;let o=i?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):o,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=t,s.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(s.options);return s}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},ac(this.requestOptions.headers),ac(t||{})):ac(t||{})}_getExistingOrDefaultHeader(t,r,n){let s;return this.requestOptions&&this.requestOptions.headers&&(s=ac(this.requestOptions.headers)[r]),t[r]||s||n}_getAgent(t){let r,n=pE.getProxyUrl(t),s=n&&n.hostname;if(this._keepAlive&&s&&(r=this._proxyAgent),this._keepAlive&&!s&&(r=this._agent),r)return r;let i=t.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||ic.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";i?c=d?oc.httpsOverHttps:oc.httpsOverHttp:c=d?oc.httpOverHttps:oc.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=i?new rh.Agent(a):new ic.Agent(a),this._agent=r}return r||(r=i?rh.globalAgent:ic.globalAgent),i&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return ve(this,void 0,void 0,function*(){t=Math.min(oD,t);let r=aD*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return ve(this,void 0,void 0,function*(){return new Promise((n,s)=>ve(this,void 0,void 0,function*(){let i=t.message.statusCode||0,o={statusCode:i,result:null,headers:{}};i===vt.NotFound&&n(o);function a(u,f){if(typeof f=="string"){let p=new Date(f);if(!isNaN(p.valueOf()))return p}return f}let c,d;try{d=yield t.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),o.result=c),o.headers=t.message.headers}catch{}if(i>299){let u;c&&c.message?u=c.message:d&&d.length>0?u=d:u=`Failed request: (${i})`;let f=new Ln(u,i);f.result=o.result,s(f)}else n(o)}))})}};W.HttpClient=nh;var ac=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var hE=l(At=>{"use strict";var ah=At&&At.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(At,"__esModule",{value:!0});At.PersonalAccessTokenCredentialHandler=At.BearerCredentialHandler=At.BasicCredentialHandler=void 0;var sh=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return ah(this,void 0,void 0,function*(){throw new Error("not implemented")})}};At.BasicCredentialHandler=sh;var ih=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return ah(this,void 0,void 0,function*(){throw new Error("not implemented")})}};At.BearerCredentialHandler=ih;var oh=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return ah(this,void 0,void 0,function*(){throw new Error("not implemented")})}};At.PersonalAccessTokenCredentialHandler=oh});var gE=l(zn=>{"use strict";var _E=zn&&zn.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(zn,"__esModule",{value:!0});zn.OidcClient=void 0;var dD=mE(),lD=hE(),yE=ch(),xr=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new dD.HttpClient("actions/oidc-client",[new lD.BearerCredentialHandler(xr.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return _E(this,void 0,void 0,function*(){let i=(r=(yield xr.createHttpClient().getJson(t).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!i)throw new Error("Response json body do not have ID Token field");return i})}static getIDToken(t){return _E(this,void 0,void 0,function*(){try{let r=xr.getIDTokenUrl();if(t){let s=encodeURIComponent(t);r=`${r}&audience=${s}`}yE.debug(`ID token url is ${r}`);let n=yield xr.getCall(r);return yE.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};zn.OidcClient=xr});var fh=l(Fe=>{"use strict";var dh=Fe&&Fe.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.summary=Fe.markdownSummary=Fe.SUMMARY_DOCS_URL=Fe.SUMMARY_ENV_VAR=void 0;var uD=require("os"),lh=require("fs"),{access:fD,appendFile:pD,writeFile:mD}=lh.promises;Fe.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";Fe.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var uh=class{constructor(){this._buffer=""}filePath(){return dh(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[Fe.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${Fe.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield fD(t,lh.constants.R_OK|lh.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let s=Object.entries(n).map(([i,o])=>` ${i}="${o}"`).join("");return r?`<${t}${s}>${r}</${t}>`:`<${t}${s}>`}write(t){return dh(this,void 0,void 0,function*(){let r=!!t?.overwrite,n=yield this.filePath();return yield(r?mD:pD)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return dh(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(uD.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),s=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(s).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",s=t.map(o=>this.wrap("li",o)).join(""),i=this.wrap(n,s);return this.addRaw(i).addEOL()}addTable(t){let r=t.map(s=>{let i=s.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:c,colspan:d,rowspan:u}=o,f=a?"th":"td",p=Object.assign(Object.assign({},d&&{colspan:d}),u&&{rowspan:u});return this.wrap(f,c,p)}).join("");return this.wrap("tr",i)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:s,height:i}=n||{},o=Object.assign(Object.assign({},s&&{width:s}),i&&{height:i}),a=this.wrap("img",null,Object.assign({src:t,alt:r},o));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,s=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",i=this.wrap(s,t);return this.addRaw(i).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),s=this.wrap("blockquote",t,n);return this.addRaw(s).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},wE=new uh;Fe.markdownSummary=wE;Fe.summary=wE});var vE=l(Ue=>{"use strict";var hD=Ue&&Ue.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_D=Ue&&Ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yD=Ue&&Ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&hD(t,e,r);return _D(t,e),t};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.toPlatformPath=Ue.toWin32Path=Ue.toPosixPath=void 0;var gD=yD(require("path"));function wD(e){return e.replace(/[\\]/g,"/")}Ue.toPosixPath=wD;function vD(e){return e.replace(/[/]/g,"\\")}Ue.toWin32Path=vD;function ED(e){return e.replace(/[/\\]/g,gD.sep)}Ue.toPlatformPath=ED});var ch=l(x=>{"use strict";var SD=x&&x.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PD=x&&x.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),EE=x&&x.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&SD(t,e,r);return PD(t,e),t},SE=x&&x.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(x,"__esModule",{value:!0});x.getIDToken=x.getState=x.saveState=x.group=x.endGroup=x.startGroup=x.info=x.notice=x.warning=x.error=x.debug=x.isDebug=x.setFailed=x.setCommandEcho=x.setOutput=x.getBooleanInput=x.getMultilineInput=x.getInput=x.addPath=x.setSecret=x.exportVariable=x.ExitCode=void 0;var et=jv(),an=sE(),Fn=Ha(),PE=EE(require("os")),ID=EE(require("path")),bD=gE(),IE;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(IE=x.ExitCode||(x.ExitCode={}));function AD(e,t){let r=Fn.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return an.issueFileCommand("ENV",an.prepareKeyValueMessage(e,t));et.issueCommand("set-env",{name:e},r)}x.exportVariable=AD;function RD(e){et.issueCommand("add-mask",{},e)}x.setSecret=RD;function CD(e){process.env.GITHUB_PATH||""?an.issueFileCommand("PATH",e):et.issueCommand("add-path",{},e),process.env.PATH=`${e}${ID.delimiter}${process.env.PATH}`}x.addPath=CD;function ph(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}x.getInput=ph;function TD(e,t){let r=ph(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}x.getMultilineInput=TD;function xD(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],s=ph(e,t);if(r.includes(s))return!0;if(n.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}x.getBooleanInput=xD;function qD(e,t){if(process.env.GITHUB_OUTPUT||"")return an.issueFileCommand("OUTPUT",an.prepareKeyValueMessage(e,t));process.stdout.write(PE.EOL),et.issueCommand("set-output",{name:e},Fn.toCommandValue(t))}x.setOutput=qD;function OD(e){et.issue("echo",e?"on":"off")}x.setCommandEcho=OD;function ND(e){process.exitCode=IE.Failure,bE(e)}x.setFailed=ND;function MD(){return process.env.RUNNER_DEBUG==="1"}x.isDebug=MD;function kD(e){et.issueCommand("debug",{},e)}x.debug=kD;function bE(e,t={}){et.issueCommand("error",Fn.toCommandProperties(t),e instanceof Error?e.toString():e)}x.error=bE;function DD(e,t={}){et.issueCommand("warning",Fn.toCommandProperties(t),e instanceof Error?e.toString():e)}x.warning=DD;function jD(e,t={}){et.issueCommand("notice",Fn.toCommandProperties(t),e instanceof Error?e.toString():e)}x.notice=jD;function LD(e){process.stdout.write(e+PE.EOL)}x.info=LD;function AE(e){et.issue("group",e)}x.startGroup=AE;function RE(){et.issue("endgroup")}x.endGroup=RE;function zD(e,t){return SE(this,void 0,void 0,function*(){AE(e);let r;try{r=yield t()}finally{RE()}return r})}x.group=zD;function FD(e,t){if(process.env.GITHUB_STATE||"")return an.issueFileCommand("STATE",an.prepareKeyValueMessage(e,t));et.issueCommand("save-state",{name:e},Fn.toCommandValue(t))}x.saveState=FD;function UD(e){return process.env[`STATE_${e}`]||""}x.getState=UD;function $D(e){return SE(this,void 0,void 0,function*(){return yield bD.OidcClient.getIDToken(e)})}x.getIDToken=$D;var HD=fh();Object.defineProperty(x,"summary",{enumerable:!0,get:function(){return HD.summary}});var GD=fh();Object.defineProperty(x,"markdownSummary",{enumerable:!0,get:function(){return GD.markdownSummary}});var mh=vE();Object.defineProperty(x,"toPosixPath",{enumerable:!0,get:function(){return mh.toPosixPath}});Object.defineProperty(x,"toWin32Path",{enumerable:!0,get:function(){return mh.toWin32Path}});Object.defineProperty(x,"toPlatformPath",{enumerable:!0,get:function(){return mh.toPlatformPath}})});var A=l((hne,fc)=>{var CE,TE,xE,qE,OE,NE,ME,kE,DE,jE,LE,zE,FE,lc,hh,UE,$E,HE,Un,GE,BE,VE,WE,KE,JE,YE,XE,QE,uc;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof fc=="object"&&typeof fc.exports=="object"?e(r(t,r(fc.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])};CE=function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(n,s);function i(){this.constructor=n}n.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)},TE=Object.assign||function(n){for(var s,i=1,o=arguments.length;i<o;i++){s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},xE=function(n,s){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(i[o[a]]=n[o[a]]);return i},qE=function(n,s,i,o){var a=arguments.length,c=a<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,s,i,o);else for(var u=n.length-1;u>=0;u--)(d=n[u])&&(c=(a<3?d(c):a>3?d(s,i,c):d(s,i))||c);return a>3&&c&&Object.defineProperty(s,i,c),c},OE=function(n,s){return function(i,o){s(i,o,n)}},NE=function(n,s,i,o,a,c){function d(he){if(he!==void 0&&typeof he!="function")throw new TypeError("Function expected");return he}for(var u=o.kind,f=u==="getter"?"get":u==="setter"?"set":"value",p=!s&&n?o.static?n:n.prototype:null,m=s||(p?Object.getOwnPropertyDescriptor(p,o.name):{}),_,g=!1,y=i.length-1;y>=0;y--){var P={};for(var N in o)P[N]=N==="access"?{}:o[N];for(var N in o.access)P.access[N]=o.access[N];P.addInitializer=function(he){if(g)throw new TypeError("Cannot add initializers after decoration has completed");c.push(d(he||null))};var M=(0,i[y])(u==="accessor"?{get:m.get,set:m.set}:m[f],P);if(u==="accessor"){if(M===void 0)continue;if(M===null||typeof M!="object")throw new TypeError("Object expected");(_=d(M.get))&&(m.get=_),(_=d(M.set))&&(m.set=_),(_=d(M.init))&&a.push(_)}else(_=d(M))&&(u==="field"?a.push(_):m[f]=_)}p&&Object.defineProperty(p,o.name,m),g=!0},ME=function(n,s,i){for(var o=arguments.length>2,a=0;a<s.length;a++)i=o?s[a].call(n,i):s[a].call(n);return o?i:void 0},kE=function(n){return typeof n=="symbol"?n:"".concat(n)},DE=function(n,s,i){return typeof s=="symbol"&&(s=s.description?"[".concat(s.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:i?"".concat(i," ",s):s})},jE=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},LE=function(n,s,i,o){function a(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function u(m){try{p(o.next(m))}catch(_){d(_)}}function f(m){try{p(o.throw(m))}catch(_){d(_)}}function p(m){m.done?c(m.value):a(m.value).then(u,f)}p((o=o.apply(n,s||[])).next())})},zE=function(n,s){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(p){return function(m){return f([p,m])}}function f(p){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(i=0)),i;)try{if(o=1,a&&(c=p[0]&2?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,a=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){i.label=p[1];break}if(p[0]===6&&i.label<c[1]){i.label=c[1],c=p;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(p);break}c[2]&&i.ops.pop(),i.trys.pop();continue}p=s.call(n,i)}catch(m){p=[6,m],a=0}finally{o=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},FE=function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&uc(s,n,i)},uc=Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]},lc=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,i=s&&n[s],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},hh=function(n,s){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var o=i.call(n),a,c=[],d;try{for(;(s===void 0||s-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(u){d={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(d)throw d.error}}return c},UE=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(hh(arguments[s]));return n},$E=function(){for(var n=0,s=0,i=arguments.length;s<i;s++)n+=arguments[s].length;for(var o=Array(n),a=0,s=0;s<i;s++)for(var c=arguments[s],d=0,u=c.length;d<u;d++,a++)o[a]=c[d];return o},HE=function(n,s,i){if(i||arguments.length===2)for(var o=0,a=s.length,c;o<a;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return n.concat(c||Array.prototype.slice.call(s))},Un=function(n){return this instanceof Un?(this.v=n,this):new Un(n)},GE=function(n,s,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,s||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(g){o[g]&&(a[g]=function(y){return new Promise(function(P,N){c.push([g,y,P,N])>1||u(g,y)})})}function u(g,y){try{f(o[g](y))}catch(P){_(c[0][3],P)}}function f(g){g.value instanceof Un?Promise.resolve(g.value.v).then(p,m):_(c[0][2],g)}function p(g){u("next",g)}function m(g){u("throw",g)}function _(g,y){g(y),c.shift(),c.length&&u(c[0][0],c[0][1])}},BE=function(n){var s,i;return s={},o("next"),o("throw",function(a){throw a}),o("return"),s[Symbol.iterator]=function(){return this},s;function o(a,c){s[a]=n[a]?function(d){return(i=!i)?{value:Un(n[a](d)),done:!1}:c?c(d):d}:c}},VE=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],i;return s?s.call(n):(n=typeof lc=="function"?lc(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(c){i[c]=n[c]&&function(d){return new Promise(function(u,f){d=n[c](d),a(u,f,d.done,d.value)})}}function a(c,d,u,f){Promise.resolve(f).then(function(p){c({value:p,done:u})},d)}},WE=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n};var r=Object.create?function(n,s){Object.defineProperty(n,"default",{enumerable:!0,value:s})}:function(n,s){n.default=s};KE=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var i in n)i!=="default"&&Object.prototype.hasOwnProperty.call(n,i)&&uc(s,n,i);return r(s,n),s},JE=function(n){return n&&n.__esModule?n:{default:n}},YE=function(n,s,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?n!==s||!o:!s.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(n):o?o.value:s.get(n)},XE=function(n,s,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?n!==s||!a:!s.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(n,i):a?a.value=i:s.set(n,i),i},QE=function(n,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?s===n:n.has(s)},e("__extends",CE),e("__assign",TE),e("__rest",xE),e("__decorate",qE),e("__param",OE),e("__esDecorate",NE),e("__runInitializers",ME),e("__propKey",kE),e("__setFunctionName",DE),e("__metadata",jE),e("__awaiter",LE),e("__generator",zE),e("__exportStar",FE),e("__createBinding",uc),e("__values",lc),e("__read",hh),e("__spread",UE),e("__spreadArrays",$E),e("__spreadArray",HE),e("__await",Un),e("__asyncGenerator",GE),e("__asyncDelegator",BE),e("__asyncValues",VE),e("__makeTemplateObject",WE),e("__importStar",KE),e("__importDefault",JE),e("__classPrivateFieldGet",YE),e("__classPrivateFieldSet",XE),e("__classPrivateFieldIn",QE)})});var pc=l($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.toHex=$n.fromHex=void 0;var ZE={},_h={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),ZE[e]=t,_h[t]=e}function BD(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in _h)t[r/2]=_h[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}$n.fromHex=BD;function VD(e){let t="";for(let r=0;r<e.byteLength;r++)t+=ZE[e[r]];return t}$n.toHex=VD});var eS=l(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.normalizeProvider=void 0;var WD=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};mc.normalizeProvider=WD});var cn=l(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var KD=A();KD.__exportStar(eS(),yh)});var gh=l(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.isArrayBuffer=void 0;var JD=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";hc.isArrayBuffer=JD});var Gn=l(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.fromString=Hn.fromArrayBuffer=void 0;var YD=gh(),wh=require("buffer"),XD=(e,t=0,r=e.byteLength-t)=>{if(!(0,YD.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return wh.Buffer.from(e,t,r)};Hn.fromArrayBuffer=XD;var QD=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?wh.Buffer.from(e,t):wh.Buffer.from(e)};Hn.fromString=QD});var vh=l(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.fromUtf8=void 0;var ZD=Gn(),ej=e=>{let t=(0,ZD.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};_c.fromUtf8=ej});var tS=l(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.toUint8Array=void 0;var tj=vh(),rj=e=>typeof e=="string"?(0,tj.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);yc.toUint8Array=rj});var rS=l(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.toUtf8=void 0;var nj=Gn(),sj=e=>(0,nj.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8");gc.toUtf8=sj});var or=l(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var Eh=A();Eh.__exportStar(vh(),Ls);Eh.__exportStar(tS(),Ls);Eh.__exportStar(rS(),Ls)});var dn=l(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.MAX_PRESIGNED_TTL=T.KEY_TYPE_IDENTIFIER=T.MAX_CACHE_SIZE=T.UNSIGNED_PAYLOAD=T.EVENT_ALGORITHM_IDENTIFIER=T.ALGORITHM_IDENTIFIER_V4A=T.ALGORITHM_IDENTIFIER=T.UNSIGNABLE_PATTERNS=T.SEC_HEADER_PATTERN=T.PROXY_HEADER_PATTERN=T.ALWAYS_UNSIGNABLE_HEADERS=T.HOST_HEADER=T.TOKEN_HEADER=T.SHA256_HEADER=T.SIGNATURE_HEADER=T.GENERATED_HEADERS=T.DATE_HEADER=T.AMZ_DATE_HEADER=T.AUTH_HEADER=T.REGION_SET_PARAM=T.TOKEN_QUERY_PARAM=T.SIGNATURE_QUERY_PARAM=T.EXPIRES_QUERY_PARAM=T.SIGNED_HEADERS_QUERY_PARAM=T.AMZ_DATE_QUERY_PARAM=T.CREDENTIAL_QUERY_PARAM=T.ALGORITHM_QUERY_PARAM=void 0;T.ALGORITHM_QUERY_PARAM="X-Amz-Algorithm";T.CREDENTIAL_QUERY_PARAM="X-Amz-Credential";T.AMZ_DATE_QUERY_PARAM="X-Amz-Date";T.SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders";T.EXPIRES_QUERY_PARAM="X-Amz-Expires";T.SIGNATURE_QUERY_PARAM="X-Amz-Signature";T.TOKEN_QUERY_PARAM="X-Amz-Security-Token";T.REGION_SET_PARAM="X-Amz-Region-Set";T.AUTH_HEADER="authorization";T.AMZ_DATE_HEADER=T.AMZ_DATE_QUERY_PARAM.toLowerCase();T.DATE_HEADER="date";T.GENERATED_HEADERS=[T.AUTH_HEADER,T.AMZ_DATE_HEADER,T.DATE_HEADER];T.SIGNATURE_HEADER=T.SIGNATURE_QUERY_PARAM.toLowerCase();T.SHA256_HEADER="x-amz-content-sha256";T.TOKEN_HEADER=T.TOKEN_QUERY_PARAM.toLowerCase();T.HOST_HEADER="host";T.ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0};T.PROXY_HEADER_PATTERN=/^proxy-/;T.SEC_HEADER_PATTERN=/^sec-/;T.UNSIGNABLE_PATTERNS=[/^proxy-/i,/^sec-/i];T.ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256";T.ALGORITHM_IDENTIFIER_V4A="AWS4-ECDSA-P256-SHA256";T.EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD";T.UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD";T.MAX_CACHE_SIZE=50;T.KEY_TYPE_IDENTIFIER="aws4_request";T.MAX_PRESIGNED_TTL=60*60*24*7});var Ph=l(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.clearCredentialCache=qr.getSigningKey=qr.createScope=void 0;var ij=pc(),oj=or(),Sh=dn(),Bn={},wc=[],aj=(e,t,r)=>`${e}/${t}/${r}/${Sh.KEY_TYPE_IDENTIFIER}`;qr.createScope=aj;var cj=async(e,t,r,n,s)=>{let i=await nS(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${(0,ij.toHex)(i)}:${t.sessionToken}`;if(o in Bn)return Bn[o];for(wc.push(o);wc.length>Sh.MAX_CACHE_SIZE;)delete Bn[wc.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,Sh.KEY_TYPE_IDENTIFIER])a=await nS(e,a,c);return Bn[o]=a};qr.getSigningKey=cj;var dj=()=>{wc.length=0,Object.keys(Bn).forEach(e=>{delete Bn[e]})};qr.clearCredentialCache=dj;var nS=(e,t,r)=>{let n=new e(t);return n.update((0,oj.toUint8Array)(r)),n.digest()}});var bh=l(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.getCanonicalHeaders=void 0;var Ih=dn(),lj=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in Ih.ALWAYS_UNSIGNABLE_HEADERS||t?.has(i)||Ih.PROXY_HEADER_PATTERN.test(i)||Ih.SEC_HEADER_PATTERN.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n};vc.getCanonicalHeaders=lj});var Ah=l(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.escapeUri=void 0;var uj=e=>encodeURIComponent(e).replace(/[!'()*]/g,fj);Ec.escapeUri=uj;var fj=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`});var sS=l(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.escapeUriPath=void 0;var pj=Ah(),mj=e=>e.split("/").map(pj.escapeUri).join("/");Sc.escapeUriPath=mj});var Rh=l(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});var iS=A();iS.__exportStar(Ah(),Pc);iS.__exportStar(sS(),Pc)});var Ch=l(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.getCanonicalQuery=void 0;var Ic=Rh(),hj=dn(),_j=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===hj.SIGNATURE_HEADER)continue;t.push(n);let s=e[n];typeof s=="string"?r[n]=`${(0,Ic.escapeUri)(n)}=${(0,Ic.escapeUri)(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).sort().reduce((i,o)=>i.concat([`${(0,Ic.escapeUri)(n)}=${(0,Ic.escapeUri)(o)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};bc.getCanonicalQuery=_j});var Th=l(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.getPayloadHash=void 0;var yj=gh(),gj=pc(),wj=or(),oS=dn(),vj=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===oS.SHA256_HEADER)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,yj.isArrayBuffer)(t)){let n=new r;return n.update((0,wj.toUint8Array)(t)),(0,gj.toHex)(await n.digest())}return oS.UNSIGNED_PAYLOAD};Ac.getPayloadHash=vj});var aS=l(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.deleteHeader=Or.getHeaderValue=Or.hasHeader=void 0;var Ej=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};Or.hasHeader=Ej;var Sj=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return t[r]};Or.getHeaderValue=Sj;var Pj=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))e===r.toLowerCase()&&delete t[r]};Or.deleteHeader=Pj});var xh=l(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.cloneQuery=ln.cloneRequest=void 0;var Ij=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?(0,ln.cloneQuery)(t):void 0});ln.cloneRequest=Ij;var bj=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});ln.cloneQuery=bj});var qh=l(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.moveHeadersToQuery=void 0;var Aj=xh(),Rj=(e,t={})=>{var r;let{headers:n,query:s={}}=typeof e.clone=="function"?e.clone():(0,Aj.cloneRequest)(e);for(let i of Object.keys(n)){let o=i.toLowerCase();o.slice(0,6)==="x-amz-"&&!(!((r=t.unhoistableHeaders)===null||r===void 0)&&r.has(o))&&(s[i]=n[i],delete n[i])}return{...e,headers:n,query:s}};Rc.moveHeadersToQuery=Rj});var Oh=l(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.prepareRequest=void 0;var Cj=xh(),Tj=dn(),xj=e=>{e=typeof e.clone=="function"?e.clone():(0,Cj.cloneRequest)(e);for(let t of Object.keys(e.headers))Tj.GENERATED_HEADERS.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};Cc.prepareRequest=xj});var cS=l(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.toDate=un.iso8601=void 0;var qj=e=>(0,un.toDate)(e).toISOString().replace(/\.\d{3}Z$/,"Z");un.iso8601=qj;var Oj=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;un.toDate=Oj});var pS=l(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.SignatureV4=void 0;var Tc=pc(),dS=cn(),Nh=or(),be=dn(),xc=Ph(),lS=bh(),Nj=Ch(),Mh=Th(),Mj=aS(),kj=qh(),uS=Oh(),Dj=cS(),kh=class{constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,dS.normalizeProvider)(n),this.credentialProvider=(0,dS.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,signingRegion:c,signingService:d}=r,u=await this.credentialProvider();this.validateResolvedCredentials(u);let f=c??await this.regionProvider(),{longDate:p,shortDate:m}=qc(n);if(s>be.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=(0,xc.createScope)(m,f,d??this.service),g=(0,kj.moveHeadersToQuery)((0,uS.prepareRequest)(t),{unhoistableHeaders:o});u.sessionToken&&(g.query[be.TOKEN_QUERY_PARAM]=u.sessionToken),g.query[be.ALGORITHM_QUERY_PARAM]=be.ALGORITHM_IDENTIFIER,g.query[be.CREDENTIAL_QUERY_PARAM]=`${u.accessKeyId}/${_}`,g.query[be.AMZ_DATE_QUERY_PARAM]=p,g.query[be.EXPIRES_QUERY_PARAM]=s.toString(10);let y=(0,lS.getCanonicalHeaders)(g,i,a);return g.query[be.SIGNED_HEADERS_QUERY_PARAM]=fS(y),g.query[be.SIGNATURE_QUERY_PARAM]=await this.getSignature(p,_,this.getSigningKey(u,f,m,d),this.createCanonicalRequest(g,y,await(0,Mh.getPayloadHash)(t,this.sha256))),g}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){let a=i??await this.regionProvider(),{shortDate:c,longDate:d}=qc(n),u=(0,xc.createScope)(c,a,o??this.service),f=await(0,Mh.getPayloadHash)({headers:{},body:r},this.sha256),p=new this.sha256;p.update(t);let m=(0,Tc.toHex)(await p.digest()),_=[be.EVENT_ALGORITHM_IDENTIFIER,d,u,s,m,f].join(`
`);return this.signString(_,{signingDate:n,signingRegion:a,signingService:o})}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let o=n??await this.regionProvider(),{shortDate:a}=qc(r),c=new this.sha256(await this.getSigningKey(i,o,a,s));return c.update((0,Nh.toUint8Array)(t)),(0,Tc.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),d=(0,uS.prepareRequest)(t),{longDate:u,shortDate:f}=qc(r),p=(0,xc.createScope)(f,c,o??this.service);d.headers[be.AMZ_DATE_HEADER]=u,a.sessionToken&&(d.headers[be.TOKEN_HEADER]=a.sessionToken);let m=await(0,Mh.getPayloadHash)(d,this.sha256);!(0,Mj.hasHeader)(be.SHA256_HEADER,d.headers)&&this.applyChecksum&&(d.headers[be.SHA256_HEADER]=m);let _=(0,lS.getCanonicalHeaders)(d,s,n),g=await this.getSignature(u,p,this.getSigningKey(a,c,f,o),this.createCanonicalRequest(d,_,m));return d.headers[be.AUTH_HEADER]=`${be.ALGORITHM_IDENTIFIER} Credential=${a.accessKeyId}/${p}, SignedHeaders=${fS(_)}, Signature=${g}`,d}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${(0,Nj.getCanonicalQuery)(t)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n){let s=new this.sha256;s.update((0,Nh.toUint8Array)(n));let i=await s.digest();return`${be.ALGORITHM_IDENTIFIER}
${t}
${r}
${(0,Tc.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,s){let i=await this.createStringToSign(t,r,s),o=new this.sha256(await n);return o.update((0,Nh.toUint8Array)(i)),(0,Tc.toHex)(await o.digest())}getSigningKey(t,r,n,s){return(0,xc.getSigningKey)(this.sha256,t,n,r,s||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};Oc.SignatureV4=kh;var qc=e=>{let t=(0,Dj.iso8601)(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},fS=e=>Object.keys(e).sort().join(";")});var Dh=l($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.prepareRequest=$e.moveHeadersToQuery=$e.getPayloadHash=$e.getCanonicalQuery=$e.getCanonicalHeaders=void 0;var mS=A();mS.__exportStar(pS(),$e);var jj=bh();Object.defineProperty($e,"getCanonicalHeaders",{enumerable:!0,get:function(){return jj.getCanonicalHeaders}});var Lj=Ch();Object.defineProperty($e,"getCanonicalQuery",{enumerable:!0,get:function(){return Lj.getCanonicalQuery}});var zj=Th();Object.defineProperty($e,"getPayloadHash",{enumerable:!0,get:function(){return zj.getPayloadHash}});var Fj=qh();Object.defineProperty($e,"moveHeadersToQuery",{enumerable:!0,get:function(){return Fj.moveHeadersToQuery}});var Uj=Oh();Object.defineProperty($e,"prepareRequest",{enumerable:!0,get:function(){return Uj.prepareRequest}});mS.__exportStar(Ph(),$e)});var Lh=l((Fne,Mc)=>{var hS,_S,yS,gS,wS,vS,ES,SS,PS,Nc,jh,IS,bS,Vn,AS,RS,CS,TS,xS,qS,OS,NS,MS;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof Mc=="object"&&typeof Mc.exports=="object"?e(r(t,r(Mc.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])};hS=function(r,n){t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)},_S=Object.assign||function(r){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},yS=function(r,n){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&n.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(s[i[o]]=r[i[o]]);return s},gS=function(r,n,s,i){var o=arguments.length,a=o<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,s):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,n,s,i);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(a=(o<3?c(a):o>3?c(n,s,a):c(n,s))||a);return o>3&&a&&Object.defineProperty(n,s,a),a},wS=function(r,n){return function(s,i){n(s,i,r)}},vS=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},ES=function(r,n,s,i){function o(a){return a instanceof s?a:new s(function(c){c(a)})}return new(s||(s=Promise))(function(a,c){function d(p){try{f(i.next(p))}catch(m){c(m)}}function u(p){try{f(i.throw(p))}catch(m){c(m)}}function f(p){p.done?a(p.value):o(p.value).then(d,u)}f((i=i.apply(r,n||[])).next())})},SS=function(r,n){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(f){return function(p){return u([f,p])}}function u(f){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return s.label++,{value:f[1],done:!1};case 5:s.label++,o=f[1],f=[0];continue;case 7:f=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){s=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){s.label=f[1];break}if(f[0]===6&&s.label<a[1]){s.label=a[1],a=f;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(f);break}a[2]&&s.ops.pop(),s.trys.pop();continue}f=n.call(r,s)}catch(p){f=[6,p],o=0}finally{i=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},MS=function(r,n,s,i){i===void 0&&(i=s),r[i]=n[s]},PS=function(r,n){for(var s in r)s!=="default"&&!n.hasOwnProperty(s)&&(n[s]=r[s])},Nc=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&r[n],i=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},jh=function(r,n){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var i=s.call(r),o,a=[],c;try{for(;(n===void 0||n-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(c)throw c.error}}return a},IS=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(jh(arguments[n]));return r},bS=function(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;for(var i=Array(r),o=0,n=0;n<s;n++)for(var a=arguments[n],c=0,d=a.length;c<d;c++,o++)i[o]=a[c];return i},Vn=function(r){return this instanceof Vn?(this.v=r,this):new Vn(r)},AS=function(r,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(r,n||[]),o,a=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(_){i[_]&&(o[_]=function(g){return new Promise(function(y,P){a.push([_,g,y,P])>1||d(_,g)})})}function d(_,g){try{u(i[_](g))}catch(y){m(a[0][3],y)}}function u(_){_.value instanceof Vn?Promise.resolve(_.value.v).then(f,p):m(a[0][2],_)}function f(_){d("next",_)}function p(_){d("throw",_)}function m(_,g){_(g),a.shift(),a.length&&d(a[0][0],a[0][1])}},RS=function(r){var n,s;return n={},i("next"),i("throw",function(o){throw o}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(o,a){n[o]=r[o]?function(c){return(s=!s)?{value:Vn(r[o](c)),done:o==="return"}:a?a(c):c}:a}},CS=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],s;return n?n.call(r):(r=typeof Nc=="function"?Nc(r):r[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(a){s[a]=r[a]&&function(c){return new Promise(function(d,u){c=r[a](c),o(d,u,c.done,c.value)})}}function o(a,c,d,u){Promise.resolve(u).then(function(f){a({value:f,done:d})},c)}},TS=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},xS=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var s in r)Object.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n.default=r,n},qS=function(r){return r&&r.__esModule?r:{default:r}},OS=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},NS=function(r,n,s){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,s),s},e("__extends",hS),e("__assign",_S),e("__rest",yS),e("__decorate",gS),e("__param",wS),e("__metadata",vS),e("__awaiter",ES),e("__generator",SS),e("__exportStar",PS),e("__createBinding",MS),e("__values",Nc),e("__read",jh),e("__spread",IS),e("__spreadArrays",bS),e("__await",Vn),e("__asyncGenerator",AS),e("__asyncDelegator",RS),e("__asyncValues",CS),e("__makeTemplateObject",TS),e("__importStar",xS),e("__importDefault",qS),e("__classPrivateFieldGet",OS),e("__classPrivateFieldSet",NS)})});var zh=l(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.MAX_HASHABLE_LENGTH=tt.INIT=tt.KEY=tt.DIGEST_LENGTH=tt.BLOCK_SIZE=void 0;tt.BLOCK_SIZE=64;tt.DIGEST_LENGTH=32;tt.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);tt.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];tt.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var kS=l(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.RawSha256=void 0;var rt=zh(),$j=function(){function e(){this.state=Int32Array.from(rt.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>rt.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===rt.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%rt.BLOCK_SIZE>=rt.BLOCK_SIZE-8){for(var s=this.bufferLength;s<rt.BLOCK_SIZE;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<rt.BLOCK_SIZE-8;s++)r.setUint8(s,0);r.setUint32(rt.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(rt.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(rt.DIGEST_LENGTH),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,s=n[0],i=n[1],o=n[2],a=n[3],c=n[4],d=n[5],u=n[6],f=n[7],p=0;p<rt.BLOCK_SIZE;p++){if(p<16)this.temp[p]=(r[p*4]&255)<<24|(r[p*4+1]&255)<<16|(r[p*4+2]&255)<<8|r[p*4+3]&255;else{var m=this.temp[p-2],_=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[p-15];var g=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[p]=(_+this.temp[p-7]|0)+(g+this.temp[p-16]|0)}var y=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&d^~c&u)|0)+(f+(rt.KEY[p]+this.temp[p]|0)|0)|0,P=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&o^i&o)|0;f=u,u=d,d=c,c=a+y|0,a=o,o=i,i=s,s=y+P|0}n[0]+=s,n[1]+=i,n[2]+=o,n[3]+=a,n[4]+=c,n[5]+=d,n[6]+=u,n[7]+=f},e}();kc.RawSha256=$j});var DS=l(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.toUtf8=Wn.fromUtf8=void 0;var Hj=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let s=e.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192,s&63|128);else if(r+1<e.length&&(s&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let i=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else t.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(t)};Wn.fromUtf8=Hj;var Gj=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let s=e[r];if(s<128)t+=String.fromCharCode(s);else if(192<=s&&s<224){let i=e[++r];t+=String.fromCharCode((s&31)<<6|i&63)}else if(240<=s&&s<365){let o="%"+[s,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((s&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};Wn.toUtf8=Gj});var jS=l(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.toUtf8=Kn.fromUtf8=void 0;function Bj(e){return new TextEncoder().encode(e)}Kn.fromUtf8=Bj;function Vj(e){return new TextDecoder("utf-8").decode(e)}Kn.toUtf8=Vj});var FS=l(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.toUtf8=Jn.fromUtf8=void 0;var LS=DS(),zS=jS(),Wj=e=>typeof TextEncoder=="function"?(0,zS.fromUtf8)(e):(0,LS.fromUtf8)(e);Jn.fromUtf8=Wj;var Kj=e=>typeof TextDecoder=="function"?(0,zS.toUtf8)(e):(0,LS.toUtf8)(e);Jn.toUtf8=Kj});var US=l(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.convertToBuffer=void 0;var Jj=FS(),Yj=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Jj.fromUtf8;function Xj(e){return e instanceof Uint8Array?e:typeof e=="string"?Yj(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Dc.convertToBuffer=Xj});var $S=l(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.isEmptyData=void 0;function Qj(e){return typeof e=="string"?e.length===0:e.byteLength===0}jc.isEmptyData=Qj});var HS=l(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.numToUint8=void 0;function Zj(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Lc.numToUint8=Zj});var GS=l(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.uint32ArrayFrom=void 0;function eL(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}zc.uint32ArrayFrom=eL});var BS=l(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.uint32ArrayFrom=Rt.numToUint8=Rt.isEmptyData=Rt.convertToBuffer=void 0;var tL=US();Object.defineProperty(Rt,"convertToBuffer",{enumerable:!0,get:function(){return tL.convertToBuffer}});var rL=$S();Object.defineProperty(Rt,"isEmptyData",{enumerable:!0,get:function(){return rL.isEmptyData}});var nL=HS();Object.defineProperty(Rt,"numToUint8",{enumerable:!0,get:function(){return nL.numToUint8}});var sL=GS();Object.defineProperty(Rt,"uint32ArrayFrom",{enumerable:!0,get:function(){return sL.uint32ArrayFrom}})});var WS=l(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.Sha256=void 0;var VS=Lh(),Fc=zh(),Fh=kS(),Uh=BS(),iL=function(){function e(t){if(this.hash=new Fh.RawSha256,t){this.outer=new Fh.RawSha256;var r=oL(t),n=new Uint8Array(Fc.BLOCK_SIZE);n.set(r);for(var s=0;s<Fc.BLOCK_SIZE;s++)r[s]^=54,n[s]^=92;this.hash.update(r),this.outer.update(n);for(var s=0;s<r.byteLength;s++)r[s]=0}}return e.prototype.update=function(t){if(!((0,Uh.isEmptyData)(t)||this.error))try{this.hash.update((0,Uh.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return VS.__awaiter(this,void 0,void 0,function(){return VS.__generator(this,function(t){return[2,this.digestSync()]})})},e}();Uc.Sha256=iL;function oL(e){var t=(0,Uh.convertToBuffer)(e);if(t.byteLength>Fc.BLOCK_SIZE){var r=new Fh.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(Fc.BLOCK_SIZE);return n.set(t),n}});var KS=l($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});var aL=Lh();aL.__exportStar(WS(),$h)});var JS=l(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.booleanSelector=fn.SelectorType=void 0;var cL;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(cL=fn.SelectorType||(fn.SelectorType={}));var dL=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};fn.booleanSelector=dL});var Gh=l(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});var lL=A();lL.__exportStar(JS(),Hh)});var YS=l(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=nt.DEFAULT_USE_DUALSTACK_ENDPOINT=nt.CONFIG_USE_DUALSTACK_ENDPOINT=nt.ENV_USE_DUALSTACK_ENDPOINT=void 0;var $c=Gh();nt.ENV_USE_DUALSTACK_ENDPOINT="AWS_USE_DUALSTACK_ENDPOINT";nt.CONFIG_USE_DUALSTACK_ENDPOINT="use_dualstack_endpoint";nt.DEFAULT_USE_DUALSTACK_ENDPOINT=!1;nt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>(0,$c.booleanSelector)(e,nt.ENV_USE_DUALSTACK_ENDPOINT,$c.SelectorType.ENV),configFileSelector:e=>(0,$c.booleanSelector)(e,nt.CONFIG_USE_DUALSTACK_ENDPOINT,$c.SelectorType.CONFIG),default:!1}});var XS=l(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=st.DEFAULT_USE_FIPS_ENDPOINT=st.CONFIG_USE_FIPS_ENDPOINT=st.ENV_USE_FIPS_ENDPOINT=void 0;var Hc=Gh();st.ENV_USE_FIPS_ENDPOINT="AWS_USE_FIPS_ENDPOINT";st.CONFIG_USE_FIPS_ENDPOINT="use_fips_endpoint";st.DEFAULT_USE_FIPS_ENDPOINT=!1;st.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>(0,Hc.booleanSelector)(e,st.ENV_USE_FIPS_ENDPOINT,Hc.SelectorType.ENV),configFileSelector:e=>(0,Hc.booleanSelector)(e,st.CONFIG_USE_FIPS_ENDPOINT,Hc.SelectorType.CONFIG),default:!1}});var ZS=l(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.resolveCustomEndpointsConfig=void 0;var QS=cn(),uL=e=>{var t,r;let{endpoint:n,urlParser:s}=e;return{...e,tls:(t=e.tls)!==null&&t!==void 0?t:!0,endpoint:(0,QS.normalizeProvider)(typeof n=="string"?s(n):n),isCustomEndpoint:!0,useDualstackEndpoint:(0,QS.normalizeProvider)((r=e.useDualstackEndpoint)!==null&&r!==void 0?r:!1)}};Gc.resolveCustomEndpointsConfig=uL});var e0=l(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.getEndpointFromRegion=void 0;var fL=async e=>{var t;let{tls:r=!0}=e,n=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw new Error("Invalid region in client config");let i=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:a}=(t=await e.regionInfoProvider(n,{useDualstackEndpoint:i,useFipsEndpoint:o}))!==null&&t!==void 0?t:{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${r?"https:":"http:"}//${a}`)};Bc.getEndpointFromRegion=fL});var r0=l(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.resolveEndpointsConfig=void 0;var t0=cn(),pL=e0(),mL=e=>{var t,r;let n=(0,t0.normalizeProvider)((t=e.useDualstackEndpoint)!==null&&t!==void 0?t:!1),{endpoint:s,useFipsEndpoint:i,urlParser:o}=e;return{...e,tls:(r=e.tls)!==null&&r!==void 0?r:!0,endpoint:s?(0,t0.normalizeProvider)(typeof s=="string"?o(s):s):()=>(0,pL.getEndpointFromRegion)({...e,useDualstackEndpoint:n,useFipsEndpoint:i}),isCustomEndpoint:!!s,useDualstackEndpoint:n}};Vc.resolveEndpointsConfig=mL});var n0=l(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var Wc=A();Wc.__exportStar(YS(),Yn);Wc.__exportStar(XS(),Yn);Wc.__exportStar(ZS(),Yn);Wc.__exportStar(r0(),Yn)});var s0=l(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.NODE_REGION_CONFIG_FILE_OPTIONS=it.NODE_REGION_CONFIG_OPTIONS=it.REGION_INI_NAME=it.REGION_ENV_NAME=void 0;it.REGION_ENV_NAME="AWS_REGION";it.REGION_INI_NAME="region";it.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:e=>e[it.REGION_ENV_NAME],configFileSelector:e=>e[it.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};it.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var Bh=l(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.isFipsRegion=void 0;var hL=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));Kc.isFipsRegion=hL});var i0=l(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.getRealRegion=void 0;var _L=Bh(),yL=e=>(0,_L.isFipsRegion)(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;Jc.getRealRegion=yL});var a0=l(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.resolveRegionConfig=void 0;var o0=i0(),gL=Bh(),wL=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return(0,o0.getRealRegion)(t);let n=await t();return(0,o0.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return(0,gL.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};Yc.resolveRegionConfig=wL});var d0=l(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});var c0=A();c0.__exportStar(s0(),Xc);c0.__exportStar(a0(),Xc)});var u0=l(l0=>{"use strict";Object.defineProperty(l0,"__esModule",{value:!0})});var p0=l(f0=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0})});var m0=l(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.getHostnameFromVariants=void 0;var vL=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:s})=>t===s.includes("fips")&&r===s.includes("dualstack")))===null||n===void 0?void 0:n.hostname};Qc.getHostnameFromVariants=vL});var h0=l(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.getResolvedHostname=void 0;var EL=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0);Zc.getResolvedHostname=EL});var _0=l(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.getResolvedPartition=void 0;var SL=(e,{partitionHash:t})=>{var r;return(r=Object.keys(t||{}).find(n=>t[n].regions.includes(e)))!==null&&r!==void 0?r:"aws"};ed.getResolvedPartition=SL});var y0=l(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.getResolvedSigningRegion=void 0;var PL=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}};td.getResolvedSigningRegion=PL});var w0=l(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.getRegionInfo=void 0;var g0=m0(),IL=h0(),bL=_0(),AL=y0(),RL=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{var o,a,c,d,u,f;let p=(0,bL.getResolvedPartition)(e,{partitionHash:i}),m=e in s?e:(a=(o=i[p])===null||o===void 0?void 0:o.endpoint)!==null&&a!==void 0?a:e,_={useFipsEndpoint:t,useDualstackEndpoint:r},g=(0,g0.getHostnameFromVariants)((c=s[m])===null||c===void 0?void 0:c.variants,_),y=(0,g0.getHostnameFromVariants)((d=i[p])===null||d===void 0?void 0:d.variants,_),P=(0,IL.getResolvedHostname)(m,{regionHostname:g,partitionHostname:y});if(P===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:m,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let N=(0,AL.getResolvedSigningRegion)(P,{signingRegion:(u=s[m])===null||u===void 0?void 0:u.signingRegion,regionRegex:i[p].regionRegex,useFipsEndpoint:t});return{partition:p,signingService:n,hostname:P,...N&&{signingRegion:N},...((f=s[m])===null||f===void 0?void 0:f.signingService)&&{signingService:s[m].signingService}}};rd.getRegionInfo=RL});var v0=l(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});var Vh=A();Vh.__exportStar(u0(),zs);Vh.__exportStar(p0(),zs);Vh.__exportStar(w0(),zs)});var Ct=l(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var Wh=A();Wh.__exportStar(n0(),Fs);Wh.__exportStar(d0(),Fs);Wh.__exportStar(v0(),Fs)});var Kh=l(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.FieldPosition=void 0;var CL;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(CL=Us.FieldPosition||(Us.FieldPosition={}))});var E0=l(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.Field=void 0;var TL=Kh(),Jh=class{constructor({name:t,kind:r=TL.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};nd.Field=Jh});var S0=l(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.Fields=void 0;var Yh=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name]=t}getField(t){return this.entries[t]}removeField(t){delete this.entries[t]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};sd.Fields=Yh});var I0=l(P0=>{"use strict";Object.defineProperty(P0,"__esModule",{value:!0})});var b0=l(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.HttpRequest=void 0;var $s=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new $s({...this,headers:{...this.headers}});return t.query&&(t.query=xL(t.query)),t}};id.HttpRequest=$s;function xL(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}});var A0=l(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.HttpResponse=void 0;var Xh=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};od.HttpResponse=Xh});var R0=l(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.isValidHostname=void 0;function qL(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}ad.isValidHostname=qL});var ke=l(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});var pn=A();pn.__exportStar(E0(),ar);pn.__exportStar(Kh(),ar);pn.__exportStar(S0(),ar);pn.__exportStar(I0(),ar);pn.__exportStar(b0(),ar);pn.__exportStar(A0(),ar);pn.__exportStar(R0(),ar)});var Hs=l(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.getContentLengthPlugin=cr.contentLengthMiddlewareOptions=cr.contentLengthMiddleware=void 0;var OL=ke(),C0="content-length";function T0(e){return t=>async r=>{let n=r.request;if(OL.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(C0)===-1)try{let o=e(s);n.headers={...n.headers,[C0]:String(o)}}catch{}}return t({...r,request:n})}}cr.contentLengthMiddleware=T0;cr.contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0};var NL=e=>({applyToStack:t=>{t.add(T0(e.bodyLengthChecker),cr.contentLengthMiddlewareOptions)}});cr.getContentLengthPlugin=NL});var x0=l(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.isArnBucketName=He.isDnsCompatibleBucketName=He.S3_HOSTNAME_PATTERN=He.DOT_PATTERN=He.resolveParamsForS3=void 0;var ML=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(0,He.isArnBucketName)(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!(0,He.isDnsCompatibleBucketName)(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e};He.resolveParamsForS3=ML;var kL=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,DL=/(\d+\.){3}\d+/,jL=/\.\./;He.DOT_PATTERN=/\./;He.S3_HOSTNAME_PATTERN=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./;var LL=e=>kL.test(e)&&!DL.test(e)&&!jL.test(e);He.isDnsCompatibleBucketName=LL;var zL=e=>{let[t,r,n,s,i,o]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,c=[t,r,n,i,o].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!i&&!!o};He.isArnBucketName=zL});var q0=l(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});var FL=A();FL.__exportStar(x0(),Qh)});var O0=l(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.createConfigValueProvider=void 0;var UL=(e,t,r)=>{let n=async()=>{var s;let i=(s=r[e])!==null&&s!==void 0?s:r[t];return typeof i=="function"?i():i};return e==="endpoint"||t==="endpoint"?async()=>{let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n};cd.createConfigValueProvider=UL});var Zh=l(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.resolveParams=mn.getEndpointFromInstructions=void 0;var $L=q0(),HL=O0(),GL=async(e,t,r,n)=>{let s=await(0,mn.resolveParams)(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)};mn.getEndpointFromInstructions=GL;var BL=async(e,t,r)=>{var n;let s={},i=((n=t?.getEndpointParameterInstructions)===null||n===void 0?void 0:n.call(t))||{};for(let[o,a]of Object.entries(i))switch(a.type){case"staticContextParams":s[o]=a.value;break;case"contextParams":s[o]=e[a.name];break;case"clientContextParams":case"builtInParams":s[o]=await(0,HL.createConfigValueProvider)(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(s,r),String(r.serviceId).toLowerCase()==="s3"&&await(0,$L.resolveParamsForS3)(s),s};mn.resolveParams=BL});var N0=l(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.parseQueryString=void 0;function VL(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}dd.parseQueryString=VL});var hn=l(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.parseUrl=void 0;var WL=N0(),KL=e=>{if(typeof e=="string")return(0,Gs.parseUrl)(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=(0,WL.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}};Gs.parseUrl=KL});var e_=l(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.toEndpointV1=void 0;var M0=hn(),JL=e=>typeof e=="object"?"url"in e?(0,M0.parseUrl)(e.url):e:(0,M0.parseUrl)(e);ld.toEndpointV1=JL});var D0=l(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});var k0=A();k0.__exportStar(Zh(),ud);k0.__exportStar(e_(),ud)});var t_=l(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.endpointMiddleware=void 0;var YL=Zh(),XL=({config:e,instructions:t})=>(r,n)=>async s=>{var i,o;let a=await(0,YL.getEndpointFromInstructions)(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=a,n.authSchemes=(i=a.properties)===null||i===void 0?void 0:i.authSchemes;let c=(o=n.authSchemes)===null||o===void 0?void 0:o[0];return c&&(n.signing_region=c.signingRegion,n.signing_service=c.signingName),r({...s})};fd.endpointMiddleware=XL});var r_=l(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.deserializerMiddleware=void 0;var QL=(e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){throw Object.defineProperty(o,"$response",{value:i}),o}};pd.deserializerMiddleware=QL});var n_=l(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.serializerMiddleware=void 0;var ZL=(e,t)=>(r,n)=>async s=>{var i;let o=((i=n.endpointV2)===null||i===void 0?void 0:i.url)&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})};md.serializerMiddleware=ZL});var j0=l(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getSerdePlugin=Tt.serializerMiddlewareOption=Tt.deserializerMiddlewareOption=void 0;var ez=r_(),tz=n_();Tt.deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0};Tt.serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function rz(e,t,r){return{applyToStack:n=>{n.add((0,ez.deserializerMiddleware)(e,r),Tt.deserializerMiddlewareOption),n.add((0,tz.serializerMiddleware)(e,t),Tt.serializerMiddlewareOption)}}}Tt.getSerdePlugin=rz});var j=l(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});var s_=A();s_.__exportStar(r_(),Bs);s_.__exportStar(j0(),Bs);s_.__exportStar(n_(),Bs)});var L0=l(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.getEndpointPlugin=_n.endpointMiddlewareOptions=void 0;var nz=j(),sz=t_();_n.endpointMiddlewareOptions={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:nz.serializerMiddlewareOption.name};var iz=(e,t)=>({applyToStack:r=>{r.addRelativeTo((0,sz.endpointMiddleware)({config:e,instructions:t}),_n.endpointMiddlewareOptions)}});_n.getEndpointPlugin=iz});var z0=l(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.resolveEndpointConfig=void 0;var i_=cn(),oz=e_(),az=e=>{var t,r,n;let s=(t=e.tls)!==null&&t!==void 0?t:!0,{endpoint:i}=e,o=i!=null?async()=>(0,oz.toEndpointV1)(await(0,i_.normalizeProvider)(i)()):void 0;return{...e,endpoint:o,tls:s,isCustomEndpoint:!!i,useDualstackEndpoint:(0,i_.normalizeProvider)((r=e.useDualstackEndpoint)!==null&&r!==void 0?r:!1),useFipsEndpoint:(0,i_.normalizeProvider)((n=e.useFipsEndpoint)!==null&&n!==void 0?n:!1)}};hd.resolveEndpointConfig=az});var U0=l(F0=>{"use strict";Object.defineProperty(F0,"__esModule",{value:!0})});var k=l(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});var Vs=A();Vs.__exportStar(D0(),yn);Vs.__exportStar(t_(),yn);Vs.__exportStar(L0(),yn);Vs.__exportStar(z0(),yn);Vs.__exportStar(U0(),yn)});var Ws=l(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.getHostHeaderPlugin=ot.hostHeaderMiddlewareOptions=ot.hostHeaderMiddleware=ot.resolveHostHeaderConfig=void 0;var cz=ke();function dz(e){return e}ot.resolveHostHeaderConfig=dz;var lz=e=>t=>async r=>{if(!cz.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};return s.indexOf("h2")>=0&&!n.headers[":authority"]?(delete n.headers.host,n.headers[":authority"]=""):n.headers.host||(n.headers.host=n.hostname),t(r)};ot.hostHeaderMiddleware=lz;ot.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};var uz=e=>({applyToStack:t=>{t.add((0,ot.hostHeaderMiddleware)(e),ot.hostHeaderMiddlewareOptions)}});ot.getHostHeaderPlugin=uz});var $0=l(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.getLoggerPlugin=xt.loggerMiddlewareOptions=xt.loggerMiddleware=void 0;var fz=()=>(e,t)=>async r=>{let n=await e(r),{clientName:s,commandName:i,logger:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:f}=d;if(!o)return n;if(typeof o.info=="function"){let{$metadata:p,...m}=n.output;o.info({clientName:s,commandName:i,input:(u??a)(r.input),output:(f??c)(m),metadata:p})}return n};xt.loggerMiddleware=fz;xt.loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var pz=e=>({applyToStack:t=>{t.add((0,xt.loggerMiddleware)(),xt.loggerMiddlewareOptions)}});xt.getLoggerPlugin=pz});var Ks=l(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});var mz=A();mz.__exportStar($0(),o_)});var Js=l(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.getRecursionDetectionPlugin=qt.addRecursionDetectionMiddlewareOptions=qt.recursionDetectionMiddleware=void 0;var hz=ke(),H0="X-Amzn-Trace-Id",_z="AWS_LAMBDA_FUNCTION_NAME",yz="_X_AMZN_TRACE_ID",gz=e=>t=>async r=>{let{request:n}=r;if(!hz.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(H0))return t(r);let s=process.env[_z],i=process.env[yz],o=a=>typeof a=="string"&&a.length>0;return o(s)&&o(i)&&(n.headers[H0]=i),t({...r,request:n})};qt.recursionDetectionMiddleware=gz;qt.addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var wz=e=>({applyToStack:t=>{t.add((0,qt.recursionDetectionMiddleware)(e),qt.addRecursionDetectionMiddlewareOptions)}});qt.getRecursionDetectionPlugin=wz});var _d=l(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.DEFAULT_RETRY_MODE=dr.DEFAULT_MAX_ATTEMPTS=dr.RETRY_MODES=void 0;var vz;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(vz=dr.RETRY_MODES||(dr.RETRY_MODES={}));dr.DEFAULT_MAX_ATTEMPTS=3;dr.DEFAULT_RETRY_MODE="STANDARD"});var G0=l(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.NODEJS_TIMEOUT_ERROR_CODES=at.TRANSIENT_ERROR_STATUS_CODES=at.TRANSIENT_ERROR_CODES=at.THROTTLING_ERROR_CODES=at.CLOCK_SKEW_ERROR_CODES=void 0;at.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"];at.THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];at.TRANSIENT_ERROR_CODES=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"];at.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504];at.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var Xs=l(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.isServerError=Ke.isTransientError=Ke.isThrottlingError=Ke.isClockSkewError=Ke.isRetryableByTrait=void 0;var Ys=G0(),Ez=e=>e.$retryable!==void 0;Ke.isRetryableByTrait=Ez;var Sz=e=>Ys.CLOCK_SKEW_ERROR_CODES.includes(e.name);Ke.isClockSkewError=Sz;var Pz=e=>{var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||Ys.THROTTLING_ERROR_CODES.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0};Ke.isThrottlingError=Pz;var Iz=e=>{var t;return Ys.TRANSIENT_ERROR_CODES.includes(e.name)||Ys.NODEJS_TIMEOUT_ERROR_CODES.includes(e?.code||"")||Ys.TRANSIENT_ERROR_STATUS_CODES.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)};Ke.isTransientError=Iz;var bz=e=>{var t;if(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!(0,Ke.isTransientError)(e)}return!1};Ke.isServerError=bz});var c_=l(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.DefaultRateLimiter=void 0;var Az=Xs(),a_=class{constructor(t){var r,n,s,i,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r=t?.beta)!==null&&r!==void 0?r:.7,this.minCapacity=(n=t?.minCapacity)!==null&&n!==void 0?n:1,this.minFillRate=(s=t?.minFillRate)!==null&&s!==void 0?s:.5,this.scaleConstant=(i=t?.scaleConstant)!==null&&i!==void 0?i:.4,this.smooth=(o=t?.smooth)!==null&&o!==void 0?o:.8;let a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(!!this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,Az.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};yd.DefaultRateLimiter=a_});var Qs=l(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.REQUEST_HEADER=_e.INVOCATION_ID_HEADER=_e.NO_RETRY_INCREMENT=_e.TIMEOUT_RETRY_COST=_e.RETRY_COST=_e.INITIAL_RETRY_TOKENS=_e.THROTTLING_RETRY_DELAY_BASE=_e.MAXIMUM_RETRY_DELAY=_e.DEFAULT_RETRY_DELAY_BASE=void 0;_e.DEFAULT_RETRY_DELAY_BASE=100;_e.MAXIMUM_RETRY_DELAY=20*1e3;_e.THROTTLING_RETRY_DELAY_BASE=500;_e.INITIAL_RETRY_TOKENS=500;_e.RETRY_COST=5;_e.TIMEOUT_RETRY_COST=10;_e.NO_RETRY_INCREMENT=1;_e.INVOCATION_ID_HEADER="amz-sdk-invocation-id";_e.REQUEST_HEADER="amz-sdk-request"});var V0=l(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.getDefaultRetryBackoffStrategy=void 0;var B0=Qs(),Rz=()=>{let e=B0.DEFAULT_RETRY_DELAY_BASE;return{computeNextBackoffDelay:n=>Math.floor(Math.min(B0.MAXIMUM_RETRY_DELAY,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};gd.getDefaultRetryBackoffStrategy=Rz});var W0=l(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.getDefaultRetryToken=void 0;var Xn=Qs(),Cz=V0(),Tz=(e,t,r,n)=>{var s,i,o;let a=e,c=(s=n?.retryCost)!==null&&s!==void 0?s:Xn.RETRY_COST,d=(i=n?.timeoutRetryCost)!==null&&i!==void 0?i:Xn.TIMEOUT_RETRY_COST,u=(o=n?.retryBackoffStrategy)!==null&&o!==void 0?o:(0,Cz.getDefaultRetryBackoffStrategy)(),f=e,p=Math.min(Xn.MAXIMUM_RETRY_DELAY,t),m,_=r??0,g=Ne=>Ne==="TRANSIENT"?d:c,y=()=>_,P=()=>p,N=()=>m,M=Ne=>g(Ne)<=f;return{getRetryCount:y,getRetryDelay:P,getLastRetryCost:N,hasRetryTokens:M,getRetryTokenCount:Ne=>{let nr=Ne.errorType;if(!M(nr))throw new Error("No retry token available");let sn=g(nr),Gm=nr==="THROTTLING"?Xn.THROTTLING_RETRY_DELAY_BASE:Xn.DEFAULT_RETRY_DELAY_BASE;u.setDelayBase(Gm);let Ov=u.computeNextBackoffDelay(_);if(Ne.retryAfterHint){let EM=Ne.retryAfterHint.getTime()-Date.now();p=Math.max(EM||0,Ov)}else p=Ov;return _++,m=sn,f-=sn,sn},releaseRetryTokens:Ne=>{f+=Ne??Xn.NO_RETRY_INCREMENT,f=Math.min(f,a)}}};wd.getDefaultRetryToken=Tz});var u_=l(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.StandardRetryStrategy=void 0;var d_=_d(),K0=Qs(),xz=W0(),l_=class{constructor(t){this.maxAttemptsProvider=t,this.mode=d_.RETRY_MODES.STANDARD,this.retryToken=(0,xz.getDefaultRetryToken)(K0.INITIAL_RETRY_TOKENS,K0.DEFAULT_RETRY_DELAY_BASE),this.maxAttemptsProvider=t}async acquireInitialRetryToken(t){return this.retryToken}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n))return t.getRetryTokenCount(r),t;throw new Error("No retry token available")}recordSuccess(t){this.retryToken.releaseRetryTokens(t.getLastRetryCost())}async getMaxAttempts(){let t;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${d_.DEFAULT_MAX_ATTEMPTS}`),d_.DEFAULT_MAX_ATTEMPTS}}shouldRetry(t,r,n){return t.getRetryCount()<n&&t.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};vd.StandardRetryStrategy=l_});var J0=l(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.AdaptiveRetryStrategy=void 0;var qz=_d(),Oz=c_(),Nz=u_(),f_=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=qz.RETRY_MODES.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Oz.DefaultRateLimiter,this.standardRetryStrategy=new Nz.StandardRetryStrategy(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};Ed.AdaptiveRetryStrategy=f_});var X0=l(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0})});var ct=l(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});var Qn=A();Qn.__exportStar(J0(),Nr);Qn.__exportStar(c_(),Nr);Qn.__exportStar(u_(),Nr);Qn.__exportStar(_d(),Nr);Qn.__exportStar(Qs(),Nr);Qn.__exportStar(X0(),Nr)});var Q0=l(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.getDefaultRetryQuota=void 0;var p_=ct(),Mz=(e,t)=>{var r,n,s;let i=e,o=(r=t?.noRetryIncrement)!==null&&r!==void 0?r:p_.NO_RETRY_INCREMENT,a=(n=t?.retryCost)!==null&&n!==void 0?n:p_.RETRY_COST,c=(s=t?.timeoutRetryCost)!==null&&s!==void 0?s:p_.TIMEOUT_RETRY_COST,d=e,u=_=>_.name==="TimeoutError"?c:a,f=_=>u(_)<=d;return Object.freeze({hasRetryTokens:f,retrieveRetryTokens:_=>{if(!f(_))throw new Error("No retry token available");let g=u(_);return d-=g,g},releaseRetryTokens:_=>{d+=_??o,d=Math.min(d,i)}})};Sd.getDefaultRetryQuota=Mz});var m_=l(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.defaultDelayDecider=void 0;var kz=ct(),Dz=(e,t)=>Math.floor(Math.min(kz.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e));Pd.defaultDelayDecider=Dz});var h_=l(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.defaultRetryDecider=void 0;var Id=Xs(),jz=e=>e?(0,Id.isRetryableByTrait)(e)||(0,Id.isClockSkewError)(e)||(0,Id.isThrottlingError)(e)||(0,Id.isTransientError)(e):!1;bd.defaultRetryDecider=jz});var __=l(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.asSdkError=void 0;var Lz=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);Ad.asSdkError=Lz});var w_=l(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.StandardRetryStrategy=void 0;var y_=ke(),zz=Xs(),gn=ct(),Fz=sc(),Uz=Q0(),$z=m_(),Hz=h_(),Gz=__(),g_=class{constructor(t,r){var n,s,i;this.maxAttemptsProvider=t,this.mode=gn.RETRY_MODES.STANDARD,this.retryDecider=(n=r?.retryDecider)!==null&&n!==void 0?n:Hz.defaultRetryDecider,this.delayDecider=(s=r?.delayDecider)!==null&&s!==void 0?s:$z.defaultDelayDecider,this.retryQuota=(i=r?.retryQuota)!==null&&i!==void 0?i:(0,Uz.getDefaultRetryQuota)(gn.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=gn.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,i=0,o=0,a=await this.getMaxAttempts(),{request:c}=r;for(y_.HttpRequest.isInstance(c)&&(c.headers[gn.INVOCATION_ID_HEADER]=(0,Fz.v4)());;)try{y_.HttpRequest.isInstance(c)&&(c.headers[gn.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:u}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(s),u.$metadata.attempts=i+1,u.$metadata.totalRetryDelay=o,{response:d,output:u}}catch(d){let u=(0,Gz.asSdkError)(d);if(i++,this.shouldRetry(u,i,a)){s=this.retryQuota.retrieveRetryTokens(u);let f=this.delayDecider((0,zz.isThrottlingError)(u)?gn.THROTTLING_RETRY_DELAY_BASE:gn.DEFAULT_RETRY_DELAY_BASE,i),p=Bz(u.$response),m=Math.max(p||0,f);o+=m,await new Promise(_=>setTimeout(_,m));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=i,u.$metadata.totalRetryDelay=o,u}}};Rd.StandardRetryStrategy=g_;var Bz=e=>{if(!y_.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3}});var eP=l(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.AdaptiveRetryStrategy=void 0;var Z0=ct(),Vz=w_(),v_=class extends Vz.StandardRetryStrategy{constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new Z0.DefaultRateLimiter,this.mode=Z0.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};Cd.AdaptiveRetryStrategy=v_});var rP=l(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.NODE_RETRY_MODE_CONFIG_OPTIONS=ue.CONFIG_RETRY_MODE=ue.ENV_RETRY_MODE=ue.resolveRetryConfig=ue.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=ue.CONFIG_MAX_ATTEMPTS=ue.ENV_MAX_ATTEMPTS=void 0;var tP=cn(),Zn=ct();ue.ENV_MAX_ATTEMPTS="AWS_MAX_ATTEMPTS";ue.CONFIG_MAX_ATTEMPTS="max_attempts";ue.NODE_MAX_ATTEMPT_CONFIG_OPTIONS={environmentVariableSelector:e=>{let t=e[ue.ENV_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${ue.ENV_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[ue.CONFIG_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${ue.CONFIG_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},default:Zn.DEFAULT_MAX_ATTEMPTS};var Wz=e=>{var t;let{retryStrategy:r}=e,n=(0,tP.normalizeProvider)((t=e.maxAttempts)!==null&&t!==void 0?t:Zn.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:n,retryStrategy:async()=>r||(await(0,tP.normalizeProvider)(e.retryMode)()===Zn.RETRY_MODES.ADAPTIVE?new Zn.AdaptiveRetryStrategy(n):new Zn.StandardRetryStrategy(n))}};ue.resolveRetryConfig=Wz;ue.ENV_RETRY_MODE="AWS_RETRY_MODE";ue.CONFIG_RETRY_MODE="retry_mode";ue.NODE_RETRY_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[ue.ENV_RETRY_MODE],configFileSelector:e=>e[ue.CONFIG_RETRY_MODE],default:Zn.DEFAULT_RETRY_MODE}});var sP=l(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getOmitRetryHeadersPlugin=Ot.omitRetryHeadersMiddlewareOptions=Ot.omitRetryHeadersMiddleware=void 0;var Kz=ke(),nP=ct(),Jz=()=>e=>async t=>{let{request:r}=t;return Kz.HttpRequest.isInstance(r)&&(delete r.headers[nP.INVOCATION_ID_HEADER],delete r.headers[nP.REQUEST_HEADER]),e(t)};Ot.omitRetryHeadersMiddleware=Jz;Ot.omitRetryHeadersMiddlewareOptions={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0};var Yz=e=>({applyToStack:t=>{t.addRelativeTo((0,Ot.omitRetryHeadersMiddleware)(),Ot.omitRetryHeadersMiddlewareOptions)}});Ot.getOmitRetryHeadersPlugin=Yz});var oP=l(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.getRetryAfterHint=Je.getRetryPlugin=Je.retryMiddlewareOptions=Je.retryMiddleware=void 0;var S_=ke(),E_=Xs(),iP=ct(),Xz=sc(),Qz=__(),Zz=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(eF(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:u}=n;for(S_.HttpRequest.isInstance(u)&&(u.headers[iP.INVOCATION_ID_HEADER]=(0,Xz.v4)());;)try{S_.HttpRequest.isInstance(u)&&(u.headers[iP.REQUEST_HEADER]=`attempt=${c+1}; max=${i}`);let{response:f,output:p}=await t(n);return s.recordSuccess(o),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=d,{response:f,output:p}}catch(f){let p=tF(f);a=(0,Qz.asSdkError)(f);try{o=await s.refreshRetryTokenForRetry(o,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=o.getRetryCount();let m=o.getRetryDelay();d+=m,await new Promise(_=>setTimeout(_,m))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)};Je.retryMiddleware=Zz;var eF=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",tF=e=>{let t={errorType:rF(e)},r=(0,Je.getRetryAfterHint)(e.$response);return r&&(t.retryAfterHint=r),t},rF=e=>(0,E_.isThrottlingError)(e)?"THROTTLING":(0,E_.isTransientError)(e)?"TRANSIENT":(0,E_.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR";Je.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0};var nF=e=>({applyToStack:t=>{t.add((0,Je.retryMiddleware)(e),Je.retryMiddlewareOptions)}});Je.getRetryPlugin=nF;var sF=e=>{if(!S_.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Je.getRetryAfterHint=sF});var ur=l(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});var wn=A();wn.__exportStar(eP(),lr);wn.__exportStar(w_(),lr);wn.__exportStar(rP(),lr);wn.__exportStar(m_(),lr);wn.__exportStar(sP(),lr);wn.__exportStar(h_(),lr);wn.__exportStar(oP(),lr)});var ei=l(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.ProviderError=void 0;var Zs=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,Zs.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Td.ProviderError=Zs});var aP=l(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.CredentialsProviderError=void 0;var iF=ei(),ti=class extends iF.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,ti.prototype)}};xd.CredentialsProviderError=ti});var cP=l(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.TokenProviderError=void 0;var oF=ei(),ri=class extends oF.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,ri.prototype)}};qd.TokenProviderError=ri});var dP=l(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.chain=void 0;var aF=ei();function cF(...e){return()=>{let t=Promise.reject(new aF.ProviderError("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n?.tryNextLink)return r();throw n});return t}}Od.chain=cF});var lP=l(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.fromStatic=void 0;var dF=e=>()=>Promise.resolve(e);Nd.fromStatic=dF});var uP=l(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.memoize=void 0;var lF=(e,t,r)=>{let n,s,i,o=!1,a=async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))};Md.memoize=lF});var V=l(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});var es=A();es.__exportStar(aP(),Mr);es.__exportStar(ei(),Mr);es.__exportStar(cP(),Mr);es.__exportStar(dP(),Mr);es.__exportStar(lP(),Mr);es.__exportStar(uP(),Mr)});var pP=l(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.resolveSigV4AuthConfig=rs.resolveAwsAuthConfig=void 0;var uF=V(),P_=Dh(),ts=cn(),fF=3e5,pF=e=>{let t=e.credentials?fP(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e,i;return e.signer?i=(0,ts.normalizeProvider)(e.signer):e.regionInfoProvider?i=()=>(0,ts.normalizeProvider)(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{let{signingRegion:c,signingService:d}=o;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let u={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},f=e.signerConstructor||P_.SignatureV4;return new f(u)}):i=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,ts.normalizeProvider)(e.region)(),properties:{}},o);let a=o.signingRegion,c=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},u=e.signerConstructor||P_.SignatureV4;return new u(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}};rs.resolveAwsAuthConfig=pF;var mF=e=>{let t=e.credentials?fP(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e,i;return e.signer?i=(0,ts.normalizeProvider)(e.signer):i=(0,ts.normalizeProvider)(new P_.SignatureV4({credentials:t,region:e.region,service:e.signingName,sha256:s,uriEscapePath:r})),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}};rs.resolveSigV4AuthConfig=mF;var fP=e=>typeof e=="function"?(0,uF.memoize)(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<fF,t=>t.expiration!==void 0):(0,ts.normalizeProvider)(e)});var I_=l(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.getSkewCorrectedDate=void 0;var hF=e=>new Date(Date.now()+e);kd.getSkewCorrectedDate=hF});var mP=l(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.isClockSkewed=void 0;var _F=I_(),yF=(e,t)=>Math.abs((0,_F.getSkewCorrectedDate)(t).getTime()-e)>=3e5;Dd.isClockSkewed=yF});var hP=l(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.getUpdatedSystemClockOffset=void 0;var gF=mP(),wF=(e,t)=>{let r=Date.parse(e);return(0,gF.isClockSkewed)(r,t)?r-Date.now():t};jd.getUpdatedSystemClockOffset=wF});var wP=l(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getSigV4AuthPlugin=Ye.getAwsAuthPlugin=Ye.awsAuthMiddlewareOptions=Ye.awsAuthMiddleware=void 0;var gP=ke(),vF=I_(),_P=hP(),EF=e=>(t,r)=>async function(n){var s,i,o,a;if(!gP.HttpRequest.isInstance(n.request))return t(n);let c=(o=(i=(s=r.endpointV2)===null||s===void 0?void 0:s.properties)===null||i===void 0?void 0:i.authSchemes)===null||o===void 0?void 0:o[0],d=c?.name==="sigv4a"?(a=c?.signingRegionSet)===null||a===void 0?void 0:a.join(","):void 0,u=await e.signer(c),f=await t({...n,request:await u.sign(n.request,{signingDate:(0,vF.getSkewCorrectedDate)(e.systemClockOffset),signingRegion:d||r.signing_region,signingService:r.signing_service})}).catch(m=>{var _;let g=(_=m.ServerTime)!==null&&_!==void 0?_:yP(m.$response);throw g&&(e.systemClockOffset=(0,_P.getUpdatedSystemClockOffset)(g,e.systemClockOffset)),m}),p=yP(f.response);return p&&(e.systemClockOffset=(0,_P.getUpdatedSystemClockOffset)(p,e.systemClockOffset)),f};Ye.awsAuthMiddleware=EF;var yP=e=>{var t,r,n;return gP.HttpResponse.isInstance(e)?(r=(t=e.headers)===null||t===void 0?void 0:t.date)!==null&&r!==void 0?r:(n=e.headers)===null||n===void 0?void 0:n.Date:void 0};Ye.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};var SF=e=>({applyToStack:t=>{t.addRelativeTo((0,Ye.awsAuthMiddleware)(e),Ye.awsAuthMiddlewareOptions)}});Ye.getAwsAuthPlugin=SF;Ye.getSigV4AuthPlugin=Ye.getAwsAuthPlugin});var J=l(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});var vP=A();vP.__exportStar(pP(),Ld);vP.__exportStar(wP(),Ld)});var EP=l(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.resolveUserAgentConfig=void 0;function PF(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}zd.resolveUserAgentConfig=PF});var SP=l(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.UA_ESCAPE_REGEX=Nt.SPACE=Nt.X_AMZ_USER_AGENT=Nt.USER_AGENT=void 0;Nt.USER_AGENT="user-agent";Nt.X_AMZ_USER_AGENT="x-amz-user-agent";Nt.SPACE=" ";Nt.UA_ESCAPE_REGEX=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g});var PP=l(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.getUserAgentPlugin=Mt.getUserAgentMiddlewareOptions=Mt.userAgentMiddleware=void 0;var IF=ke(),kr=SP(),bF=e=>(t,r)=>async n=>{var s,i;let{request:o}=n;if(!IF.HttpRequest.isInstance(o))return t(n);let{headers:a}=o,c=((s=r?.userAgent)===null||s===void 0?void 0:s.map(b_))||[],d=(await e.defaultUserAgentProvider()).map(b_),u=((i=e?.customUserAgent)===null||i===void 0?void 0:i.map(b_))||[],f=[...d,...c,...u].join(kr.SPACE),p=[...d.filter(m=>m.startsWith("aws-sdk-")),...u].join(kr.SPACE);return e.runtime!=="browser"?(p&&(a[kr.X_AMZ_USER_AGENT]=a[kr.X_AMZ_USER_AGENT]?`${a[kr.USER_AGENT]} ${p}`:p),a[kr.USER_AGENT]=f):a[kr.X_AMZ_USER_AGENT]=f,t({...n,request:o})};Mt.userAgentMiddleware=bF;var b_=([e,t])=>{let r=e.indexOf("/"),n=e.substring(0,r),s=e.substring(r+1);return n==="api"&&(s=s.toLowerCase()),[n,s,t].filter(i=>i&&i.length>0).map(i=>i?.replace(kr.UA_ESCAPE_REGEX,"_")).join("/")};Mt.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var AF=e=>({applyToStack:t=>{t.add((0,Mt.userAgentMiddleware)(e),Mt.getUserAgentMiddlewareOptions)}});Mt.getUserAgentPlugin=AF});var ni=l(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});var IP=A();IP.__exportStar(EP(),Fd);IP.__exportStar(PP(),Fd)});var bP=l(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.NoOpLogger=void 0;var A_=class{trace(){}debug(){}info(){}warn(){}error(){}};Ud.NoOpLogger=A_});var CP=l(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.constructStack=void 0;var RF=()=>{let e=[],t=[],r=new Set,n=u=>u.sort((f,p)=>AP[p.step]-AP[f.step]||RP[p.priority||"normal"]-RP[f.priority||"normal"]),s=u=>{let f=!1,p=m=>m.name&&m.name===u?(f=!0,r.delete(u),!1):!0;return e=e.filter(p),t=t.filter(p),f},i=u=>{let f=!1,p=m=>m.middleware===u?(f=!0,m.name&&r.delete(m.name),!1):!0;return e=e.filter(p),t=t.filter(p),f},o=u=>(e.forEach(f=>{u.add(f.middleware,{...f})}),t.forEach(f=>{u.addRelativeTo(f.middleware,{...f})}),u),a=u=>{let f=[];return u.before.forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...a(p))}),f.push(u),u.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...a(p))}),f},c=(u=!1)=>{let f=[],p=[],m={};return e.forEach(g=>{let y={...g,before:[],after:[]};y.name&&(m[y.name]=y),f.push(y)}),t.forEach(g=>{let y={...g,before:[],after:[]};y.name&&(m[y.name]=y),p.push(y)}),p.forEach(g=>{if(g.toMiddleware){let y=m[g.toMiddleware];if(y===void 0){if(u)return;throw new Error(`${g.toMiddleware} is not found when adding ${g.name||"anonymous"} middleware ${g.relation} ${g.toMiddleware}`)}g.relation==="after"&&y.after.push(g),g.relation==="before"&&y.before.push(g)}}),n(f).map(a).reduce((g,y)=>(g.push(...y),g),[])},d={add:(u,f={})=>{let{name:p,override:m}=f,_={step:"initialize",priority:"normal",middleware:u,...f};if(p){if(r.has(p)){if(!m)throw new Error(`Duplicate middleware name '${p}'`);let g=e.findIndex(P=>P.name===p),y=e[g];if(y.step!==_.step||y.priority!==_.priority)throw new Error(`"${p}" middleware with ${y.priority} priority in ${y.step} step cannot be overridden by same-name middleware with ${_.priority} priority in ${_.step} step.`);e.splice(g,1)}r.add(p)}e.push(_)},addRelativeTo:(u,f)=>{let{name:p,override:m}=f,_={middleware:u,...f};if(p){if(r.has(p)){if(!m)throw new Error(`Duplicate middleware name '${p}'`);let g=t.findIndex(P=>P.name===p),y=t[g];if(y.toMiddleware!==_.toMiddleware||y.relation!==_.relation)throw new Error(`"${p}" middleware ${y.relation} "${y.toMiddleware}" middleware cannot be overridden by same-name middleware ${_.relation} "${_.toMiddleware}" middleware.`);t.splice(g,1)}r.add(p)}t.push(_)},clone:()=>o((0,ns.constructStack)()),use:u=>{u.applyToStack(d)},remove:u=>typeof u=="string"?s(u):i(u),removeByTag:u=>{let f=!1,p=m=>{let{tags:_,name:g}=m;return _&&_.includes(u)?(g&&r.delete(g),f=!0,!1):!0};return e=e.filter(p),t=t.filter(p),f},concat:u=>{let f=o((0,ns.constructStack)());return f.use(u),f},applyToStack:o,identify:()=>c(!0).map(u=>u.name+": "+(u.tags||[]).join(",")),resolve:(u,f)=>{for(let p of c().map(m=>m.middleware).reverse())u=p(u,f);return u}};return d};ns.constructStack=RF;var AP={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},RP={high:3,normal:2,low:1}});var C_=l(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});var CF=A();CF.__exportStar(CP(),R_)});var TP=l($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.Client=void 0;var TF=C_(),T_=class{constructor(t){this.middlewareStack=(0,TF.constructStack)(),this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,s);if(i)o(t).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};$d.Client=T_});var xP=l(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.Command=void 0;var xF=C_(),x_=class{constructor(){this.middlewareStack=(0,xF.constructStack)()}};Hd.Command=x_});var qP=l(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.SENSITIVE_STRING=void 0;Gd.SENSITIVE_STRING="***SensitiveInformation***"});var O_=l(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.logger=b.strictParseByte=b.strictParseShort=b.strictParseInt32=b.strictParseInt=b.strictParseLong=b.limitedParseFloat32=b.limitedParseFloat=b.handleFloat=b.limitedParseDouble=b.strictParseFloat32=b.strictParseFloat=b.strictParseDouble=b.expectUnion=b.expectString=b.expectObject=b.expectNonNull=b.expectByte=b.expectShort=b.expectInt32=b.expectInt=b.expectLong=b.expectFloat32=b.expectNumber=b.expectBoolean=b.parseBoolean=void 0;var qF=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};b.parseBoolean=qF;var OF=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&b.logger.warn(Bd(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&b.logger.warn(Bd(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}};b.expectBoolean=OF;var NF=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&b.logger.warn(Bd(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}};b.expectNumber=NF;var MF=Math.ceil(2**127*(2-2**-23)),kF=e=>{let t=(0,b.expectNumber)(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>MF)throw new TypeError(`Expected 32-bit float, got ${e}`);return t};b.expectFloat32=kF;var DF=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};b.expectLong=DF;b.expectInt=b.expectLong;var jF=e=>q_(e,32);b.expectInt32=jF;var LF=e=>q_(e,16);b.expectShort=LF;var zF=e=>q_(e,8);b.expectByte=zF;var q_=(e,t)=>{let r=(0,b.expectLong)(e);if(r!==void 0&&FF(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},FF=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},UF=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e};b.expectNonNull=UF;var $F=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)};b.expectObject=$F;var HF=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return b.logger.warn(Bd(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};b.expectString=HF;var GF=e=>{if(e==null)return;let t=(0,b.expectObject)(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t};b.expectUnion=GF;var BF=e=>typeof e=="string"?(0,b.expectNumber)(ss(e)):(0,b.expectNumber)(e);b.strictParseDouble=BF;b.strictParseFloat=b.strictParseDouble;var VF=e=>typeof e=="string"?(0,b.expectFloat32)(ss(e)):(0,b.expectFloat32)(e);b.strictParseFloat32=VF;var WF=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ss=e=>{let t=e.match(WF);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},KF=e=>typeof e=="string"?OP(e):(0,b.expectNumber)(e);b.limitedParseDouble=KF;b.handleFloat=b.limitedParseDouble;b.limitedParseFloat=b.limitedParseDouble;var JF=e=>typeof e=="string"?OP(e):(0,b.expectFloat32)(e);b.limitedParseFloat32=JF;var OP=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},YF=e=>typeof e=="string"?(0,b.expectLong)(ss(e)):(0,b.expectLong)(e);b.strictParseLong=YF;b.strictParseInt=b.strictParseLong;var XF=e=>typeof e=="string"?(0,b.expectInt32)(ss(e)):(0,b.expectInt32)(e);b.strictParseInt32=XF;var QF=e=>typeof e=="string"?(0,b.expectShort)(ss(e)):(0,b.expectShort)(e);b.strictParseShort=QF;var ZF=e=>typeof e=="string"?(0,b.expectByte)(ss(e)):(0,b.expectByte)(e);b.strictParseByte=ZF;var Bd=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`);b.logger={warn:console.warn}});var NP=l(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.parseEpochTimestamp=dt.parseRfc7231DateTime=dt.parseRfc3339DateTimeWithOffset=dt.parseRfc3339DateTime=dt.dateToUtcString=void 0;var Dr=O_(),eU=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],M_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function tU(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,u=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`;return`${eU[n]}, ${c} ${M_[r]} ${t} ${d}:${u}:${f} GMT`}dt.dateToUtcString=tU;var rU=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),nU=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=rU.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,d]=t,u=(0,Dr.strictParseShort)(is(n)),f=kt(s,"month",1,12),p=kt(i,"day",1,31);return si(u,f,p,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d})};dt.parseRfc3339DateTime=nU;var sU=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),iU=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=sU.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,d,u]=t,f=(0,Dr.strictParseShort)(is(n)),p=kt(s,"month",1,12),m=kt(i,"day",1,31),_=si(f,p,m,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d});return u.toUpperCase()!="Z"&&_.setTime(_.getTime()-gU(u)),_};dt.parseRfc3339DateTimeWithOffset=iU;var oU=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),aU=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),cU=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),dU=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=oU.exec(e);if(t){let[r,n,s,i,o,a,c,d]=t;return si((0,Dr.strictParseShort)(is(i)),N_(s),kt(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=aU.exec(e),t){let[r,n,s,i,o,a,c,d]=t;return pU(si(uU(i),N_(s),kt(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=cU.exec(e),t){let[r,n,s,i,o,a,c,d]=t;return si((0,Dr.strictParseShort)(is(d)),N_(n),kt(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")};dt.parseRfc7231DateTime=dU;var lU=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=(0,Dr.strictParseDouble)(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))};dt.parseEpochTimestamp=lU;var si=(e,t,r,n)=>{let s=t-1;return hU(e,s,r),new Date(Date.UTC(e,s,r,kt(n.hours,"hour",0,23),kt(n.minutes,"minute",0,59),kt(n.seconds,"seconds",0,60),yU(n.fractionalMilliseconds)))},uU=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+(0,Dr.strictParseShort)(is(e));return r<t?r+100:r},fU=50*365*24*60*60*1e3,pU=e=>e.getTime()-new Date().getTime()>fU?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,N_=e=>{let t=M_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},mU=[31,28,31,30,31,30,31,31,30,31,30,31],hU=(e,t,r)=>{let n=mU[t];if(t===1&&_U(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${M_[t]} in ${e}: ${r}`)},_U=e=>e%4===0&&(e%100!==0||e%400===0),kt=(e,t,r,n)=>{let s=(0,Dr.strictParseByte)(is(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},yU=e=>e==null?0:(0,Dr.strictParseFloat32)("0."+e)*1e3,gU=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},is=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var k_=l(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.decorateServiceException=os.ServiceException=void 0;var ii=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,ii.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};os.ServiceException=ii;var wU=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};os.decorateServiceException=wU});var MP=l(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.throwDefaultError=void 0;var vU=k_(),EU=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=SU(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t.code||t.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw(0,vU.decorateServiceException)(o,t)};Vd.throwDefaultError=EU;var SU=e=>{var t,r;return{httpStatusCode:e.statusCode,requestId:(r=(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"])!==null&&r!==void 0?r:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}});var kP=l(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.loadConfigsForDefaultMode=void 0;var PU=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};Wd.loadConfigsForDefaultMode=PU});var jP=l(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.emitWarningIfUnsupportedVersion=void 0;var DP=!1,IU=e=>{e&&!DP&&parseInt(e.substring(1,e.indexOf(".")))<14&&(DP=!0)};Kd.emitWarningIfUnsupportedVersion=IU});var D_=l(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.extendedEncodeURIComponent=void 0;function bU(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}Jd.extendedEncodeURIComponent=bU});var LP=l(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.getArrayIfSingleItem=void 0;var AU=e=>Array.isArray(e)?e:[e];Yd.getArrayIfSingleItem=AU});var zP=l(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.getValueFromTextNode=void 0;var RU=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=(0,oi.getValueFromTextNode)(e[r]));return e};oi.getValueFromTextNode=RU});var FP=l(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.LazyJsonString=Dt.StringWrapper=void 0;var CU=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Dt.StringWrapper=CU;Dt.StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:Dt.StringWrapper,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Dt.StringWrapper,String);var vn=class extends Dt.StringWrapper{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof vn?t:t instanceof String||typeof t=="string"?new vn(t):new vn(JSON.stringify(t))}};Dt.LazyJsonString=vn});var $P=l(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.convertMap=as.map=void 0;function UP(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,xU(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}let[a,c]=i[o];if(typeof c=="function"){let d,u=a===void 0&&(d=c())!=null,f=typeof a=="function"&&!!a(void 0)||typeof a!="function"&&!!a;u?n[o]=d:f&&(n[o]=c())}else{let d=a===void 0&&c!=null,u=typeof a=="function"&&!!a(c)||typeof a!="function"&&!!a;(d||u)&&(n[o]=c)}}return n}as.map=UP;var TU=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t};as.convertMap=TU;var xU=(e,t,r)=>UP(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{}))});var GP=l(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.resolvedPath=void 0;var HP=D_(),qU=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>(0,HP.extendedEncodeURIComponent)(a)).join("/"):(0,HP.extendedEncodeURIComponent)(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};Xd.resolvedPath=qU});var BP=l(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.serializeFloat=void 0;var OU=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};Qd.serializeFloat=OU});var VP=l(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.splitEvery=void 0;function NU(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}Zd.splitEvery=NU});var R=l(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});var Ee=A();Ee.__exportStar(bP(),ye);Ee.__exportStar(TP(),ye);Ee.__exportStar(xP(),ye);Ee.__exportStar(qP(),ye);Ee.__exportStar(NP(),ye);Ee.__exportStar(MP(),ye);Ee.__exportStar(kP(),ye);Ee.__exportStar(jP(),ye);Ee.__exportStar(k_(),ye);Ee.__exportStar(D_(),ye);Ee.__exportStar(LP(),ye);Ee.__exportStar(zP(),ye);Ee.__exportStar(FP(),ye);Ee.__exportStar($P(),ye);Ee.__exportStar(O_(),ye);Ee.__exportStar(GP(),ye);Ee.__exportStar(BP(),ye);Ee.__exportStar(VP(),ye)});var WP=l(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.resolveClientEndpointParameters=void 0;var MU=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"});el.resolveClientEndpointParameters=MU});var KP=l((noe,kU)=>{kU.exports={name:"@aws-sdk/client-cognito-identity",description:"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",version:"3.276.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.276.0","@aws-sdk/config-resolver":"3.272.0","@aws-sdk/credential-provider-node":"3.272.0","@aws-sdk/fetch-http-handler":"3.272.0","@aws-sdk/hash-node":"3.272.0","@aws-sdk/invalid-dependency":"3.272.0","@aws-sdk/middleware-content-length":"3.272.0","@aws-sdk/middleware-endpoint":"3.272.0","@aws-sdk/middleware-host-header":"3.272.0","@aws-sdk/middleware-logger":"3.272.0","@aws-sdk/middleware-recursion-detection":"3.272.0","@aws-sdk/middleware-retry":"3.272.0","@aws-sdk/middleware-serde":"3.272.0","@aws-sdk/middleware-signing":"3.272.0","@aws-sdk/middleware-stack":"3.272.0","@aws-sdk/middleware-user-agent":"3.272.0","@aws-sdk/node-config-provider":"3.272.0","@aws-sdk/node-http-handler":"3.272.0","@aws-sdk/protocol-http":"3.272.0","@aws-sdk/smithy-client":"3.272.0","@aws-sdk/types":"3.272.0","@aws-sdk/url-parser":"3.272.0","@aws-sdk/util-base64":"3.208.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.208.0","@aws-sdk/util-defaults-mode-browser":"3.272.0","@aws-sdk/util-defaults-mode-node":"3.272.0","@aws-sdk/util-endpoints":"3.272.0","@aws-sdk/util-retry":"3.272.0","@aws-sdk/util-user-agent-browser":"3.272.0","@aws-sdk/util-user-agent-node":"3.272.0","@aws-sdk/util-utf8":"3.254.0",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/client-iam":"3.276.0","@aws-sdk/service-client-documentation-generator":"3.208.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"}}});var rl=l(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.STSServiceException=void 0;var DU=R(),ai=class extends DU.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,ai.prototype)}};tl.STSServiceException=ai});var Et=l(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.GetSessionTokenResponseFilterSensitiveLog=q.GetSessionTokenRequestFilterSensitiveLog=q.GetFederationTokenResponseFilterSensitiveLog=q.FederatedUserFilterSensitiveLog=q.GetFederationTokenRequestFilterSensitiveLog=q.GetCallerIdentityResponseFilterSensitiveLog=q.GetCallerIdentityRequestFilterSensitiveLog=q.GetAccessKeyInfoResponseFilterSensitiveLog=q.GetAccessKeyInfoRequestFilterSensitiveLog=q.DecodeAuthorizationMessageResponseFilterSensitiveLog=q.DecodeAuthorizationMessageRequestFilterSensitiveLog=q.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=q.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=q.AssumeRoleWithSAMLResponseFilterSensitiveLog=q.AssumeRoleWithSAMLRequestFilterSensitiveLog=q.AssumeRoleResponseFilterSensitiveLog=q.CredentialsFilterSensitiveLog=q.AssumeRoleRequestFilterSensitiveLog=q.TagFilterSensitiveLog=q.PolicyDescriptorTypeFilterSensitiveLog=q.AssumedRoleUserFilterSensitiveLog=q.InvalidAuthorizationMessageException=q.IDPCommunicationErrorException=q.InvalidIdentityTokenException=q.IDPRejectedClaimException=q.RegionDisabledException=q.PackedPolicyTooLargeException=q.MalformedPolicyDocumentException=q.ExpiredTokenException=void 0;var jr=rl(),ci=class extends jr.STSServiceException{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,ci.prototype)}};q.ExpiredTokenException=ci;var di=class extends jr.STSServiceException{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,di.prototype)}};q.MalformedPolicyDocumentException=di;var li=class extends jr.STSServiceException{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,li.prototype)}};q.PackedPolicyTooLargeException=li;var ui=class extends jr.STSServiceException{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,ui.prototype)}};q.RegionDisabledException=ui;var fi=class extends jr.STSServiceException{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,fi.prototype)}};q.IDPRejectedClaimException=fi;var pi=class extends jr.STSServiceException{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,pi.prototype)}};q.InvalidIdentityTokenException=pi;var mi=class extends jr.STSServiceException{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,mi.prototype)}};q.IDPCommunicationErrorException=mi;var hi=class extends jr.STSServiceException{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,hi.prototype)}};q.InvalidAuthorizationMessageException=hi;var jU=e=>({...e});q.AssumedRoleUserFilterSensitiveLog=jU;var LU=e=>({...e});q.PolicyDescriptorTypeFilterSensitiveLog=LU;var zU=e=>({...e});q.TagFilterSensitiveLog=zU;var FU=e=>({...e});q.AssumeRoleRequestFilterSensitiveLog=FU;var UU=e=>({...e});q.CredentialsFilterSensitiveLog=UU;var $U=e=>({...e});q.AssumeRoleResponseFilterSensitiveLog=$U;var HU=e=>({...e});q.AssumeRoleWithSAMLRequestFilterSensitiveLog=HU;var GU=e=>({...e});q.AssumeRoleWithSAMLResponseFilterSensitiveLog=GU;var BU=e=>({...e});q.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=BU;var VU=e=>({...e});q.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=VU;var WU=e=>({...e});q.DecodeAuthorizationMessageRequestFilterSensitiveLog=WU;var KU=e=>({...e});q.DecodeAuthorizationMessageResponseFilterSensitiveLog=KU;var JU=e=>({...e});q.GetAccessKeyInfoRequestFilterSensitiveLog=JU;var YU=e=>({...e});q.GetAccessKeyInfoResponseFilterSensitiveLog=YU;var XU=e=>({...e});q.GetCallerIdentityRequestFilterSensitiveLog=XU;var QU=e=>({...e});q.GetCallerIdentityResponseFilterSensitiveLog=QU;var ZU=e=>({...e});q.GetFederationTokenRequestFilterSensitiveLog=ZU;var e2=e=>({...e});q.FederatedUserFilterSensitiveLog=e2;var t2=e=>({...e});q.GetFederationTokenResponseFilterSensitiveLog=t2;var r2=e=>({...e});q.GetSessionTokenRequestFilterSensitiveLog=r2;var n2=e=>({...e});q.GetSessionTokenResponseFilterSensitiveLog=n2});var j_=l(fr=>{"use strict";var JP=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s2=JP+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",YP="["+JP+"]["+s2+"]*",i2=new RegExp("^"+YP+"$"),o2=function(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let o=0;o<i;o++)s.push(n[o]);r.push(s),n=t.exec(e)}return r},a2=function(e){let t=i2.exec(e);return!(t===null||typeof t>"u")};fr.isExist=function(e){return typeof e<"u"};fr.isEmptyObject=function(e){return Object.keys(e).length===0};fr.merge=function(e,t,r){if(t){let n=Object.keys(t),s=n.length;for(let i=0;i<s;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};fr.getValue=function(e){return fr.isExist(e)?e:""};fr.isName=a2;fr.getAllMatches=o2;fr.nameRegexp=YP});var z_=l(tI=>{"use strict";var L_=j_(),c2={allowBooleanAttributes:!1,unpairedTags:[]};tI.validate=function(e,t){t=Object.assign({},c2,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=QP(e,i),i.err)return i}else if(e[i]==="<"){let o=i;if(i++,e[i]==="!"){i=ZP(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!_2(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",ge("InvalidTag",f,Ge(e,i))}let d=u2(e,i);if(d===!1)return ge("InvalidAttr","Attributes for '"+c+"' have open quote.",Ge(e,i));let u=d.value;if(i=d.index,u[u.length-1]==="/"){let f=i-u.length;u=u.substring(0,u.length-1);let p=eI(u,t);if(p===!0)n=!0;else return ge(p.err.code,p.err.msg,Ge(e,f+p.err.line))}else if(a)if(d.tagClosed){if(u.trim().length>0)return ge("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ge(e,o));{let f=r.pop();if(c!==f.tagName){let p=Ge(e,f.tagStartPos);return ge("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",Ge(e,o))}r.length==0&&(s=!0)}}else return ge("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ge(e,i));else{let f=eI(u,t);if(f!==!0)return ge(f.err.code,f.err.msg,Ge(e,i-u.length+f.err.line));if(s===!0)return ge("InvalidXml","Multiple possible root nodes found.",Ge(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=ZP(e,i);continue}else if(e[i+1]==="?"){if(i=QP(e,++i),i.err)return i}else break;else if(e[i]==="&"){let f=m2(e,i);if(f==-1)return ge("InvalidChar","char '&' is not expected.",Ge(e,i));i=f}else if(s===!0&&!XP(e[i]))return ge("InvalidXml","Extra text at the end",Ge(e,i));e[i]==="<"&&i--}}else{if(XP(e[i]))continue;return ge("InvalidChar","char '"+e[i]+"' is not expected.",Ge(e,i))}if(n){if(r.length==1)return ge("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ge(e,r[0].tagStartPos));if(r.length>0)return ge("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ge("InvalidXml","Start tag expected.",1);return!0};function XP(e){return e===" "||e==="	"||e===`
`||e==="\r"}function QP(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ge("InvalidXml","XML declaration allowed only at the start of the document.",Ge(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function ZP(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var d2='"',l2="'";function u2(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===d2||e[t]===l2)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}var f2=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function eI(e,t){let r=L_.getAllMatches(e,f2),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return ge("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",_i(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return ge("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",_i(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return ge("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",_i(r[s]));let i=r[s][2];if(!h2(i))return ge("InvalidAttr","Attribute '"+i+"' is an invalid name.",_i(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return ge("InvalidAttr","Attribute '"+i+"' is repeated.",_i(r[s]))}return!0}function p2(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function m2(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,p2(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ge(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function h2(e){return L_.isName(e)}function _2(e){return L_.isName(e)}function Ge(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function _i(e){return e.startIndex+e[1].length}});var nI=l(F_=>{var rI={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},y2=function(e){return Object.assign({},rI,e)};F_.buildOptions=y2;F_.defaultOptions=rI});var iI=l((doe,sI)=>{"use strict";var U_=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};sI.exports=U_});var aI=l((loe,oI)=>{function g2(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,i=!1,o=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!o){if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,i=!0;else if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")o=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(o?e[t-1]==="-"&&e[t-2]==="-"&&(o=!1,n--):(i&&(v2(a,r),i=!1),n--),n===0)break}else e[t]==="["?s=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}var w2=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function v2(e,t){let r=w2.exec(e);r&&(t[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}oI.exports=g2});var dI=l((uoe,cI)=>{var E2=/^[-+]?0x[a-fA-F0-9]+$/,S2=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var P2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function I2(e,t={}){if(t=Object.assign({},P2,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&E2.test(r))return Number.parseInt(r,16);{let n=S2.exec(r);if(n){let s=n[1],i=n[2],o=b2(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&i.length>0&&s&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!s&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&o===""||d===o||s&&d==="-"+o?c:e:i?o===d||s+o===d?c:e:r===d||r===s+d?c:e}}else return e}}function b2(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}cI.exports=I2});var uI=l((poe,lI)=>{"use strict";var B_=j_(),yi=iI(),A2=aI(),R2=dI(),foe="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,B_.nameRegexp),$_=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=C2,this.parseXml=N2,this.parseTextData=T2,this.resolveNameSpace=x2,this.buildAttributesMap=O2,this.isItStopNode=D2,this.replaceEntitiesValue=M2,this.readStopNodeData=L2,this.saveTextToParentTag=k2}};function C2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function T2(e,t,r,n,s,i,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?G_(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?G_(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function x2(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var q2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function O2(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let r=B_.getAllMatches(e,q2),n=r.length,s={};for(let i=0;i<n;i++){let o=this.resolveNameSpace(r[i][1]),a=r[i][4],c=this.options.attributeNamePrefix+o;if(o.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(o,a,t);d==null?s[c]=a:typeof d!=typeof a||d!==a?s[c]=d:s[c]=G_(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}var N2=function(e){e=e.replace(/\r\n?/g,`
`);let t=new yi("!xml"),r=t,n="",s="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=En(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s)),s=s.substr(0,s.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=H_(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new yi(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s)),r.addChild(c)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=En(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=A2(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=En(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,s,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}i=a+2}else{let a=H_(e,i,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,u=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1)),c!==t.tagname&&(s+=s?"."+c:c);let p=r;if(p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,c)){let m="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let g=this.readStopNodeData(e,c,f+1);if(!g)throw new Error(`Unexpected end of ${c}`);i=g.i,m=g.tagContent}let _=new yi(c);c!==d&&u&&(_[":@"]=this.buildAttributesMap(d,s)),m&&(m=this.parseTextData(m,c,s,!0,u,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),_.add(this.options.textNodeName,m),r.addChild(_)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let m=new yi(c);c!==d&&u&&(m[":@"]=this.buildAttributesMap(d,s)),s=s.substr(0,s.lastIndexOf(".")),r.addChild(m)}else{let m=new yi(c);this.tagsNodeStack.push(r),c!==d&&u&&(m[":@"]=this.buildAttributesMap(d,s)),r.addChild(m),r=m}n="",i=f}}else n+=e[i];return t.child},M2=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function k2(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function D2(e,t,r){let n="*."+r;for(let s in e){let i=e[s];if(n===i||t===i)return!0}return!1}function j2(e,t,r=">"){let n,s="";for(let i=t;i<e.length;i++){let o=e[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function En(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function H_(e,t,r,n=">"){let s=j2(e,t+1,n);if(!s)return;let i=s.data,o=s.index,a=i.search(/\s/),c=i,d=!0;if(a!==-1&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1),d=c!==s.data.substr(u+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:d}}function L2(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=En(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=En(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=En(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=En(e,"]]>",r,"StopNode is not closed.")-2;else{let i=H_(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function G_(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:R2(e,r)}else return B_.isExist(e)?e:""}lI.exports=$_});var mI=l(pI=>{"use strict";function z2(e,t){return fI(e,t)}function fI(e,t,r){let n,s={};for(let i=0;i<e.length;i++){let o=e[i],a=F2(o),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let d=fI(o[a],t,c),u=$2(d,t);o[":@"]?U2(d,o[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(d)):t.isArray(a,c,u)?s[a]=[d]:s[a]=d}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function F2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function U2(e,t,r,n){if(t){let s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){let a=s[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function $2(e,t){let r=Object.keys(e).length;return!!(r===0||r===1&&e[t.textNodeName])}pI.prettify=z2});var _I=l((hoe,hI)=>{var{buildOptions:H2}=nI(),G2=uI(),{prettify:B2}=mI(),V2=z_(),V_=class{constructor(t){this.externalEntities={},this.options=H2(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=V2.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new G2(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:B2(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};hI.exports=V_});var EI=l((_oe,vI)=>{var W2=`
`;function K2(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=W2),gI(e,t,"",r)}function gI(e,t,r,n){let s="",i=!1;for(let o=0;o<e.length;o++){let a=e[o],c=J2(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let _=a[c];Y2(d,t)||(_=t.tagValueProcessor(c,_),_=wI(_,t)),i&&(s+=n),s+=_,i=!1;continue}else if(c===t.cdataPropName){i&&(s+=n),s+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,i=!1;continue}else if(c===t.commentPropName){s+=n+`<!--${a[c][0][t.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let _=yI(a[":@"],t),g=c==="?xml"?"":n,y=a[c][0][t.textNodeName];y=y.length!==0?" "+y:"",s+=g+`<${c}${y}${_}?>`,i=!0;continue}let u=n;u!==""&&(u+=t.indentBy);let f=yI(a[":@"],t),p=n+`<${c}${f}`,m=gI(a[c],t,d,u);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?s+=p+">":s+=p+"/>":(!m||m.length===0)&&t.suppressEmptyNode?s+=p+"/>":m&&m.endsWith(">")?s+=p+`>${m}${n}</${c}>`:(s+=p+">",m&&n!==""&&(m.includes("/>")||m.includes("</"))?s+=n+t.indentBy+m+n:s+=m,s+=`</${c}>`),i=!0}return s}function J2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function yI(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let s=t.attributeValueProcessor(n,e[n]);s=wI(s,t),s===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${s}"`}return r}function Y2(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function wI(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}vI.exports=K2});var PI=l((yoe,SI)=>{"use strict";var X2=EI(),Q2={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Lr(e){this.options=Object.assign({},Q2,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=t$),this.processTextOrObjNode=Z2,this.options.format?(this.indentate=e$,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Lr.prototype.build=function(e){return this.options.preserveOrder?X2(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Lr.prototype.j2x=function(e,t){let r="",n="";for(let s in e)if(!(typeof e[s]>"u"))if(e[s]===null)s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)n+=this.buildTextValNode(e[s],s,"",t);else if(typeof e[s]!="object"){let i=this.isAttribute(s);if(i)r+=this.buildAttrPairStr(i,""+e[s]);else if(s===this.options.textNodeName){let o=this.options.tagValueProcessor(s,""+e[s]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){let i=e[s].length;for(let o=0;o<i;o++){let a=e[s][o];typeof a>"u"||(a===null?s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,s,t):n+=this.buildTextValNode(a,s,"",t))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let i=Object.keys(e[s]),o=i.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(i[a],""+e[s][i[a]])}else n+=this.processTextOrObjNode(e[s],s,t);return{attrStr:r,val:n}};Lr.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Z2(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Lr.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",s=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+s:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+s}};Lr.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Lr.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+s+"</"+t+this.tagEndChar}};Lr.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function e$(e){return this.options.indentBy.repeat(e)}function t$(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}SI.exports=Lr});var bI=l((goe,II)=>{"use strict";var r$=z_(),n$=_I(),s$=PI();II.exports={XMLParser:n$,XMLValidator:r$,XMLBuilder:s$}});var mr=l(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.deserializeAws_queryGetSessionTokenCommand=z.deserializeAws_queryGetFederationTokenCommand=z.deserializeAws_queryGetCallerIdentityCommand=z.deserializeAws_queryGetAccessKeyInfoCommand=z.deserializeAws_queryDecodeAuthorizationMessageCommand=z.deserializeAws_queryAssumeRoleWithWebIdentityCommand=z.deserializeAws_queryAssumeRoleWithSAMLCommand=z.deserializeAws_queryAssumeRoleCommand=z.serializeAws_queryGetSessionTokenCommand=z.serializeAws_queryGetFederationTokenCommand=z.serializeAws_queryGetCallerIdentityCommand=z.serializeAws_queryGetAccessKeyInfoCommand=z.serializeAws_queryDecodeAuthorizationMessageCommand=z.serializeAws_queryAssumeRoleWithWebIdentityCommand=z.serializeAws_queryAssumeRoleWithSAMLCommand=z.serializeAws_queryAssumeRoleCommand=void 0;var i$=ke(),O=R(),o$=bI(),zr=Et(),Fr=rl(),a$=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Hr({...N$(e,t),Action:"AssumeRole",Version:"2011-06-15"}),Ur(t,r,"/",void 0,n)};z.serializeAws_queryAssumeRoleCommand=a$;var c$=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Hr({...M$(e,t),Action:"AssumeRoleWithSAML",Version:"2011-06-15"}),Ur(t,r,"/",void 0,n)};z.serializeAws_queryAssumeRoleWithSAMLCommand=c$;var d$=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Hr({...k$(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),Ur(t,r,"/",void 0,n)};z.serializeAws_queryAssumeRoleWithWebIdentityCommand=d$;var l$=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Hr({...D$(e,t),Action:"DecodeAuthorizationMessage",Version:"2011-06-15"}),Ur(t,r,"/",void 0,n)};z.serializeAws_queryDecodeAuthorizationMessageCommand=l$;var u$=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Hr({...j$(e,t),Action:"GetAccessKeyInfo",Version:"2011-06-15"}),Ur(t,r,"/",void 0,n)};z.serializeAws_queryGetAccessKeyInfoCommand=u$;var f$=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Hr({...L$(e,t),Action:"GetCallerIdentity",Version:"2011-06-15"}),Ur(t,r,"/",void 0,n)};z.serializeAws_queryGetCallerIdentityCommand=f$;var p$=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Hr({...z$(e,t),Action:"GetFederationToken",Version:"2011-06-15"}),Ur(t,r,"/",void 0,n)};z.serializeAws_queryGetFederationTokenCommand=p$;var m$=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Hr({...F$(e,t),Action:"GetSessionToken",Version:"2011-06-15"}),Ur(t,r,"/",void 0,n)};z.serializeAws_queryGetSessionTokenCommand=m$;var h$=async(e,t)=>{if(e.statusCode>=300)return _$(e,t);let r=await pr(e.body,t),n={};n=G$(r.AssumeRoleResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryAssumeRoleCommand=h$;var _$=async(e,t)=>{let r={...e,body:await $r(e.body,t)},n=Gr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await W_(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await nl(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await sl(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await gi(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Fr.STSServiceException,errorCode:n})}},y$=async(e,t)=>{if(e.statusCode>=300)return g$(e,t);let r=await pr(e.body,t),n={};n=B$(r.AssumeRoleWithSAMLResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryAssumeRoleWithSAMLCommand=y$;var g$=async(e,t)=>{let r={...e,body:await $r(e.body,t)},n=Gr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await W_(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await AI(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await RI(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await nl(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await sl(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await gi(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Fr.STSServiceException,errorCode:n})}},w$=async(e,t)=>{if(e.statusCode>=300)return v$(e,t);let r=await pr(e.body,t),n={};n=V$(r.AssumeRoleWithWebIdentityResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryAssumeRoleWithWebIdentityCommand=w$;var v$=async(e,t)=>{let r={...e,body:await $r(e.body,t)},n=Gr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await W_(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await q$(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await AI(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await RI(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await nl(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await sl(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await gi(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Fr.STSServiceException,errorCode:n})}},E$=async(e,t)=>{if(e.statusCode>=300)return S$(e,t);let r=await pr(e.body,t),n={};n=W$(r.DecodeAuthorizationMessageResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryDecodeAuthorizationMessageCommand=E$;var S$=async(e,t)=>{let r={...e,body:await $r(e.body,t)},n=Gr(e,r.body);switch(n){case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await O$(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Fr.STSServiceException,errorCode:n})}},P$=async(e,t)=>{if(e.statusCode>=300)return I$(e,t);let r=await pr(e.body,t),n={};n=Y$(r.GetAccessKeyInfoResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryGetAccessKeyInfoCommand=P$;var I$=async(e,t)=>{let r={...e,body:await $r(e.body,t)},n=Gr(e,r.body),s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Fr.STSServiceException,errorCode:n})},b$=async(e,t)=>{if(e.statusCode>=300)return A$(e,t);let r=await pr(e.body,t),n={};n=X$(r.GetCallerIdentityResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryGetCallerIdentityCommand=b$;var A$=async(e,t)=>{let r={...e,body:await $r(e.body,t)},n=Gr(e,r.body),s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Fr.STSServiceException,errorCode:n})},R$=async(e,t)=>{if(e.statusCode>=300)return C$(e,t);let r=await pr(e.body,t),n={};n=Q$(r.GetFederationTokenResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryGetFederationTokenCommand=R$;var C$=async(e,t)=>{let r={...e,body:await $r(e.body,t)},n=Gr(e,r.body);switch(n){case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await nl(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await sl(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await gi(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Fr.STSServiceException,errorCode:n})}},T$=async(e,t)=>{if(e.statusCode>=300)return x$(e,t);let r=await pr(e.body,t),n={};n=Z$(r.GetSessionTokenResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryGetSessionTokenCommand=T$;var x$=async(e,t)=>{let r={...e,body:await $r(e.body,t)},n=Gr(e,r.body);switch(n){case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await gi(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Fr.STSServiceException,errorCode:n})}},W_=async(e,t)=>{let r=e.body,n=K$(r.Error,t),s=new zr.ExpiredTokenException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},q$=async(e,t)=>{let r=e.body,n=eH(r.Error,t),s=new zr.IDPCommunicationErrorException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},AI=async(e,t)=>{let r=e.body,n=tH(r.Error,t),s=new zr.IDPRejectedClaimException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},O$=async(e,t)=>{let r=e.body,n=rH(r.Error,t),s=new zr.InvalidAuthorizationMessageException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},RI=async(e,t)=>{let r=e.body,n=nH(r.Error,t),s=new zr.InvalidIdentityTokenException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},nl=async(e,t)=>{let r=e.body,n=sH(r.Error,t),s=new zr.MalformedPolicyDocumentException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},sl=async(e,t)=>{let r=e.body,n=iH(r.Error,t),s=new zr.PackedPolicyTooLargeException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},gi=async(e,t)=>{let r=e.body,n=oH(r.Error,t),s=new zr.RegionDisabledException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},N$=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let n=il(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let n=CI(e.Tags,t);e.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e.TransitiveTagKeys!=null){let n=H$(e.TransitiveTagKeys,t);e.TransitiveTagKeys?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}return e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),r},M$=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.PrincipalArn!=null&&(r.PrincipalArn=e.PrincipalArn),e.SAMLAssertion!=null&&(r.SAMLAssertion=e.SAMLAssertion),e.PolicyArns!=null){let n=il(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r},k$=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let n=il(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r},D$=(e,t)=>{let r={};return e.EncodedMessage!=null&&(r.EncodedMessage=e.EncodedMessage),r},j$=(e,t)=>{let r={};return e.AccessKeyId!=null&&(r.AccessKeyId=e.AccessKeyId),r},L$=(e,t)=>({}),z$=(e,t)=>{let r={};if(e.Name!=null&&(r.Name=e.Name),e.Policy!=null&&(r.Policy=e.Policy),e.PolicyArns!=null){let n=il(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let n=CI(e.Tags,t);e.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return r},F$=(e,t)=>{let r={};return e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),r},il=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=U$(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},U$=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},$$=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},H$=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},CI=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=$$(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},K_=(e,t)=>{let r={AssumedRoleId:void 0,Arn:void 0};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=(0,O.expectString)(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=(0,O.expectString)(e.Arn)),r},G$=(e,t)=>{let r={Credentials:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,SourceIdentity:void 0};return e.Credentials!==void 0&&(r.Credentials=wi(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=K_(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,O.strictParseInt32)(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,O.expectString)(e.SourceIdentity)),r},B$=(e,t)=>{let r={Credentials:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,Subject:void 0,SubjectType:void 0,Issuer:void 0,Audience:void 0,NameQualifier:void 0,SourceIdentity:void 0};return e.Credentials!==void 0&&(r.Credentials=wi(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=K_(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,O.strictParseInt32)(e.PackedPolicySize)),e.Subject!==void 0&&(r.Subject=(0,O.expectString)(e.Subject)),e.SubjectType!==void 0&&(r.SubjectType=(0,O.expectString)(e.SubjectType)),e.Issuer!==void 0&&(r.Issuer=(0,O.expectString)(e.Issuer)),e.Audience!==void 0&&(r.Audience=(0,O.expectString)(e.Audience)),e.NameQualifier!==void 0&&(r.NameQualifier=(0,O.expectString)(e.NameQualifier)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,O.expectString)(e.SourceIdentity)),r},V$=(e,t)=>{let r={Credentials:void 0,SubjectFromWebIdentityToken:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,Provider:void 0,Audience:void 0,SourceIdentity:void 0};return e.Credentials!==void 0&&(r.Credentials=wi(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=(0,O.expectString)(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=K_(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,O.strictParseInt32)(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=(0,O.expectString)(e.Provider)),e.Audience!==void 0&&(r.Audience=(0,O.expectString)(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,O.expectString)(e.SourceIdentity)),r},wi=(e,t)=>{let r={AccessKeyId:void 0,SecretAccessKey:void 0,SessionToken:void 0,Expiration:void 0};return e.AccessKeyId!==void 0&&(r.AccessKeyId=(0,O.expectString)(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=(0,O.expectString)(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=(0,O.expectString)(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=(0,O.expectNonNull)((0,O.parseRfc3339DateTimeWithOffset)(e.Expiration))),r},W$=(e,t)=>{let r={DecodedMessage:void 0};return e.DecodedMessage!==void 0&&(r.DecodedMessage=(0,O.expectString)(e.DecodedMessage)),r},K$=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},J$=(e,t)=>{let r={FederatedUserId:void 0,Arn:void 0};return e.FederatedUserId!==void 0&&(r.FederatedUserId=(0,O.expectString)(e.FederatedUserId)),e.Arn!==void 0&&(r.Arn=(0,O.expectString)(e.Arn)),r},Y$=(e,t)=>{let r={Account:void 0};return e.Account!==void 0&&(r.Account=(0,O.expectString)(e.Account)),r},X$=(e,t)=>{let r={UserId:void 0,Account:void 0,Arn:void 0};return e.UserId!==void 0&&(r.UserId=(0,O.expectString)(e.UserId)),e.Account!==void 0&&(r.Account=(0,O.expectString)(e.Account)),e.Arn!==void 0&&(r.Arn=(0,O.expectString)(e.Arn)),r},Q$=(e,t)=>{let r={Credentials:void 0,FederatedUser:void 0,PackedPolicySize:void 0};return e.Credentials!==void 0&&(r.Credentials=wi(e.Credentials,t)),e.FederatedUser!==void 0&&(r.FederatedUser=J$(e.FederatedUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,O.strictParseInt32)(e.PackedPolicySize)),r},Z$=(e,t)=>{let r={Credentials:void 0};return e.Credentials!==void 0&&(r.Credentials=wi(e.Credentials,t)),r},eH=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},tH=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},rH=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},nH=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},sH=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},iH=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},oH=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},Te=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),aH=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),cH=(e,t)=>aH(e,t).then(r=>t.utf8Encoder(r)),Ur=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),d={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new i$.HttpRequest(d)},pr=(e,t)=>cH(e,t).then(r=>{if(r.length){let n=new o$.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,O.getValueFromTextNode)(a)}return{}}),$r=async(e,t)=>{let r=await pr(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Hr=e=>Object.entries(e).map(([t,r])=>(0,O.extendedEncodeURIComponent)(t)+"="+(0,O.extendedEncodeURIComponent)(r)).join("&"),Gr=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var al=l(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.AssumeRoleCommand=void 0;var dH=k(),lH=j(),uH=J(),fH=R(),TI=Et(),xI=mr(),vi=class extends fH.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,lH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,dH.getEndpointPlugin)(r,vi.getEndpointParameterInstructions())),this.middlewareStack.use((0,uH.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:TI.AssumeRoleRequestFilterSensitiveLog,outputFilterSensitiveLog:TI.AssumeRoleResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,xI.serializeAws_queryAssumeRoleCommand)(t,r)}deserialize(t,r){return(0,xI.deserializeAws_queryAssumeRoleCommand)(t,r)}};ol.AssumeRoleCommand=vi});var J_=l(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.AssumeRoleWithSAMLCommand=void 0;var pH=k(),mH=j(),hH=R(),qI=Et(),OI=mr(),Ei=class extends hH.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,mH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,pH.getEndpointPlugin)(r,Ei.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleWithSAMLCommand",inputFilterSensitiveLog:qI.AssumeRoleWithSAMLRequestFilterSensitiveLog,outputFilterSensitiveLog:qI.AssumeRoleWithSAMLResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,OI.serializeAws_queryAssumeRoleWithSAMLCommand)(t,r)}deserialize(t,r){return(0,OI.deserializeAws_queryAssumeRoleWithSAMLCommand)(t,r)}};cl.AssumeRoleWithSAMLCommand=Ei});var ll=l(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.AssumeRoleWithWebIdentityCommand=void 0;var _H=k(),yH=j(),gH=R(),NI=Et(),MI=mr(),Si=class extends gH.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,yH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,_H.getEndpointPlugin)(r,Si.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:NI.AssumeRoleWithWebIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:NI.AssumeRoleWithWebIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,MI.serializeAws_queryAssumeRoleWithWebIdentityCommand)(t,r)}deserialize(t,r){return(0,MI.deserializeAws_queryAssumeRoleWithWebIdentityCommand)(t,r)}};dl.AssumeRoleWithWebIdentityCommand=Si});var Y_=l(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.DecodeAuthorizationMessageCommand=void 0;var wH=k(),vH=j(),EH=J(),SH=R(),kI=Et(),DI=mr(),Pi=class extends SH.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,vH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,wH.getEndpointPlugin)(r,Pi.getEndpointParameterInstructions())),this.middlewareStack.use((0,EH.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"DecodeAuthorizationMessageCommand",inputFilterSensitiveLog:kI.DecodeAuthorizationMessageRequestFilterSensitiveLog,outputFilterSensitiveLog:kI.DecodeAuthorizationMessageResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,DI.serializeAws_queryDecodeAuthorizationMessageCommand)(t,r)}deserialize(t,r){return(0,DI.deserializeAws_queryDecodeAuthorizationMessageCommand)(t,r)}};ul.DecodeAuthorizationMessageCommand=Pi});var X_=l(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.GetAccessKeyInfoCommand=void 0;var PH=k(),IH=j(),bH=J(),AH=R(),jI=Et(),LI=mr(),Ii=class extends AH.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,IH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,PH.getEndpointPlugin)(r,Ii.getEndpointParameterInstructions())),this.middlewareStack.use((0,bH.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetAccessKeyInfoCommand",inputFilterSensitiveLog:jI.GetAccessKeyInfoRequestFilterSensitiveLog,outputFilterSensitiveLog:jI.GetAccessKeyInfoResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,LI.serializeAws_queryGetAccessKeyInfoCommand)(t,r)}deserialize(t,r){return(0,LI.deserializeAws_queryGetAccessKeyInfoCommand)(t,r)}};fl.GetAccessKeyInfoCommand=Ii});var Q_=l(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.GetCallerIdentityCommand=void 0;var RH=k(),CH=j(),TH=J(),xH=R(),zI=Et(),FI=mr(),bi=class extends xH.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,CH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,RH.getEndpointPlugin)(r,bi.getEndpointParameterInstructions())),this.middlewareStack.use((0,TH.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:zI.GetCallerIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:zI.GetCallerIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,FI.serializeAws_queryGetCallerIdentityCommand)(t,r)}deserialize(t,r){return(0,FI.deserializeAws_queryGetCallerIdentityCommand)(t,r)}};pl.GetCallerIdentityCommand=bi});var Z_=l(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.GetFederationTokenCommand=void 0;var qH=k(),OH=j(),NH=J(),MH=R(),UI=Et(),$I=mr(),Ai=class extends MH.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,OH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,qH.getEndpointPlugin)(r,Ai.getEndpointParameterInstructions())),this.middlewareStack.use((0,NH.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetFederationTokenCommand",inputFilterSensitiveLog:UI.GetFederationTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:UI.GetFederationTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,$I.serializeAws_queryGetFederationTokenCommand)(t,r)}deserialize(t,r){return(0,$I.deserializeAws_queryGetFederationTokenCommand)(t,r)}};ml.GetFederationTokenCommand=Ai});var ey=l(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.GetSessionTokenCommand=void 0;var kH=k(),DH=j(),jH=J(),LH=R(),HI=Et(),GI=mr(),Ri=class extends LH.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,DH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,kH.getEndpointPlugin)(r,Ri.getEndpointParameterInstructions())),this.middlewareStack.use((0,jH.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetSessionTokenCommand",inputFilterSensitiveLog:HI.GetSessionTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:HI.GetSessionTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,GI.serializeAws_queryGetSessionTokenCommand)(t,r)}deserialize(t,r){return(0,GI.deserializeAws_queryGetSessionTokenCommand)(t,r)}};hl.GetSessionTokenCommand=Ri});var BI=l(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.resolveStsAuthConfig=void 0;var zH=J(),FH=(e,{stsClientCtor:t})=>(0,zH.resolveAwsAuthConfig)({...e,stsClientCtor:t});_l.resolveStsAuthConfig=FH});var VI=l(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.resolveClientEndpointParameters=void 0;var UH=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});yl.resolveClientEndpointParameters=UH});var WI=l((xoe,$H)=>{$H.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.276.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.272.0","@aws-sdk/credential-provider-node":"3.272.0","@aws-sdk/fetch-http-handler":"3.272.0","@aws-sdk/hash-node":"3.272.0","@aws-sdk/invalid-dependency":"3.272.0","@aws-sdk/middleware-content-length":"3.272.0","@aws-sdk/middleware-endpoint":"3.272.0","@aws-sdk/middleware-host-header":"3.272.0","@aws-sdk/middleware-logger":"3.272.0","@aws-sdk/middleware-recursion-detection":"3.272.0","@aws-sdk/middleware-retry":"3.272.0","@aws-sdk/middleware-sdk-sts":"3.272.0","@aws-sdk/middleware-serde":"3.272.0","@aws-sdk/middleware-signing":"3.272.0","@aws-sdk/middleware-stack":"3.272.0","@aws-sdk/middleware-user-agent":"3.272.0","@aws-sdk/node-config-provider":"3.272.0","@aws-sdk/node-http-handler":"3.272.0","@aws-sdk/protocol-http":"3.272.0","@aws-sdk/smithy-client":"3.272.0","@aws-sdk/types":"3.272.0","@aws-sdk/url-parser":"3.272.0","@aws-sdk/util-base64":"3.208.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.208.0","@aws-sdk/util-defaults-mode-browser":"3.272.0","@aws-sdk/util-defaults-mode-node":"3.272.0","@aws-sdk/util-endpoints":"3.272.0","@aws-sdk/util-retry":"3.272.0","@aws-sdk/util-user-agent-browser":"3.272.0","@aws-sdk/util-user-agent-node":"3.272.0","@aws-sdk/util-utf8":"3.254.0","fast-xml-parser":"4.1.2",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.208.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var ty=l(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.decorateDefaultCredentialProvider=jt.getDefaultRoleAssumerWithWebIdentity=jt.getDefaultRoleAssumer=void 0;var HH=al(),GH=ll(),KI="us-east-1",JI=e=>typeof e!="function"?e===void 0?KI:e:async()=>{try{return await e()}catch{return KI}},BH=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:JI(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:o}=await r.send(new HH.AssumeRoleCommand(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}};jt.getDefaultRoleAssumer=BH;var VH=(e,t)=>{let r;return async n=>{if(!r){let{logger:i,region:o,requestHandler:a}=e;r=new t({logger:i,region:JI(o||e.region),...a?{requestHandler:a}:{}})}let{Credentials:s}=await r.send(new GH.AssumeRoleWithWebIdentityCommand(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};jt.getDefaultRoleAssumerWithWebIdentity=VH;var WH=e=>t=>e({roleAssumer:(0,jt.getDefaultRoleAssumer)(t,t.stsClientCtor),roleAssumerWithWebIdentity:(0,jt.getDefaultRoleAssumerWithWebIdentity)(t,t.stsClientCtor),...t});jt.decorateDefaultCredentialProvider=WH});var YI=l(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.fromEnv=xe.ENV_EXPIRATION=xe.ENV_SESSION=xe.ENV_SECRET=xe.ENV_KEY=void 0;var KH=V();xe.ENV_KEY="AWS_ACCESS_KEY_ID";xe.ENV_SECRET="AWS_SECRET_ACCESS_KEY";xe.ENV_SESSION="AWS_SESSION_TOKEN";xe.ENV_EXPIRATION="AWS_CREDENTIAL_EXPIRATION";var JH=()=>async()=>{let e=process.env[xe.ENV_KEY],t=process.env[xe.ENV_SECRET],r=process.env[xe.ENV_SESSION],n=process.env[xe.ENV_EXPIRATION];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new KH.CredentialsProviderError("Unable to find environment variable credentials.")};xe.fromEnv=JH});var gl=l(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});var YH=A();YH.__exportStar(YI(),ry)});var Ci=l(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.getHomeDir=void 0;var XH=require("os"),QH=require("path"),ZH=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${QH.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,XH.homedir)())};wl.getHomeDir=ZH});var XI=l(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.getProfileName=Lt.DEFAULT_PROFILE=Lt.ENV_PROFILE=void 0;Lt.ENV_PROFILE="AWS_PROFILE";Lt.DEFAULT_PROFILE="default";var eG=e=>e.profile||process.env[Lt.ENV_PROFILE]||Lt.DEFAULT_PROFILE;Lt.getProfileName=eG});var ny=l(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.getSSOTokenFilepath=void 0;var tG=require("crypto"),rG=require("path"),nG=Ci(),sG=e=>{let r=(0,tG.createHash)("sha1").update(e).digest("hex");return(0,rG.join)((0,nG.getHomeDir)(),".aws","sso","cache",`${r}.json`)};vl.getSSOTokenFilepath=sG});var QI=l(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.getSSOTokenFromFile=void 0;var iG=require("fs"),oG=ny(),{readFile:aG}=iG.promises,cG=async e=>{let t=(0,oG.getSSOTokenFilepath)(e),r=await aG(t,"utf8");return JSON.parse(r)};El.getSSOTokenFromFile=cG});var sy=l(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.getConfigFilepath=Sn.ENV_CONFIG_PATH=void 0;var dG=require("path"),lG=Ci();Sn.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var uG=()=>process.env[Sn.ENV_CONFIG_PATH]||(0,dG.join)((0,lG.getHomeDir)(),".aws","config");Sn.getConfigFilepath=uG});var ZI=l(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.getCredentialsFilepath=Pn.ENV_CREDENTIALS_PATH=void 0;var fG=require("path"),pG=Ci();Pn.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var mG=()=>process.env[Pn.ENV_CREDENTIALS_PATH]||(0,fG.join)((0,pG.getHomeDir)(),".aws","credentials");Pn.getCredentialsFilepath=mG});var tb=l(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.getProfileData=void 0;var eb=/^profile\s(["'])?([^\1]+)\1$/,hG=e=>Object.entries(e).filter(([t])=>eb.test(t)).reduce((t,[r,n])=>({...t,[eb.exec(r)[2]]:n}),{...e.default&&{default:e.default}});Sl.getProfileData=hG});var iy=l(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.parseIni=void 0;var _G=["__proto__","profile __proto__"],yG=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),_G.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let i=n.indexOf("="),o=0,a=n.length-1;if(i!==-1&&i!==o&&i!==a){let[d,u]=[n.substring(0,i).trim(),n.substring(i+1).trim()];t[r]=t[r]||{},t[r][d]=u}}return t};Pl.parseIni=yG});var ay=l(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.slurpFile=void 0;var gG=require("fs"),{readFile:wG}=gG.promises,oy={},vG=e=>(oy[e]||(oy[e]=wG(e,"utf8")),oy[e]);Il.slurpFile=vG});var cy=l(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.loadSharedConfigFiles=void 0;var EG=sy(),SG=ZI(),PG=tb(),rb=iy(),nb=ay(),sb=()=>({}),IG=async(e={})=>{let{filepath:t=(0,SG.getCredentialsFilepath)(),configFilepath:r=(0,EG.getConfigFilepath)()}=e,n=await Promise.all([(0,nb.slurpFile)(r).then(rb.parseIni).then(PG.getProfileData).catch(sb),(0,nb.slurpFile)(t).then(rb.parseIni).catch(sb)]);return{configFile:n[0],credentialsFile:n[1]}};bl.loadSharedConfigFiles=IG});var ob=l(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.getSsoSessionData=void 0;var ib=/^sso-session\s(["'])?([^\1]+)\1$/,bG=e=>Object.entries(e).filter(([t])=>ib.test(t)).reduce((t,[r,n])=>({...t,[ib.exec(r)[2]]:n}),{});Al.getSsoSessionData=bG});var ab=l(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.loadSsoSessionData=void 0;var AG=sy(),RG=ob(),CG=iy(),TG=ay(),xG=()=>({}),qG=async(e={})=>{var t;return(0,TG.slurpFile)((t=e.configFilepath)!==null&&t!==void 0?t:(0,AG.getConfigFilepath)()).then(CG.parseIni).then(RG.getSsoSessionData).catch(xG)};Rl.loadSsoSessionData=qG});var cb=l(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.parseKnownFiles=void 0;var OG=cy(),NG=async e=>{let t=await(0,OG.loadSharedConfigFiles)(e);return{...t.configFile,...t.credentialsFile}};Cl.parseKnownFiles=NG});var lb=l(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0})});var Ft=l(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});var Br=A();Br.__exportStar(Ci(),zt);Br.__exportStar(XI(),zt);Br.__exportStar(ny(),zt);Br.__exportStar(QI(),zt);Br.__exportStar(cy(),zt);Br.__exportStar(ab(),zt);Br.__exportStar(cb(),zt);Br.__exportStar(lb(),zt)});var xl=l(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.httpRequest=void 0;var dy=V(),MG=require("buffer"),kG=require("http");function DG(e){return new Promise((t,r)=>{var n;let s=(0,kG.request)({method:"GET",...e,hostname:(n=e.hostname)===null||n===void 0?void 0:n.replace(/^\[(.+)\]$/,"$1")});s.on("error",i=>{r(Object.assign(new dy.ProviderError("Unable to connect to instance metadata service"),i)),s.destroy()}),s.on("timeout",()=>{r(new dy.ProviderError("TimeoutError from instance metadata service")),s.destroy()}),s.on("response",i=>{let{statusCode:o=400}=i;(o<200||300<=o)&&(r(Object.assign(new dy.ProviderError("Error response received from instance metadata service"),{statusCode:o})),s.destroy());let a=[];i.on("data",c=>{a.push(c)}),i.on("end",()=>{t(MG.Buffer.concat(a)),s.destroy()})}),s.end()})}Tl.httpRequest=DG});var ly=l(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.fromImdsCredentials=cs.isImdsCredentials=void 0;var jG=e=>Boolean(e)&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string";cs.isImdsCredentials=jG;var LG=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});cs.fromImdsCredentials=LG});var ql=l(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.providerConfigFromInit=Ut.DEFAULT_MAX_RETRIES=Ut.DEFAULT_TIMEOUT=void 0;Ut.DEFAULT_TIMEOUT=1e3;Ut.DEFAULT_MAX_RETRIES=0;var zG=({maxRetries:e=Ut.DEFAULT_MAX_RETRIES,timeout:t=Ut.DEFAULT_TIMEOUT})=>({maxRetries:e,timeout:t});Ut.providerConfigFromInit=zG});var uy=l(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.retry=void 0;var FG=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r};Ol.retry=FG});var fb=l(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.fromContainerMetadata=Se.ENV_CMDS_AUTH_TOKEN=Se.ENV_CMDS_RELATIVE_URI=Se.ENV_CMDS_FULL_URI=void 0;var Nl=V(),UG=require("url"),$G=xl(),ub=ly(),HG=ql(),GG=uy();Se.ENV_CMDS_FULL_URI="AWS_CONTAINER_CREDENTIALS_FULL_URI";Se.ENV_CMDS_RELATIVE_URI="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI";Se.ENV_CMDS_AUTH_TOKEN="AWS_CONTAINER_AUTHORIZATION_TOKEN";var BG=(e={})=>{let{timeout:t,maxRetries:r}=(0,HG.providerConfigFromInit)(e);return()=>(0,GG.retry)(async()=>{let n=await YG(),s=JSON.parse(await VG(t,n));if(!(0,ub.isImdsCredentials)(s))throw new Nl.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,ub.fromImdsCredentials)(s)},r)};Se.fromContainerMetadata=BG;var VG=async(e,t)=>(process.env[Se.ENV_CMDS_AUTH_TOKEN]&&(t.headers={...t.headers,Authorization:process.env[Se.ENV_CMDS_AUTH_TOKEN]}),(await(0,$G.httpRequest)({...t,timeout:e})).toString()),WG="169.254.170.2",KG={localhost:!0,"127.0.0.1":!0},JG={"http:":!0,"https:":!0},YG=async()=>{if(process.env[Se.ENV_CMDS_RELATIVE_URI])return{hostname:WG,path:process.env[Se.ENV_CMDS_RELATIVE_URI]};if(process.env[Se.ENV_CMDS_FULL_URI]){let e=(0,UG.parse)(process.env[Se.ENV_CMDS_FULL_URI]);if(!e.hostname||!(e.hostname in KG))throw new Nl.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in JG))throw new Nl.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Nl.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Se.ENV_CMDS_RELATIVE_URI} or ${Se.ENV_CMDS_FULL_URI} environment variable is set`,!1)}});var pb=l(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.fromEnv=void 0;var XG=V(),QG=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new XG.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}};Ml.fromEnv=QG});var hb=l(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.fromSharedConfigFiles=void 0;var ZG=V(),mb=Ft(),e3=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,mb.getProfileName)(r),{configFile:s,credentialsFile:i}=await(0,mb.loadSharedConfigFiles)(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let d=e(c);if(d===void 0)throw new Error;return d}catch(d){throw new ZG.CredentialsProviderError(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};kl.fromSharedConfigFiles=e3});var _b=l(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.fromStatic=void 0;var t3=V(),r3=e=>typeof e=="function",n3=e=>r3(e)?async()=>await e():(0,t3.fromStatic)(e);Dl.fromStatic=n3});var gb=l(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.loadConfig=void 0;var yb=V(),s3=pb(),i3=hb(),o3=_b(),a3=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,yb.memoize)((0,yb.chain)((0,s3.fromEnv)(e),(0,i3.fromSharedConfigFiles)(t,n),(0,o3.fromStatic)(r)));jl.loadConfig=a3});var Vr=l(fy=>{"use strict";Object.defineProperty(fy,"__esModule",{value:!0});var c3=A();c3.__exportStar(gb(),fy)});var wb=l(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.Endpoint=void 0;var d3;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(d3=Ti.Endpoint||(Ti.Endpoint={}))});var vb=l($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.ENDPOINT_CONFIG_OPTIONS=$t.CONFIG_ENDPOINT_NAME=$t.ENV_ENDPOINT_NAME=void 0;$t.ENV_ENDPOINT_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT";$t.CONFIG_ENDPOINT_NAME="ec2_metadata_service_endpoint";$t.ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>e[$t.ENV_ENDPOINT_NAME],configFileSelector:e=>e[$t.CONFIG_ENDPOINT_NAME],default:void 0}});var py=l(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.EndpointMode=void 0;var l3;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(l3=xi.EndpointMode||(xi.EndpointMode={}))});var Eb=l(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.ENDPOINT_MODE_CONFIG_OPTIONS=Ht.CONFIG_ENDPOINT_MODE_NAME=Ht.ENV_ENDPOINT_MODE_NAME=void 0;var u3=py();Ht.ENV_ENDPOINT_MODE_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE";Ht.CONFIG_ENDPOINT_MODE_NAME="ec2_metadata_service_endpoint_mode";Ht.ENDPOINT_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[Ht.ENV_ENDPOINT_MODE_NAME],configFileSelector:e=>e[Ht.CONFIG_ENDPOINT_MODE_NAME],default:u3.EndpointMode.IPv4}});var hy=l(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.getInstanceMetadataEndpoint=void 0;var Pb=Vr(),f3=hn(),Sb=wb(),p3=vb(),my=py(),m3=Eb(),h3=async()=>(0,f3.parseUrl)(await _3()||await y3());Ll.getInstanceMetadataEndpoint=h3;var _3=async()=>(0,Pb.loadConfig)(p3.ENDPOINT_CONFIG_OPTIONS)(),y3=async()=>{let e=await(0,Pb.loadConfig)(m3.ENDPOINT_MODE_CONFIG_OPTIONS)();switch(e){case my.EndpointMode.IPv4:return Sb.Endpoint.IPv4;case my.EndpointMode.IPv6:return Sb.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(my.EndpointMode)}`)}}});var Ib=l(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.getExtendedInstanceMetadataCredentials=void 0;var g3=5*60,w3=5*60,v3="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",E3=(e,t)=>{var r;let n=g3+Math.floor(Math.random()*w3),s=new Date(Date.now()+n*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+v3);let i=(r=e.originalExpiration)!==null&&r!==void 0?r:e.expiration;return{...e,...i?{originalExpiration:i}:{},expiration:s}};zl.getExtendedInstanceMetadataCredentials=E3});var Ab=l(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.staticStabilityProvider=void 0;var bb=Ib(),S3=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=(0,bb.getExtendedInstanceMetadataCredentials)(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=(0,bb.getExtendedInstanceMetadataCredentials)(n,r);else throw i}return n=s,s}};Fl.staticStabilityProvider=S3});var xb=l(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.fromInstanceMetadata=void 0;var P3=V(),_y=xl(),Rb=ly(),I3=ql(),Cb=uy(),b3=hy(),A3=Ab(),Tb="/latest/meta-data/iam/security-credentials/",R3="/latest/api/token",C3=(e={})=>(0,A3.staticStabilityProvider)(T3(e),{logger:e.logger});Ul.fromInstanceMetadata=C3;var T3=e=>{let t=!1,{timeout:r,maxRetries:n}=(0,I3.providerConfigFromInit)(e),s=async(i,o)=>{let a=(await(0,Cb.retry)(async()=>{let c;try{c=await q3(o)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},i)).trim();return(0,Cb.retry)(async()=>{let c;try{c=await O3(a,o)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},i)};return async()=>{let i=await(0,b3.getInstanceMetadataEndpoint)();if(t)return s(n,{...i,timeout:r});{let o;try{o=(await x3({...i,timeout:r})).toString()}catch(a){if(a?.statusCode===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(t=!0),s(n,{...i,timeout:r})}return s(n,{...i,headers:{"x-aws-ec2-metadata-token":o},timeout:r})}}},x3=async e=>(0,_y.httpRequest)({...e,path:R3,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),q3=async e=>(await(0,_y.httpRequest)({...e,path:Tb})).toString(),O3=async(e,t)=>{let r=JSON.parse((await(0,_y.httpRequest)({...t,path:Tb+e})).toString());if(!(0,Rb.isImdsCredentials)(r))throw new P3.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,Rb.fromImdsCredentials)(r)}});var Ob=l(qb=>{"use strict";Object.defineProperty(qb,"__esModule",{value:!0})});var ds=l(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.getInstanceMetadataEndpoint=Gt.httpRequest=void 0;var $l=A();$l.__exportStar(fb(),Gt);$l.__exportStar(xb(),Gt);$l.__exportStar(ql(),Gt);$l.__exportStar(Ob(),Gt);var N3=xl();Object.defineProperty(Gt,"httpRequest",{enumerable:!0,get:function(){return N3.httpRequest}});var M3=hy();Object.defineProperty(Gt,"getInstanceMetadataEndpoint",{enumerable:!0,get:function(){return M3.getInstanceMetadataEndpoint}})});var Mb=l(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.resolveCredentialSource=void 0;var k3=gl(),Nb=ds(),D3=V(),j3=(e,t)=>{let r={EcsContainer:Nb.fromContainerMetadata,Ec2InstanceMetadata:Nb.fromInstanceMetadata,Environment:k3.fromEnv};if(e in r)return r[e]();throw new D3.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};Hl.resolveCredentialSource=j3});var kb=l(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.resolveAssumeRoleCredentials=ls.isAssumeRoleProfile=void 0;var yy=V(),L3=Ft(),z3=Mb(),F3=gy(),U3=e=>Boolean(e)&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&($3(e)||H3(e));ls.isAssumeRoleProfile=U3;var $3=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",H3=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",G3=async(e,t,r,n={})=>{let s=t[e];if(!r.roleAssumer)throw new yy.CredentialsProviderError(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:i}=s;if(i&&i in n)throw new yy.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,L3.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let o=i?(0,F3.resolveProfileData)(i,t,r,{...n,[i]:!0}):(0,z3.resolveCredentialSource)(s.credential_source,e)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:c}=s;if(c){if(!r.mfaCodeProvider)throw new yy.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await o;return r.roleAssumer(d,a)};ls.resolveAssumeRoleCredentials=G3});var Db=l(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.getValidatedProcessCredentials=void 0;var B3=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};Gl.getValidatedProcessCredentials=B3});var jb=l(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.resolveProcessCredentials=void 0;var wy=V(),V3=require("child_process"),W3=require("util"),K3=Db(),J3=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let s=(0,W3.promisify)(V3.exec);try{let{stdout:i}=await s(n),o;try{o=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return(0,K3.getValidatedProcessCredentials)(e,o)}catch(i){throw new wy.CredentialsProviderError(i.message)}}else throw new wy.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new wy.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)};Bl.resolveProcessCredentials=J3});var zb=l(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.fromProcess=void 0;var Lb=Ft(),Y3=jb(),X3=(e={})=>async()=>{let t=await(0,Lb.parseKnownFiles)(e);return(0,Y3.resolveProcessCredentials)((0,Lb.getProfileName)(e),t)};Vl.fromProcess=X3});var Wl=l(vy=>{"use strict";Object.defineProperty(vy,"__esModule",{value:!0});var Q3=A();Q3.__exportStar(zb(),vy)});var Fb=l(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.resolveProcessCredentials=us.isProcessProfile=void 0;var Z3=Wl(),eB=e=>Boolean(e)&&typeof e=="object"&&typeof e.credential_process=="string";us.isProcessProfile=eB;var tB=async(e,t)=>(0,Z3.fromProcess)({...e,profile:t})();us.resolveProcessCredentials=tB});var Ey=l(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.isSsoProfile=void 0;var rB=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");Kl.isSsoProfile=rB});var Yl=l(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.SSOServiceException=void 0;var nB=R(),qi=class extends nB.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,qi.prototype)}};Jl.SSOServiceException=qi});var In=l(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.LogoutRequestFilterSensitiveLog=H.ListAccountsResponseFilterSensitiveLog=H.ListAccountsRequestFilterSensitiveLog=H.ListAccountRolesResponseFilterSensitiveLog=H.RoleInfoFilterSensitiveLog=H.ListAccountRolesRequestFilterSensitiveLog=H.GetRoleCredentialsResponseFilterSensitiveLog=H.RoleCredentialsFilterSensitiveLog=H.GetRoleCredentialsRequestFilterSensitiveLog=H.AccountInfoFilterSensitiveLog=H.UnauthorizedException=H.TooManyRequestsException=H.ResourceNotFoundException=H.InvalidRequestException=void 0;var fs=R(),Xl=Yl(),Oi=class extends Xl.SSOServiceException{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Oi.prototype)}};H.InvalidRequestException=Oi;var Ni=class extends Xl.SSOServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Ni.prototype)}};H.ResourceNotFoundException=Ni;var Mi=class extends Xl.SSOServiceException{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Mi.prototype)}};H.TooManyRequestsException=Mi;var ki=class extends Xl.SSOServiceException{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,ki.prototype)}};H.UnauthorizedException=ki;var sB=e=>({...e});H.AccountInfoFilterSensitiveLog=sB;var iB=e=>({...e,...e.accessToken&&{accessToken:fs.SENSITIVE_STRING}});H.GetRoleCredentialsRequestFilterSensitiveLog=iB;var oB=e=>({...e,...e.secretAccessKey&&{secretAccessKey:fs.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:fs.SENSITIVE_STRING}});H.RoleCredentialsFilterSensitiveLog=oB;var aB=e=>({...e,...e.roleCredentials&&{roleCredentials:(0,H.RoleCredentialsFilterSensitiveLog)(e.roleCredentials)}});H.GetRoleCredentialsResponseFilterSensitiveLog=aB;var cB=e=>({...e,...e.accessToken&&{accessToken:fs.SENSITIVE_STRING}});H.ListAccountRolesRequestFilterSensitiveLog=cB;var dB=e=>({...e});H.RoleInfoFilterSensitiveLog=dB;var lB=e=>({...e});H.ListAccountRolesResponseFilterSensitiveLog=lB;var uB=e=>({...e,...e.accessToken&&{accessToken:fs.SENSITIVE_STRING}});H.ListAccountsRequestFilterSensitiveLog=uB;var fB=e=>({...e});H.ListAccountsResponseFilterSensitiveLog=fB;var pB=e=>({...e,...e.accessToken&&{accessToken:fs.SENSITIVE_STRING}});H.LogoutRequestFilterSensitiveLog=pB});var Di=l(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.deserializeAws_restJson1LogoutCommand=Pe.deserializeAws_restJson1ListAccountsCommand=Pe.deserializeAws_restJson1ListAccountRolesCommand=Pe.deserializeAws_restJson1GetRoleCredentialsCommand=Pe.serializeAws_restJson1LogoutCommand=Pe.serializeAws_restJson1ListAccountsCommand=Pe.serializeAws_restJson1ListAccountRolesCommand=Pe.serializeAws_restJson1GetRoleCredentialsCommand=void 0;var Ql=ke(),U=R(),Zl=In(),eu=Yl(),mB=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=De({},su,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/federation/credentials`,c=De({role_name:[,(0,U.expectNonNull)(e.roleName,"roleName")],account_id:[,(0,U.expectNonNull)(e.accountId,"accountId")]}),d;return new Ql.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:o,path:a,query:c,body:d})};Pe.serializeAws_restJson1GetRoleCredentialsCommand=mB;var hB=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=De({},su,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/assignment/roles`,c=De({next_token:[,e.nextToken],max_result:[()=>e.maxResults!==void 0,()=>e.maxResults.toString()],account_id:[,(0,U.expectNonNull)(e.accountId,"accountId")]}),d;return new Ql.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:o,path:a,query:c,body:d})};Pe.serializeAws_restJson1ListAccountRolesCommand=hB;var _B=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=De({},su,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/assignment/accounts`,c=De({next_token:[,e.nextToken],max_result:[()=>e.maxResults!==void 0,()=>e.maxResults.toString()]}),d;return new Ql.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:o,path:a,query:c,body:d})};Pe.serializeAws_restJson1ListAccountsCommand=_B;var yB=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=De({},su,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/logout`,c;return new Ql.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:o,path:a,body:c})};Pe.serializeAws_restJson1LogoutCommand=yB;var gB=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return wB(e,t);let r=De({$metadata:Wr(e)}),n=(0,U.expectNonNull)((0,U.expectObject)(await iu(e.body,t)),"body");return n.roleCredentials!=null&&(r.roleCredentials=CB(n.roleCredentials,t)),r};Pe.deserializeAws_restJson1GetRoleCredentialsCommand=gB;var wB=async(e,t)=>{let r={...e,body:await ou(e.body,t)},n=au(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await tu(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Sy(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ru(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await nu(r,t);default:let s=r.body;(0,U.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:eu.SSOServiceException,errorCode:n})}},vB=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return EB(e,t);let r=De({$metadata:Wr(e)}),n=(0,U.expectNonNull)((0,U.expectObject)(await iu(e.body,t)),"body");return n.nextToken!=null&&(r.nextToken=(0,U.expectString)(n.nextToken)),n.roleList!=null&&(r.roleList=xB(n.roleList,t)),r};Pe.deserializeAws_restJson1ListAccountRolesCommand=vB;var EB=async(e,t)=>{let r={...e,body:await ou(e.body,t)},n=au(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await tu(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Sy(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ru(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await nu(r,t);default:let s=r.body;(0,U.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:eu.SSOServiceException,errorCode:n})}},SB=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return PB(e,t);let r=De({$metadata:Wr(e)}),n=(0,U.expectNonNull)((0,U.expectObject)(await iu(e.body,t)),"body");return n.accountList!=null&&(r.accountList=RB(n.accountList,t)),n.nextToken!=null&&(r.nextToken=(0,U.expectString)(n.nextToken)),r};Pe.deserializeAws_restJson1ListAccountsCommand=SB;var PB=async(e,t)=>{let r={...e,body:await ou(e.body,t)},n=au(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await tu(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Sy(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ru(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await nu(r,t);default:let s=r.body;(0,U.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:eu.SSOServiceException,errorCode:n})}},IB=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return bB(e,t);let r=De({$metadata:Wr(e)});return await Ub(e.body,t),r};Pe.deserializeAws_restJson1LogoutCommand=IB;var bB=async(e,t)=>{let r={...e,body:await ou(e.body,t)},n=au(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await tu(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ru(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await nu(r,t);default:let s=r.body;(0,U.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:eu.SSOServiceException,errorCode:n})}},De=U.map,tu=async(e,t)=>{let r=De({}),n=e.body;n.message!=null&&(r.message=(0,U.expectString)(n.message));let s=new Zl.InvalidRequestException({$metadata:Wr(e),...r});return(0,U.decorateServiceException)(s,e.body)},Sy=async(e,t)=>{let r=De({}),n=e.body;n.message!=null&&(r.message=(0,U.expectString)(n.message));let s=new Zl.ResourceNotFoundException({$metadata:Wr(e),...r});return(0,U.decorateServiceException)(s,e.body)},ru=async(e,t)=>{let r=De({}),n=e.body;n.message!=null&&(r.message=(0,U.expectString)(n.message));let s=new Zl.TooManyRequestsException({$metadata:Wr(e),...r});return(0,U.decorateServiceException)(s,e.body)},nu=async(e,t)=>{let r=De({}),n=e.body;n.message!=null&&(r.message=(0,U.expectString)(n.message));let s=new Zl.UnauthorizedException({$metadata:Wr(e),...r});return(0,U.decorateServiceException)(s,e.body)},AB=(e,t)=>({accountId:(0,U.expectString)(e.accountId),accountName:(0,U.expectString)(e.accountName),emailAddress:(0,U.expectString)(e.emailAddress)}),RB=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:AB(n,t)),CB=(e,t)=>({accessKeyId:(0,U.expectString)(e.accessKeyId),expiration:(0,U.expectLong)(e.expiration),secretAccessKey:(0,U.expectString)(e.secretAccessKey),sessionToken:(0,U.expectString)(e.sessionToken)}),TB=(e,t)=>({accountId:(0,U.expectString)(e.accountId),roleName:(0,U.expectString)(e.roleName)}),xB=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:TB(n,t)),Wr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Ub=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),qB=(e,t)=>Ub(e,t).then(r=>t.utf8Encoder(r)),su=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),iu=(e,t)=>qB(e,t).then(r=>r.length?JSON.parse(r):{}),ou=async(e,t)=>{let r=await iu(e,t);return r.message=r.message??r.Message,r},au=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Py=l(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.GetRoleCredentialsCommand=void 0;var OB=k(),NB=j(),MB=R(),$b=In(),Hb=Di(),ji=class extends MB.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,NB.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,OB.getEndpointPlugin)(r,ji.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:$b.GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:$b.GetRoleCredentialsResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Hb.serializeAws_restJson1GetRoleCredentialsCommand)(t,r)}deserialize(t,r){return(0,Hb.deserializeAws_restJson1GetRoleCredentialsCommand)(t,r)}};cu.GetRoleCredentialsCommand=ji});var lu=l(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.ListAccountRolesCommand=void 0;var kB=k(),DB=j(),jB=R(),Gb=In(),Bb=Di(),Li=class extends jB.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,DB.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,kB.getEndpointPlugin)(r,Li.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"ListAccountRolesCommand",inputFilterSensitiveLog:Gb.ListAccountRolesRequestFilterSensitiveLog,outputFilterSensitiveLog:Gb.ListAccountRolesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Bb.serializeAws_restJson1ListAccountRolesCommand)(t,r)}deserialize(t,r){return(0,Bb.deserializeAws_restJson1ListAccountRolesCommand)(t,r)}};du.ListAccountRolesCommand=Li});var fu=l(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.ListAccountsCommand=void 0;var LB=k(),zB=j(),FB=R(),Vb=In(),Wb=Di(),zi=class extends FB.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,zB.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,LB.getEndpointPlugin)(r,zi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:Vb.ListAccountsRequestFilterSensitiveLog,outputFilterSensitiveLog:Vb.ListAccountsResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Wb.serializeAws_restJson1ListAccountsCommand)(t,r)}deserialize(t,r){return(0,Wb.deserializeAws_restJson1ListAccountsCommand)(t,r)}};uu.ListAccountsCommand=zi});var Iy=l(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.LogoutCommand=void 0;var UB=k(),$B=j(),HB=R(),GB=In(),Kb=Di(),Fi=class extends HB.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,$B.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,UB.getEndpointPlugin)(r,Fi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"LogoutCommand",inputFilterSensitiveLog:GB.LogoutRequestFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Kb.serializeAws_restJson1LogoutCommand)(t,r)}deserialize(t,r){return(0,Kb.deserializeAws_restJson1LogoutCommand)(t,r)}};pu.LogoutCommand=Fi});var Jb=l(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.resolveClientEndpointParameters=void 0;var BB=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});mu.resolveClientEndpointParameters=BB});var Yb=l((qae,VB)=>{VB.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.272.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.272.0","@aws-sdk/fetch-http-handler":"3.272.0","@aws-sdk/hash-node":"3.272.0","@aws-sdk/invalid-dependency":"3.272.0","@aws-sdk/middleware-content-length":"3.272.0","@aws-sdk/middleware-endpoint":"3.272.0","@aws-sdk/middleware-host-header":"3.272.0","@aws-sdk/middleware-logger":"3.272.0","@aws-sdk/middleware-recursion-detection":"3.272.0","@aws-sdk/middleware-retry":"3.272.0","@aws-sdk/middleware-serde":"3.272.0","@aws-sdk/middleware-stack":"3.272.0","@aws-sdk/middleware-user-agent":"3.272.0","@aws-sdk/node-config-provider":"3.272.0","@aws-sdk/node-http-handler":"3.272.0","@aws-sdk/protocol-http":"3.272.0","@aws-sdk/smithy-client":"3.272.0","@aws-sdk/types":"3.272.0","@aws-sdk/url-parser":"3.272.0","@aws-sdk/util-base64":"3.208.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.208.0","@aws-sdk/util-defaults-mode-browser":"3.272.0","@aws-sdk/util-defaults-mode-node":"3.272.0","@aws-sdk/util-endpoints":"3.272.0","@aws-sdk/util-retry":"3.272.0","@aws-sdk/util-user-agent-browser":"3.272.0","@aws-sdk/util-user-agent-node":"3.272.0","@aws-sdk/util-utf8":"3.254.0",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.208.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Ui=l(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.Hash=void 0;var by=Gn(),WB=or(),KB=require("buffer"),Xb=require("crypto"),Ay=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,WB.toUint8Array)(Qb(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Xb.createHmac)(this.algorithmIdentifier,Qb(this.secret)):(0,Xb.createHash)(this.algorithmIdentifier)}};hu.Hash=Ay;function Qb(e,t){return KB.Buffer.isBuffer(e)?e:typeof e=="string"?(0,by.fromString)(e,t):ArrayBuffer.isView(e)?(0,by.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,by.fromArrayBuffer)(e)}});var Cy=l(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.buildQueryString=void 0;var Ry=Rh();function JB(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Ry.escapeUri)(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${(0,Ry.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,Ry.escapeUri)(n)}`),t.push(s)}}return t.join("&")}_u.buildQueryString=JB});var Zb=l(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.NODEJS_TIMEOUT_ERROR_CODES=void 0;yu.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var Ty=l(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.getTransformedHeaders=void 0;var YB=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};gu.getTransformedHeaders=YB});var eA=l(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.setConnectionTimeout=void 0;var XB=(e,t,r=0)=>{!r||e.on("socket",n=>{if(n.connecting){let s=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);n.on("connect",()=>{clearTimeout(s)})}})};wu.setConnectionTimeout=XB});var tA=l(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.setSocketTimeout=void 0;var QB=(e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})};vu.setSocketTimeout=QB});var xy=l(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.writeRequestBody=void 0;var ZB=require("stream");function eV(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{rA(e,t.body)}):rA(e,t.body)}Eu.writeRequestBody=eV;function rA(e,t){t instanceof ZB.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}});var iA=l(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.NodeHttpHandler=void 0;var tV=ke(),rV=Cy(),nA=require("http"),sA=require("https"),nV=Zb(),sV=Ty(),iV=eA(),oV=tA(),aV=xy(),qy=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{connectionTimeout:r,socketTimeout:n,httpAgent:s,httpsAgent:i}=t||{},o=!0,a=50;return{connectionTimeout:r,socketTimeout:n,httpAgent:s||new nA.Agent({keepAlive:o,maxSockets:a}),httpsAgent:i||new sA.Agent({keepAlive:o,maxSockets:a})}}destroy(){var t,r,n,s;(r=(t=this.config)===null||t===void 0?void 0:t.httpAgent)===null||r===void 0||r.destroy(),(s=(n=this.config)===null||n===void 0?void 0:n.httpsAgent)===null||s===void 0||s.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let u=new Error("Request aborted");u.name="AbortError",s(u);return}let i=t.protocol==="https:",o=(0,rV.buildQueryString)(t.query||{}),a={headers:t.headers,host:t.hostname,method:t.method,path:o?`${t.path}?${o}`:t.path,port:t.port,agent:i?this.config.httpsAgent:this.config.httpAgent},d=(i?sA.request:nA.request)(a,u=>{let f=new tV.HttpResponse({statusCode:u.statusCode||-1,headers:(0,sV.getTransformedHeaders)(u.headers),body:u});n({response:f})});d.on("error",u=>{nV.NODEJS_TIMEOUT_ERROR_CODES.includes(u.code)?s(Object.assign(u,{name:"TimeoutError"})):s(u)}),(0,iV.setConnectionTimeout)(d,s,this.config.connectionTimeout),(0,oV.setSocketTimeout)(d,s,this.config.socketTimeout),r&&(r.onabort=()=>{d.abort();let u=new Error("Request aborted");u.name="AbortError",s(u)}),(0,aV.writeRequestBody)(d,t)})}};Su.NodeHttpHandler=qy});var oA=l(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.NodeHttp2Handler=void 0;var cV=ke(),dV=Cy(),Oy=require("http2"),lV=Ty(),uV=xy(),Ny=class{constructor(t){this.metadata={handlerProtocol:"h2"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})}),this.sessionCache=new Map}destroy(){for(let t of this.sessionCache.values())t.forEach(r=>this.destroySession(r));this.sessionCache.clear()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let{requestTimeout:n,disableConcurrentStreams:s}=this.config;return new Promise((i,o)=>{let a=!1;if(r?.aborted){a=!0;let M=new Error("Request aborted");M.name="AbortError",o(M);return}let{hostname:c,method:d,port:u,protocol:f,path:p,query:m}=t,_=`${f}//${c}${u?`:${u}`:""}`,g=this.getSession(_,s||!1),y=M=>{s&&this.destroySession(g),a=!0,o(M)},P=(0,dV.buildQueryString)(m||{}),N=g.request({...t.headers,[Oy.constants.HTTP2_HEADER_PATH]:P?`${p}?${P}`:p,[Oy.constants.HTTP2_HEADER_METHOD]:d});g.ref(),N.on("response",M=>{let he=new cV.HttpResponse({statusCode:M[":status"]||-1,headers:(0,lV.getTransformedHeaders)(M),body:N});a=!0,i({response:he}),s&&(g.close(),this.deleteSessionFromCache(_,g))}),n&&N.setTimeout(n,()=>{N.close();let M=new Error(`Stream timed out because of no activity for ${n} ms`);M.name="TimeoutError",y(M)}),r&&(r.onabort=()=>{N.close();let M=new Error("Request aborted");M.name="AbortError",y(M)}),N.on("frameError",(M,he,rr)=>{y(new Error(`Frame type id ${M} in stream id ${rr} has failed with code ${he}.`))}),N.on("error",y),N.on("aborted",()=>{y(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${N.rstCode}.`))}),N.on("close",()=>{g.unref(),s&&g.destroy(),a||y(new Error("Unexpected error: http2 request did not get a response"))}),(0,uV.writeRequestBody)(N,t)})}getSession(t,r){var n;let s=this.sessionCache,i=s.get(t)||[];if(i.length>0&&!r)return i[0];let o=(0,Oy.connect)(t);o.unref();let a=()=>{this.destroySession(o),this.deleteSessionFromCache(t,o)};return o.on("goaway",a),o.on("error",a),o.on("frameError",a),o.on("close",()=>this.deleteSessionFromCache(t,o)),!((n=this.config)===null||n===void 0)&&n.sessionTimeout&&o.setTimeout(this.config.sessionTimeout,a),i.push(o),s.set(t,i),o}destroySession(t){t.destroyed||t.destroy()}deleteSessionFromCache(t,r){let n=this.sessionCache.get(t)||[];!n.includes(r)||this.sessionCache.set(t,n.filter(s=>s!==r))}};Pu.NodeHttp2Handler=Ny});var aA=l(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.Collector=void 0;var fV=require("stream"),My=class extends fV.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};Iu.Collector=My});var cA=l(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.streamCollector=void 0;var pV=aA(),mV=e=>new Promise((t,r)=>{let n=new pV.Collector;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})});bu.streamCollector=mV});var Hi=l($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});var ky=A();ky.__exportStar(iA(),$i);ky.__exportStar(oA(),$i);ky.__exportStar(cA(),$i)});var lA=l(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.calculateBodyLength=void 0;var dA=require("fs"),hV=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,dA.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,dA.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};Au.calculateBodyLength=hV});var Gi=l(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0});var _V=A();_V.__exportStar(lA(),Dy)});var uA=l((Ru,jy)=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.isCrtAvailable=void 0;var yV=()=>{try{return typeof require=="function"&&typeof jy<"u"&&jy.require&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};Ru.isCrtAvailable=yV});var Bi=l(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.defaultUserAgent=Bt.UA_APP_ID_INI_NAME=Bt.UA_APP_ID_ENV_NAME=void 0;var gV=Vr(),fA=require("os"),Ly=require("process"),wV=uA();Bt.UA_APP_ID_ENV_NAME="AWS_SDK_UA_APP_ID";Bt.UA_APP_ID_INI_NAME="sdk-ua-app-id";var vV=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],[`os/${(0,fA.platform)()}`,(0,fA.release)()],["lang/js"],["md/nodejs",`${Ly.versions.node}`]],n=(0,wV.isCrtAvailable)();n&&r.push(n),e&&r.push([`api/${e}`,t]),Ly.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Ly.env.AWS_EXECUTION_ENV}`]);let s=(0,gV.loadConfig)({environmentVariableSelector:o=>o[Bt.UA_APP_ID_ENV_NAME],configFileSelector:o=>o[Bt.UA_APP_ID_INI_NAME],default:void 0})(),i;return async()=>{if(!i){let o=await s;i=o?[...r,[`app/${o}`]]:[...r]}return i}};Bt.defaultUserAgent=vV});var pA=l(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.fromBase64=void 0;var EV=Gn(),SV=/^[A-Za-z0-9+/]*={0,2}$/,PV=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!SV.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,EV.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Cu.fromBase64=PV});var mA=l(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.toBase64=void 0;var IV=Gn(),bV=e=>(0,IV.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("base64");Tu.toBase64=bV});var Vi=l(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});var hA=A();hA.__exportStar(pA(),xu);hA.__exportStar(mA(),xu)});var _A=l((Yae,AV)=>{AV.exports={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"}});var Fy=l(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.partition=void 0;var RV=A(),CV=RV.__importDefault(_A()),{partitions:zy}=CV.default,yA=zy.find(e=>e.id==="aws"),TV=e=>{for(let t of zy){let{regions:r,outputs:n}=t;for(let[s,i]of Object.entries(r))if(s===e)return{...n,...i}}for(let t of zy){let{regionRegex:r,outputs:n}=t;if(new RegExp(r).test(e))return{...n}}if(!yA)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...yA.outputs}};qu.partition=TV});var gA=l(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.debugId=void 0;Ou.debugId="endpoints"});var wA=l(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.toDebugString=void 0;function Uy(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Uy(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Uy).join(", ")})`:JSON.stringify(e,null,2)}Nu.toDebugString=Uy});var Wi=l(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});var vA=A();vA.__exportStar(gA(),Mu);vA.__exportStar(wA(),Mu)});var EA=l(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.EndpointError=void 0;var $y=class extends Error{constructor(t){super(t),this.name="EndpointError"}};ku.EndpointError=$y});var PA=l(SA=>{"use strict";Object.defineProperty(SA,"__esModule",{value:!0})});var bA=l(IA=>{"use strict";Object.defineProperty(IA,"__esModule",{value:!0})});var RA=l(AA=>{"use strict";Object.defineProperty(AA,"__esModule",{value:!0})});var TA=l(CA=>{"use strict";Object.defineProperty(CA,"__esModule",{value:!0})});var qA=l(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0})});var lt=l(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});var ps=A();ps.__exportStar(EA(),Kr);ps.__exportStar(PA(),Kr);ps.__exportStar(bA(),Kr);ps.__exportStar(RA(),Kr);ps.__exportStar(TA(),Kr);ps.__exportStar(qA(),Kr)});var Hy=l(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.isIpAddress=void 0;var xV=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),qV=e=>xV.test(e)||e.startsWith("[")&&e.endsWith("]");Du.isIpAddress=qV});var Gy=l(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.isValidHostLabel=void 0;var OV=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),NV=(e,t=!1)=>{if(!t)return OV.test(e);let r=e.split(".");for(let n of r)if(!(0,Ki.isValidHostLabel)(n))return!1;return!0};Ki.isValidHostLabel=NV});var OA=l(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.isVirtualHostableS3Bucket=void 0;var MV=Hy(),kV=Gy(),DV=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!(0,Ji.isVirtualHostableS3Bucket)(r))return!1;return!0}return!(!(0,kV.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,MV.isIpAddress)(e))};Ji.isVirtualHostableS3Bucket=DV});var NA=l(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.parseArn=void 0;var jV=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,s,i,o,...a]=t;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:i,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}};ju.parseArn=jV});var MA=l(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});var By=A();By.__exportStar(OA(),Yi);By.__exportStar(NA(),Yi);By.__exportStar(Fy(),Yi)});var kA=l(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.booleanEquals=void 0;var LV=(e,t)=>e===t;Lu.booleanEquals=LV});var jA=l(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.getAttrPathList=void 0;var DA=lt(),zV=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new DA.EndpointError(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new DA.EndpointError(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r};zu.getAttrPathList=zV});var LA=l(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.getAttr=void 0;var FV=lt(),UV=jA(),$V=(e,t)=>(0,UV.getAttrPathList)(t).reduce((r,n)=>{if(typeof r!="object")throw new FV.EndpointError(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);Fu.getAttr=$V});var zA=l(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.isSet=void 0;var HV=e=>e!=null;Uu.isSet=HV});var FA=l($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.not=void 0;var GV=e=>!e;$u.not=GV});var $A=l(UA=>{"use strict";Object.defineProperty(UA,"__esModule",{value:!0})});var HA=l(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.HttpAuthLocation=void 0;var BV;(function(e){e.HEADER="header",e.QUERY="query"})(BV=Xi.HttpAuthLocation||(Xi.HttpAuthLocation={}))});var BA=l(GA=>{"use strict";Object.defineProperty(GA,"__esModule",{value:!0})});var WA=l(VA=>{"use strict";Object.defineProperty(VA,"__esModule",{value:!0})});var JA=l(KA=>{"use strict";Object.defineProperty(KA,"__esModule",{value:!0})});var XA=l(YA=>{"use strict";Object.defineProperty(YA,"__esModule",{value:!0})});var ZA=l(QA=>{"use strict";Object.defineProperty(QA,"__esModule",{value:!0})});var eR=l(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.HostAddressType=void 0;var VV;(function(e){e.AAAA="AAAA",e.A="A"})(VV=Qi.HostAddressType||(Qi.HostAddressType={}))});var tR=l(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.EndpointURLScheme=void 0;var WV;(function(e){e.HTTP="http",e.HTTPS="https"})(WV=Zi.EndpointURLScheme||(Zi.EndpointURLScheme={}))});var nR=l(rR=>{"use strict";Object.defineProperty(rR,"__esModule",{value:!0})});var iR=l(sR=>{"use strict";Object.defineProperty(sR,"__esModule",{value:!0})});var aR=l(oR=>{"use strict";Object.defineProperty(oR,"__esModule",{value:!0})});var dR=l(cR=>{"use strict";Object.defineProperty(cR,"__esModule",{value:!0})});var uR=l(lR=>{"use strict";Object.defineProperty(lR,"__esModule",{value:!0})});var pR=l(fR=>{"use strict";Object.defineProperty(fR,"__esModule",{value:!0})});var hR=l(mR=>{"use strict";Object.defineProperty(mR,"__esModule",{value:!0})});var _R=l(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var eo=A();eo.__exportStar(aR(),bn);eo.__exportStar(dR(),bn);eo.__exportStar(uR(),bn);eo.__exportStar(pR(),bn);eo.__exportStar(hR(),bn)});var gR=l(yR=>{"use strict";Object.defineProperty(yR,"__esModule",{value:!0})});var vR=l(wR=>{"use strict";Object.defineProperty(wR,"__esModule",{value:!0})});var SR=l(ER=>{"use strict";Object.defineProperty(ER,"__esModule",{value:!0})});var IR=l(PR=>{"use strict";Object.defineProperty(PR,"__esModule",{value:!0})});var AR=l(bR=>{"use strict";Object.defineProperty(bR,"__esModule",{value:!0})});var CR=l(RR=>{"use strict";Object.defineProperty(RR,"__esModule",{value:!0})});var xR=l(TR=>{"use strict";Object.defineProperty(TR,"__esModule",{value:!0})});var OR=l(qR=>{"use strict";Object.defineProperty(qR,"__esModule",{value:!0})});var MR=l(NR=>{"use strict";Object.defineProperty(NR,"__esModule",{value:!0})});var DR=l(kR=>{"use strict";Object.defineProperty(kR,"__esModule",{value:!0})});var LR=l(jR=>{"use strict";Object.defineProperty(jR,"__esModule",{value:!0})});var FR=l(zR=>{"use strict";Object.defineProperty(zR,"__esModule",{value:!0})});var $R=l(UR=>{"use strict";Object.defineProperty(UR,"__esModule",{value:!0})});var GR=l(HR=>{"use strict";Object.defineProperty(HR,"__esModule",{value:!0})});var VR=l(BR=>{"use strict";Object.defineProperty(BR,"__esModule",{value:!0})});var WR=l(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});var Y=A();Y.__exportStar($A(),K);Y.__exportStar(HA(),K);Y.__exportStar(BA(),K);Y.__exportStar(WA(),K);Y.__exportStar(JA(),K);Y.__exportStar(XA(),K);Y.__exportStar(ZA(),K);Y.__exportStar(eR(),K);Y.__exportStar(tR(),K);Y.__exportStar(nR(),K);Y.__exportStar(iR(),K);Y.__exportStar(_R(),K);Y.__exportStar(gR(),K);Y.__exportStar(vR(),K);Y.__exportStar(SR(),K);Y.__exportStar(IR(),K);Y.__exportStar(AR(),K);Y.__exportStar(CR(),K);Y.__exportStar(xR(),K);Y.__exportStar(OR(),K);Y.__exportStar(MR(),K);Y.__exportStar(DR(),K);Y.__exportStar(LR(),K);Y.__exportStar(FR(),K);Y.__exportStar($R(),K);Y.__exportStar(GR(),K);Y.__exportStar(VR(),K)});var KR=l(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.parseURL=void 0;var Wy=WR(),KV=Hy(),Vy={[Wy.EndpointURLScheme.HTTP]:80,[Wy.EndpointURLScheme.HTTPS]:443},JV=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:p,port:m,protocol:_="",path:g="",query:y={}}=e,P=new URL(`${_}//${p}${m?`:${m}`:""}${g}`);return P.search=Object.entries(y).map(([N,M])=>`${N}=${M}`).join("&"),P}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(Wy.EndpointURLScheme).includes(c))return null;let d=(0,KV.isIpAddress)(s),u=r.includes(`${n}:${Vy[c]}`)||typeof e=="string"&&e.includes(`${n}:${Vy[c]}`),f=`${n}${u?`:${Vy[c]}`:""}`;return{scheme:c,authority:f,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:d}};Hu.parseURL=JV});var JR=l(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.stringEquals=void 0;var YV=(e,t)=>e===t;Gu.stringEquals=YV});var YR=l(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.substring=void 0;var XV=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);Bu.substring=XV});var XR=l(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.uriEncode=void 0;var QV=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);Vu.uriEncode=QV});var Ky=l(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.aws=void 0;var Vt=A();Xe.aws=Vt.__importStar(MA());Vt.__exportStar(kA(),Xe);Vt.__exportStar(LA(),Xe);Vt.__exportStar(zA(),Xe);Vt.__exportStar(Gy(),Xe);Vt.__exportStar(FA(),Xe);Vt.__exportStar(KR(),Xe);Vt.__exportStar(JR(),Xe);Vt.__exportStar(YR(),Xe);Vt.__exportStar(XR(),Xe)});var Jy=l(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.evaluateTemplate=void 0;var ZV=Ky(),eW=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,d]=a.split("#");r.push((0,ZV.getAttr)(n[c],d))}else r.push(n[a]);s=o+1}return r.join("")};Wu.evaluateTemplate=eW});var QR=l(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.getReferenceValue=void 0;var tW=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];Ku.getReferenceValue=tW});var to=l(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.evaluateExpression=void 0;var rW=lt(),nW=Yy(),sW=Jy(),iW=QR(),oW=(e,t,r)=>{if(typeof e=="string")return(0,sW.evaluateTemplate)(e,r);if(e.fn)return(0,nW.callFunction)(e,r);if(e.ref)return(0,iW.getReferenceValue)(e,r);throw new rW.EndpointError(`'${t}': ${String(e)} is not a string, function or reference.`)};Ju.evaluateExpression=oW});var Yy=l(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.callFunction=void 0;var aW=A(),cW=aW.__importStar(Ky()),dW=to(),lW=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:(0,dW.evaluateExpression)(s,"arg",r));return e.split(".").reduce((s,i)=>s[i],cW)(...n)};Yu.callFunction=lW});var ZR=l(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.evaluateCondition=void 0;var Xy=Wi(),uW=lt(),fW=Yy(),pW=({assign:e,...t},r)=>{var n,s;if(e&&e in r.referenceRecord)throw new uW.EndpointError(`'${e}' is already defined in Reference Record.`);let i=(0,fW.callFunction)(t,r);return(s=(n=r.logger)===null||n===void 0?void 0:n.debug)===null||s===void 0||s.call(n,Xy.debugId,`evaluateCondition: ${(0,Xy.toDebugString)(t)} = ${(0,Xy.toDebugString)(i)}`),{result:i===""?!0:!!i,...e!=null&&{toAssign:{name:e,value:i}}}};Xu.evaluateCondition=pW});var Zu=l(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.evaluateConditions=void 0;var e1=Wi(),mW=ZR(),hW=(e=[],t)=>{var r,n;let s={};for(let i of e){let{result:o,toAssign:a}=(0,mW.evaluateCondition)(i,{...t,referenceRecord:{...t.referenceRecord,...s}});if(!o)return{result:o};a&&(s[a.name]=a.value,(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,e1.debugId,`assign: ${a.name} := ${(0,e1.toDebugString)(a.value)}`))}return{result:!0,referenceRecord:s}};Qu.evaluateConditions=hW});var t1=l(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.getEndpointHeaders=void 0;var _W=lt(),yW=to(),gW=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=(0,yW.evaluateExpression)(i,"Header value entry",t);if(typeof o!="string")throw new _W.EndpointError(`Header '${n}' value '${o}' is not a string`);return o})}),{});ef.getEndpointHeaders=gW});var n1=l(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.getEndpointProperty=void 0;var r1=lt(),wW=Jy(),vW=Qy(),EW=(e,t)=>{if(Array.isArray(e))return e.map(r=>(0,ro.getEndpointProperty)(r,t));switch(typeof e){case"string":return(0,wW.evaluateTemplate)(e,t);case"object":if(e===null)throw new r1.EndpointError(`Unexpected endpoint property: ${e}`);return(0,vW.getEndpointProperties)(e,t);case"boolean":return e;default:throw new r1.EndpointError(`Unexpected endpoint property type: ${typeof e}`)}};ro.getEndpointProperty=EW});var Qy=l(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.getEndpointProperties=void 0;var SW=n1(),PW=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:(0,SW.getEndpointProperty)(s,t)}),{});tf.getEndpointProperties=PW});var s1=l(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.getEndpointUrl=void 0;var IW=lt(),bW=to(),AW=(e,t)=>{let r=(0,bW.evaluateExpression)(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new IW.EndpointError(`Endpoint URL must be a string, got ${typeof r}`)};rf.getEndpointUrl=AW});var o1=l(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.evaluateEndpointRule=void 0;var i1=Wi(),RW=Zu(),CW=t1(),TW=Qy(),xW=s1(),qW=(e,t)=>{var r,n;let{conditions:s,endpoint:i}=e,{result:o,referenceRecord:a}=(0,RW.evaluateConditions)(s,t);if(!o)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:d,properties:u,headers:f}=i;return(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,i1.debugId,`Resolving endpoint from template: ${(0,i1.toDebugString)(i)}`),{...f!=null&&{headers:(0,CW.getEndpointHeaders)(f,c)},...u!=null&&{properties:(0,TW.getEndpointProperties)(u,c)},url:(0,xW.getEndpointUrl)(d,c)}};nf.evaluateEndpointRule=qW});var a1=l(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.evaluateErrorRule=void 0;var OW=lt(),NW=Zu(),MW=to(),kW=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=(0,NW.evaluateConditions)(r,t);if(!!s)throw new OW.EndpointError((0,MW.evaluateExpression)(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))};sf.evaluateErrorRule=kW});var c1=l(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.evaluateTreeRule=void 0;var DW=Zu(),jW=Zy(),LW=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=(0,DW.evaluateConditions)(r,t);if(!!s)return(0,jW.evaluateRules)(n,{...t,referenceRecord:{...t.referenceRecord,...i}})};of.evaluateTreeRule=LW});var Zy=l(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.evaluateRules=void 0;var d1=lt(),zW=o1(),FW=a1(),UW=c1(),$W=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=(0,zW.evaluateEndpointRule)(r,t);if(n)return n}else if(r.type==="error")(0,FW.evaluateErrorRule)(r,t);else if(r.type==="tree"){let n=(0,UW.evaluateTreeRule)(r,t);if(n)return n}else throw new d1.EndpointError(`Unknown endpoint rule: ${r}`);throw new d1.EndpointError("Rules evaluation failed")};af.evaluateRules=$W});var l1=l(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});var HW=A();HW.__exportStar(Zy(),eg)});var u1=l(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.resolveEndpoint=void 0;var cf=Wi(),GW=lt(),BW=l1(),VW=(e,t)=>{var r,n,s,i,o,a;let{endpointParams:c,logger:d}=t,{parameters:u,rules:f}=e;(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,cf.debugId,`Initial EndpointParams: ${(0,cf.toDebugString)(c)}`);let p=Object.entries(u).filter(([,g])=>g.default!=null).map(([g,y])=>[g,y.default]);if(p.length>0)for(let[g,y]of p)c[g]=(s=c[g])!==null&&s!==void 0?s:y;let m=Object.entries(u).filter(([,g])=>g.required).map(([g])=>g);for(let g of m)if(c[g]==null)throw new GW.EndpointError(`Missing required parameter: '${g}'`);let _=(0,BW.evaluateRules)(f,{endpointParams:c,logger:d,referenceRecord:{}});if(!((i=t.endpointParams)===null||i===void 0)&&i.Endpoint)try{let g=new URL(t.endpointParams.Endpoint),{protocol:y,port:P}=g;_.url.protocol=y,_.url.port=P}catch{}return(a=(o=t.logger)===null||o===void 0?void 0:o.debug)===null||a===void 0||a.call(o,cf.debugId,`Resolved endpoint: ${(0,cf.toDebugString)(_)}`),_};df.resolveEndpoint=VW});var so=l(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});var tg=A();tg.__exportStar(Fy(),no);tg.__exportStar(u1(),no);tg.__exportStar(lt(),no)});var P1=l(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.ruleSet=void 0;var w1="required",hr="fn",_r="argv",ms="ref",rg="PartitionResult",Wt="tree",io="error",oo="endpoint",f1={[w1]:!1,type:"String"},p1={[w1]:!0,default:!1,type:"Boolean"},v1={[ms]:"Endpoint"},E1={[hr]:"booleanEquals",[_r]:[{[ms]:"UseFIPS"},!0]},S1={[hr]:"booleanEquals",[_r]:[{[ms]:"UseDualStack"},!0]},Kt={},m1={[hr]:"booleanEquals",[_r]:[!0,{[hr]:"getAttr",[_r]:[{[ms]:rg},"supportsFIPS"]}]},h1={[hr]:"booleanEquals",[_r]:[!0,{[hr]:"getAttr",[_r]:[{[ms]:rg},"supportsDualStack"]}]},_1=[v1],y1=[E1],g1=[S1],WW={version:"1.0",parameters:{Region:f1,UseDualStack:p1,UseFIPS:p1,Endpoint:f1},rules:[{conditions:[{[hr]:"aws.partition",[_r]:[{[ms]:"Region"}],assign:rg}],type:Wt,rules:[{conditions:[{[hr]:"isSet",[_r]:_1},{[hr]:"parseURL",[_r]:_1,assign:"url"}],type:Wt,rules:[{conditions:y1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:io},{type:Wt,rules:[{conditions:g1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:io},{endpoint:{url:v1,properties:Kt,headers:Kt},type:oo}]}]},{conditions:[E1,S1],type:Wt,rules:[{conditions:[m1,h1],type:Wt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Kt,headers:Kt},type:oo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:io}]},{conditions:y1,type:Wt,rules:[{conditions:[m1],type:Wt,rules:[{type:Wt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Kt,headers:Kt},type:oo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:io}]},{conditions:g1,type:Wt,rules:[{conditions:[h1],type:Wt,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Kt,headers:Kt},type:oo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:io}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Kt,headers:Kt},type:oo}]}]};lf.ruleSet=WW});var I1=l(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.defaultEndpointResolver=void 0;var KW=so(),JW=P1(),YW=(e,t={})=>(0,KW.resolveEndpoint)(JW.ruleSet,{endpointParams:e,logger:t.logger});uf.defaultEndpointResolver=YW});var R1=l(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.getRuntimeConfig=void 0;var XW=R(),QW=hn(),b1=Vi(),A1=or(),ZW=I1(),e4=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??b1.fromBase64,base64Encoder:e?.base64Encoder??b1.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ZW.defaultEndpointResolver,logger:e?.logger??new XW.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??QW.parseUrl,utf8Decoder:e?.utf8Decoder??A1.fromUtf8,utf8Encoder:e?.utf8Encoder??A1.toUtf8});ff.getRuntimeConfig=e4});var C1=l(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.IMDS_REGION_PATH=Be.DEFAULTS_MODE_OPTIONS=Be.ENV_IMDS_DISABLED=Be.AWS_DEFAULT_REGION_ENV=Be.AWS_REGION_ENV=Be.AWS_EXECUTION_ENV=void 0;Be.AWS_EXECUTION_ENV="AWS_EXECUTION_ENV";Be.AWS_REGION_ENV="AWS_REGION";Be.AWS_DEFAULT_REGION_ENV="AWS_DEFAULT_REGION";Be.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";Be.DEFAULTS_MODE_OPTIONS=["in-region","cross-region","mobile","standard","legacy"];Be.IMDS_REGION_PATH="/latest/meta-data/placement/region"});var T1=l(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.NODE_DEFAULTS_MODE_CONFIG_OPTIONS=void 0;var t4="AWS_DEFAULTS_MODE",r4="defaults_mode";pf.NODE_DEFAULTS_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[t4],configFileSelector:e=>e[r4],default:"legacy"}});var O1=l(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.resolveDefaultsModeConfig=void 0;var n4=Ct(),x1=ds(),q1=Vr(),s4=V(),Jr=C1(),i4=T1(),o4=({region:e=(0,q1.loadConfig)(n4.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,q1.loadConfig)(i4.NODE_DEFAULTS_MODE_CONFIG_OPTIONS)}={})=>(0,s4.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return a4(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Jr.DEFAULTS_MODE_OPTIONS.join(", ")}, got ${r}`)}});mf.resolveDefaultsModeConfig=o4;var a4=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await c4();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},c4=async()=>{var e;if(process.env[Jr.AWS_EXECUTION_ENV]&&(process.env[Jr.AWS_REGION_ENV]||process.env[Jr.AWS_DEFAULT_REGION_ENV]))return(e=process.env[Jr.AWS_REGION_ENV])!==null&&e!==void 0?e:process.env[Jr.AWS_DEFAULT_REGION_ENV];if(!process.env[Jr.ENV_IMDS_DISABLED])try{let t=await(0,x1.getInstanceMetadataEndpoint)();return(await(0,x1.httpRequest)({...t,path:Jr.IMDS_REGION_PATH})).toString()}catch{}}});var ao=l(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});var d4=A();d4.__exportStar(O1(),ng)});var k1=l(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.getRuntimeConfig=void 0;var l4=A(),u4=l4.__importDefault(Yb()),hf=Ct(),f4=Ui(),N1=ur(),co=Vr(),M1=Hi(),p4=Gi(),m4=ct(),h4=Bi(),_4=R1(),y4=R(),g4=ao(),w4=R(),v4=e=>{(0,w4.emitWarningIfUnsupportedVersion)(process.version);let t=(0,g4.resolveDefaultsModeConfig)(e),r=()=>t().then(y4.loadConfigsForDefaultMode),n=(0,_4.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??p4.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,h4.defaultUserAgent)({serviceId:n.serviceId,clientVersion:u4.default.version}),maxAttempts:e?.maxAttempts??(0,co.loadConfig)(N1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,co.loadConfig)(hf.NODE_REGION_CONFIG_OPTIONS,hf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new M1.NodeHttpHandler(r),retryMode:e?.retryMode??(0,co.loadConfig)({...N1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||m4.DEFAULT_RETRY_MODE}),sha256:e?.sha256??f4.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??M1.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,co.loadConfig)(hf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,co.loadConfig)(hf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};_f.getRuntimeConfig=v4});var lo=l(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.SSOClient=void 0;var E4=Ct(),S4=Hs(),P4=k(),D1=Ws(),I4=Ks(),b4=Js(),j1=ur(),L1=ni(),A4=R(),R4=Jb(),C4=k1(),sg=class extends A4.Client{constructor(t){let r=(0,C4.getRuntimeConfig)(t),n=(0,R4.resolveClientEndpointParameters)(r),s=(0,E4.resolveRegionConfig)(n),i=(0,P4.resolveEndpointConfig)(s),o=(0,j1.resolveRetryConfig)(i),a=(0,D1.resolveHostHeaderConfig)(o),c=(0,L1.resolveUserAgentConfig)(a);super(c),this.config=c,this.middlewareStack.use((0,j1.getRetryPlugin)(this.config)),this.middlewareStack.use((0,S4.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,D1.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,I4.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,b4.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,L1.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};yf.SSOClient=sg});var wf=l(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.SSO=void 0;var T4=Py(),x4=lu(),q4=fu(),O4=Iy(),N4=lo(),ig=class extends N4.SSOClient{getRoleCredentials(t,r,n){let s=new T4.GetRoleCredentialsCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listAccountRoles(t,r,n){let s=new x4.ListAccountRolesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listAccounts(t,r,n){let s=new q4.ListAccountsCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}logout(t,r,n){let s=new O4.LogoutCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};gf.SSO=ig});var z1=l(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var vf=A();vf.__exportStar(Py(),hs);vf.__exportStar(lu(),hs);vf.__exportStar(fu(),hs);vf.__exportStar(Iy(),hs)});var F1=l(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});var M4=A();M4.__exportStar(In(),og)});var $1=l(U1=>{"use strict";Object.defineProperty(U1,"__esModule",{value:!0})});var H1=l(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.paginateListAccountRoles=void 0;var k4=lu(),D4=wf(),j4=lo(),L4=async(e,t,...r)=>await e.send(new k4.ListAccountRolesCommand(t),...r),z4=async(e,t,...r)=>await e.listAccountRoles(t,...r);async function*F4(e,t,...r){let n=e.startingToken||void 0,s=!0,i;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof D4.SSO)i=await z4(e.client,t,...r);else if(e.client instanceof j4.SSOClient)i=await L4(e.client,t,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield i;let o=n;n=i.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==o))}return void 0}Ef.paginateListAccountRoles=F4});var G1=l(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.paginateListAccounts=void 0;var U4=fu(),$4=wf(),H4=lo(),G4=async(e,t,...r)=>await e.send(new U4.ListAccountsCommand(t),...r),B4=async(e,t,...r)=>await e.listAccounts(t,...r);async function*V4(e,t,...r){let n=e.startingToken||void 0,s=!0,i;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof $4.SSO)i=await B4(e.client,t,...r);else if(e.client instanceof H4.SSOClient)i=await G4(e.client,t,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield i;let o=n;n=i.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==o))}return void 0}Sf.paginateListAccounts=V4});var B1=l(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});var ag=A();ag.__exportStar($1(),uo);ag.__exportStar(H1(),uo);ag.__exportStar(G1(),uo)});var cg=l(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.SSOServiceException=void 0;var fo=A();fo.__exportStar(wf(),yr);fo.__exportStar(lo(),yr);fo.__exportStar(z1(),yr);fo.__exportStar(F1(),yr);fo.__exportStar(B1(),yr);var W4=Yl();Object.defineProperty(yr,"SSOServiceException",{enumerable:!0,get:function(){return W4.SSOServiceException}})});var Pf=l(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.REFRESH_MESSAGE=_s.EXPIRE_WINDOW_MS=void 0;_s.EXPIRE_WINDOW_MS=5*60*1e3;_s.REFRESH_MESSAGE="To refresh this SSO session run 'aws sso login' with the corresponding profile."});var bf=l(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.SSOOIDCServiceException=void 0;var K4=R(),po=class extends K4.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,po.prototype)}};If.SSOOIDCServiceException=po});var ys=l(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.StartDeviceAuthorizationResponseFilterSensitiveLog=L.StartDeviceAuthorizationRequestFilterSensitiveLog=L.RegisterClientResponseFilterSensitiveLog=L.RegisterClientRequestFilterSensitiveLog=L.CreateTokenResponseFilterSensitiveLog=L.CreateTokenRequestFilterSensitiveLog=L.InvalidClientMetadataException=L.UnsupportedGrantTypeException=L.UnauthorizedClientException=L.SlowDownException=L.InvalidScopeException=L.InvalidRequestException=L.InvalidGrantException=L.InvalidClientException=L.InternalServerException=L.ExpiredTokenException=L.AuthorizationPendingException=L.AccessDeniedException=void 0;var ut=bf(),mo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,mo.prototype),this.error=t.error,this.error_description=t.error_description}};L.AccessDeniedException=mo;var ho=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,ho.prototype),this.error=t.error,this.error_description=t.error_description}};L.AuthorizationPendingException=ho;var _o=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,_o.prototype),this.error=t.error,this.error_description=t.error_description}};L.ExpiredTokenException=_o;var yo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,yo.prototype),this.error=t.error,this.error_description=t.error_description}};L.InternalServerException=yo;var go=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,go.prototype),this.error=t.error,this.error_description=t.error_description}};L.InvalidClientException=go;var wo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,wo.prototype),this.error=t.error,this.error_description=t.error_description}};L.InvalidGrantException=wo;var vo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,vo.prototype),this.error=t.error,this.error_description=t.error_description}};L.InvalidRequestException=vo;var Eo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Eo.prototype),this.error=t.error,this.error_description=t.error_description}};L.InvalidScopeException=Eo;var So=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,So.prototype),this.error=t.error,this.error_description=t.error_description}};L.SlowDownException=So;var Po=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Po.prototype),this.error=t.error,this.error_description=t.error_description}};L.UnauthorizedClientException=Po;var Io=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Io.prototype),this.error=t.error,this.error_description=t.error_description}};L.UnsupportedGrantTypeException=Io;var bo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,bo.prototype),this.error=t.error,this.error_description=t.error_description}};L.InvalidClientMetadataException=bo;var J4=e=>({...e});L.CreateTokenRequestFilterSensitiveLog=J4;var Y4=e=>({...e});L.CreateTokenResponseFilterSensitiveLog=Y4;var X4=e=>({...e});L.RegisterClientRequestFilterSensitiveLog=X4;var Q4=e=>({...e});L.RegisterClientResponseFilterSensitiveLog=Q4;var Z4=e=>({...e});L.StartDeviceAuthorizationRequestFilterSensitiveLog=Z4;var e6=e=>({...e});L.StartDeviceAuthorizationResponseFilterSensitiveLog=e6});var Rf=l(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.deserializeAws_restJson1StartDeviceAuthorizationCommand=Ve.deserializeAws_restJson1RegisterClientCommand=Ve.deserializeAws_restJson1CreateTokenCommand=Ve.serializeAws_restJson1StartDeviceAuthorizationCommand=Ve.serializeAws_restJson1RegisterClientCommand=Ve.serializeAws_restJson1CreateTokenCommand=void 0;var dg=ke(),C=R(),ft=ys(),lg=bf(),t6=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o={"content-type":"application/json"},a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/token`,c;return c=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.code!=null&&{code:e.code},...e.deviceCode!=null&&{deviceCode:e.deviceCode},...e.grantType!=null&&{grantType:e.grantType},...e.redirectUri!=null&&{redirectUri:e.redirectUri},...e.refreshToken!=null&&{refreshToken:e.refreshToken},...e.scope!=null&&{scope:Y1(e.scope,t)}}),new dg.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:o,path:a,body:c})};Ve.serializeAws_restJson1CreateTokenCommand=t6;var r6=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o={"content-type":"application/json"},a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/client/register`,c;return c=JSON.stringify({...e.clientName!=null&&{clientName:e.clientName},...e.clientType!=null&&{clientType:e.clientType},...e.scopes!=null&&{scopes:Y1(e.scopes,t)}}),new dg.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:o,path:a,body:c})};Ve.serializeAws_restJson1RegisterClientCommand=r6;var n6=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o={"content-type":"application/json"},a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/device_authorization`,c;return c=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.startUrl!=null&&{startUrl:e.startUrl}}),new dg.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:o,path:a,body:c})};Ve.serializeAws_restJson1StartDeviceAuthorizationCommand=n6;var s6=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return i6(e,t);let r=je({$metadata:Le(e)}),n=(0,C.expectNonNull)((0,C.expectObject)(await Af(e.body,t)),"body");return n.accessToken!=null&&(r.accessToken=(0,C.expectString)(n.accessToken)),n.expiresIn!=null&&(r.expiresIn=(0,C.expectInt32)(n.expiresIn)),n.idToken!=null&&(r.idToken=(0,C.expectString)(n.idToken)),n.refreshToken!=null&&(r.refreshToken=(0,C.expectString)(n.refreshToken)),n.tokenType!=null&&(r.tokenType=(0,C.expectString)(n.tokenType)),r};Ve.deserializeAws_restJson1CreateTokenCommand=s6;var i6=async(e,t)=>{let r={...e,body:await pg(e.body,t)},n=mg(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await l6(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await u6(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await f6(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await ug(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await V1(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await m6(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await fg(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await W1(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await K1(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await J1(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await h6(r,t);default:let s=r.body;(0,C.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:lg.SSOOIDCServiceException,errorCode:n})}},o6=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return a6(e,t);let r=je({$metadata:Le(e)}),n=(0,C.expectNonNull)((0,C.expectObject)(await Af(e.body,t)),"body");return n.authorizationEndpoint!=null&&(r.authorizationEndpoint=(0,C.expectString)(n.authorizationEndpoint)),n.clientId!=null&&(r.clientId=(0,C.expectString)(n.clientId)),n.clientIdIssuedAt!=null&&(r.clientIdIssuedAt=(0,C.expectLong)(n.clientIdIssuedAt)),n.clientSecret!=null&&(r.clientSecret=(0,C.expectString)(n.clientSecret)),n.clientSecretExpiresAt!=null&&(r.clientSecretExpiresAt=(0,C.expectLong)(n.clientSecretExpiresAt)),n.tokenEndpoint!=null&&(r.tokenEndpoint=(0,C.expectString)(n.tokenEndpoint)),r};Ve.deserializeAws_restJson1RegisterClientCommand=o6;var a6=async(e,t)=>{let r={...e,body:await pg(e.body,t)},n=mg(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await ug(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await p6(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await fg(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await W1(r,t);default:let s=r.body;(0,C.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:lg.SSOOIDCServiceException,errorCode:n})}},c6=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return d6(e,t);let r=je({$metadata:Le(e)}),n=(0,C.expectNonNull)((0,C.expectObject)(await Af(e.body,t)),"body");return n.deviceCode!=null&&(r.deviceCode=(0,C.expectString)(n.deviceCode)),n.expiresIn!=null&&(r.expiresIn=(0,C.expectInt32)(n.expiresIn)),n.interval!=null&&(r.interval=(0,C.expectInt32)(n.interval)),n.userCode!=null&&(r.userCode=(0,C.expectString)(n.userCode)),n.verificationUri!=null&&(r.verificationUri=(0,C.expectString)(n.verificationUri)),n.verificationUriComplete!=null&&(r.verificationUriComplete=(0,C.expectString)(n.verificationUriComplete)),r};Ve.deserializeAws_restJson1StartDeviceAuthorizationCommand=c6;var d6=async(e,t)=>{let r={...e,body:await pg(e.body,t)},n=mg(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await ug(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await V1(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await fg(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await K1(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await J1(r,t);default:let s=r.body;(0,C.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:lg.SSOOIDCServiceException,errorCode:n})}},je=C.map,l6=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.AccessDeniedException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},u6=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.AuthorizationPendingException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},f6=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.ExpiredTokenException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},ug=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InternalServerException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},V1=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InvalidClientException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},p6=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InvalidClientMetadataException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},m6=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InvalidGrantException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},fg=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InvalidRequestException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},W1=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InvalidScopeException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},K1=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.SlowDownException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},J1=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.UnauthorizedClientException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},h6=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.UnsupportedGrantTypeException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},Y1=(e,t)=>e.filter(r=>r!=null).map(r=>r),Le=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),_6=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),y6=(e,t)=>_6(e,t).then(r=>t.utf8Encoder(r)),Af=(e,t)=>y6(e,t).then(r=>r.length?JSON.parse(r):{}),pg=async(e,t)=>{let r=await Af(e,t);return r.message=r.message??r.Message,r},mg=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var hg=l(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.CreateTokenCommand=void 0;var g6=k(),w6=j(),v6=R(),X1=ys(),Q1=Rf(),Ao=class extends v6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,w6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,g6.getEndpointPlugin)(r,Ao.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:X1.CreateTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:X1.CreateTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Q1.serializeAws_restJson1CreateTokenCommand)(t,r)}deserialize(t,r){return(0,Q1.deserializeAws_restJson1CreateTokenCommand)(t,r)}};Cf.CreateTokenCommand=Ao});var _g=l(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.RegisterClientCommand=void 0;var E6=k(),S6=j(),P6=R(),Z1=ys(),eC=Rf(),Ro=class extends P6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,S6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,E6.getEndpointPlugin)(r,Ro.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:Z1.RegisterClientRequestFilterSensitiveLog,outputFilterSensitiveLog:Z1.RegisterClientResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,eC.serializeAws_restJson1RegisterClientCommand)(t,r)}deserialize(t,r){return(0,eC.deserializeAws_restJson1RegisterClientCommand)(t,r)}};Tf.RegisterClientCommand=Ro});var yg=l(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.StartDeviceAuthorizationCommand=void 0;var I6=k(),b6=j(),A6=R(),tC=ys(),rC=Rf(),Co=class extends A6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,b6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,I6.getEndpointPlugin)(r,Co.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:tC.StartDeviceAuthorizationRequestFilterSensitiveLog,outputFilterSensitiveLog:tC.StartDeviceAuthorizationResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,rC.serializeAws_restJson1StartDeviceAuthorizationCommand)(t,r)}deserialize(t,r){return(0,rC.deserializeAws_restJson1StartDeviceAuthorizationCommand)(t,r)}};xf.StartDeviceAuthorizationCommand=Co});var nC=l(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.resolveClientEndpointParameters=void 0;var R6=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});qf.resolveClientEndpointParameters=R6});var sC=l((Gde,C6)=>{C6.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.272.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.272.0","@aws-sdk/fetch-http-handler":"3.272.0","@aws-sdk/hash-node":"3.272.0","@aws-sdk/invalid-dependency":"3.272.0","@aws-sdk/middleware-content-length":"3.272.0","@aws-sdk/middleware-endpoint":"3.272.0","@aws-sdk/middleware-host-header":"3.272.0","@aws-sdk/middleware-logger":"3.272.0","@aws-sdk/middleware-recursion-detection":"3.272.0","@aws-sdk/middleware-retry":"3.272.0","@aws-sdk/middleware-serde":"3.272.0","@aws-sdk/middleware-stack":"3.272.0","@aws-sdk/middleware-user-agent":"3.272.0","@aws-sdk/node-config-provider":"3.272.0","@aws-sdk/node-http-handler":"3.272.0","@aws-sdk/protocol-http":"3.272.0","@aws-sdk/smithy-client":"3.272.0","@aws-sdk/types":"3.272.0","@aws-sdk/url-parser":"3.272.0","@aws-sdk/util-base64":"3.208.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.208.0","@aws-sdk/util-defaults-mode-browser":"3.272.0","@aws-sdk/util-defaults-mode-node":"3.272.0","@aws-sdk/util-endpoints":"3.272.0","@aws-sdk/util-retry":"3.272.0","@aws-sdk/util-user-agent-browser":"3.272.0","@aws-sdk/util-user-agent-node":"3.272.0","@aws-sdk/util-utf8":"3.254.0",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.208.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var _C=l(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.ruleSet=void 0;var fC="required",gr="fn",wr="argv",gs="ref",gg="PartitionResult",Jt="tree",To="error",xo="endpoint",iC={[fC]:!1,type:"String"},oC={[fC]:!0,default:!1,type:"Boolean"},pC={[gs]:"Endpoint"},mC={[gr]:"booleanEquals",[wr]:[{[gs]:"UseFIPS"},!0]},hC={[gr]:"booleanEquals",[wr]:[{[gs]:"UseDualStack"},!0]},Yt={},aC={[gr]:"booleanEquals",[wr]:[!0,{[gr]:"getAttr",[wr]:[{[gs]:gg},"supportsFIPS"]}]},cC={[gr]:"booleanEquals",[wr]:[!0,{[gr]:"getAttr",[wr]:[{[gs]:gg},"supportsDualStack"]}]},dC=[pC],lC=[mC],uC=[hC],T6={version:"1.0",parameters:{Region:iC,UseDualStack:oC,UseFIPS:oC,Endpoint:iC},rules:[{conditions:[{[gr]:"aws.partition",[wr]:[{[gs]:"Region"}],assign:gg}],type:Jt,rules:[{conditions:[{[gr]:"isSet",[wr]:dC},{[gr]:"parseURL",[wr]:dC,assign:"url"}],type:Jt,rules:[{conditions:lC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:To},{type:Jt,rules:[{conditions:uC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:To},{endpoint:{url:pC,properties:Yt,headers:Yt},type:xo}]}]},{conditions:[mC,hC],type:Jt,rules:[{conditions:[aC,cC],type:Jt,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Yt,headers:Yt},type:xo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:To}]},{conditions:lC,type:Jt,rules:[{conditions:[aC],type:Jt,rules:[{type:Jt,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Yt,headers:Yt},type:xo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:To}]},{conditions:uC,type:Jt,rules:[{conditions:[cC],type:Jt,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Yt,headers:Yt},type:xo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:To}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Yt,headers:Yt},type:xo}]}]};Of.ruleSet=T6});var yC=l(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.defaultEndpointResolver=void 0;var x6=so(),q6=_C(),O6=(e,t={})=>(0,x6.resolveEndpoint)(q6.ruleSet,{endpointParams:e,logger:t.logger});Nf.defaultEndpointResolver=O6});var vC=l(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.getRuntimeConfig=void 0;var N6=R(),M6=hn(),gC=Vi(),wC=or(),k6=yC(),D6=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??gC.fromBase64,base64Encoder:e?.base64Encoder??gC.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??k6.defaultEndpointResolver,logger:e?.logger??new N6.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??M6.parseUrl,utf8Decoder:e?.utf8Decoder??wC.fromUtf8,utf8Encoder:e?.utf8Encoder??wC.toUtf8});Mf.getRuntimeConfig=D6});var PC=l(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.getRuntimeConfig=void 0;var j6=A(),L6=j6.__importDefault(sC()),kf=Ct(),z6=Ui(),EC=ur(),qo=Vr(),SC=Hi(),F6=Gi(),U6=ct(),$6=Bi(),H6=vC(),G6=R(),B6=ao(),V6=R(),W6=e=>{(0,V6.emitWarningIfUnsupportedVersion)(process.version);let t=(0,B6.resolveDefaultsModeConfig)(e),r=()=>t().then(G6.loadConfigsForDefaultMode),n=(0,H6.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??F6.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,$6.defaultUserAgent)({serviceId:n.serviceId,clientVersion:L6.default.version}),maxAttempts:e?.maxAttempts??(0,qo.loadConfig)(EC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,qo.loadConfig)(kf.NODE_REGION_CONFIG_OPTIONS,kf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new SC.NodeHttpHandler(r),retryMode:e?.retryMode??(0,qo.loadConfig)({...EC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||U6.DEFAULT_RETRY_MODE}),sha256:e?.sha256??z6.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??SC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,qo.loadConfig)(kf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,qo.loadConfig)(kf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Df.getRuntimeConfig=W6});var vg=l(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.SSOOIDCClient=void 0;var K6=Ct(),J6=Hs(),Y6=k(),IC=Ws(),X6=Ks(),Q6=Js(),bC=ur(),AC=ni(),Z6=R(),e8=nC(),t8=PC(),wg=class extends Z6.Client{constructor(t){let r=(0,t8.getRuntimeConfig)(t),n=(0,e8.resolveClientEndpointParameters)(r),s=(0,K6.resolveRegionConfig)(n),i=(0,Y6.resolveEndpointConfig)(s),o=(0,bC.resolveRetryConfig)(i),a=(0,IC.resolveHostHeaderConfig)(o),c=(0,AC.resolveUserAgentConfig)(a);super(c),this.config=c,this.middlewareStack.use((0,bC.getRetryPlugin)(this.config)),this.middlewareStack.use((0,J6.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,IC.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,X6.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Q6.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,AC.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};jf.SSOOIDCClient=wg});var RC=l(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.SSOOIDC=void 0;var r8=hg(),n8=_g(),s8=yg(),i8=vg(),Eg=class extends i8.SSOOIDCClient{createToken(t,r,n){let s=new r8.CreateTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}registerClient(t,r,n){let s=new n8.RegisterClientCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}startDeviceAuthorization(t,r,n){let s=new s8.StartDeviceAuthorizationCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};Lf.SSOOIDC=Eg});var CC=l(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});var Sg=A();Sg.__exportStar(hg(),Oo);Sg.__exportStar(_g(),Oo);Sg.__exportStar(yg(),Oo)});var TC=l(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});var o8=A();o8.__exportStar(ys(),Pg)});var Ig=l(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.SSOOIDCServiceException=void 0;var zf=A();zf.__exportStar(RC(),Yr);zf.__exportStar(vg(),Yr);zf.__exportStar(CC(),Yr);zf.__exportStar(TC(),Yr);var a8=bf();Object.defineProperty(Yr,"SSOOIDCServiceException",{enumerable:!0,get:function(){return a8.SSOOIDCServiceException}})});var xC=l(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.getSsoOidcClient=void 0;var c8=Ig(),bg={},d8=e=>{if(bg[e])return bg[e];let t=new c8.SSOOIDCClient({region:e});return bg[e]=t,t};Ff.getSsoOidcClient=d8});var qC=l(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.getNewSsoOidcToken=void 0;var l8=Ig(),u8=xC(),f8=(e,t)=>(0,u8.getSsoOidcClient)(t).send(new l8.CreateTokenCommand({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));Uf.getNewSsoOidcToken=f8});var OC=l($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.validateTokenExpiry=void 0;var p8=V(),m8=Pf(),h8=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new p8.TokenProviderError(`Token is expired. ${m8.REFRESH_MESSAGE}`,!1)};$f.validateTokenExpiry=h8});var NC=l(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.validateTokenKey=void 0;var _8=V(),y8=Pf(),g8=(e,t,r=!1)=>{if(typeof t>"u")throw new _8.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${y8.REFRESH_MESSAGE}`,!1)};Hf.validateTokenKey=g8});var MC=l(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.writeSSOTokenToFile=void 0;var w8=Ft(),v8=require("fs"),{writeFile:E8}=v8.promises,S8=(e,t)=>{let r=(0,w8.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return E8(r,n)};Gf.writeSSOTokenToFile=S8});var Ag=l(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.fromSso=void 0;var No=V(),Bf=Ft(),kC=Pf(),P8=qC(),DC=OC(),An=NC(),I8=MC(),jC=new Date(0),b8=(e={})=>async()=>{let t=await(0,Bf.parseKnownFiles)(e),r=(0,Bf.getProfileName)(e),n=t[r];if(n){if(!n.sso_session)throw new No.TokenProviderError(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new No.TokenProviderError(`Profile '${r}' could not be found in shared credentials file.`,!1);let s=n.sso_session,o=(await(0,Bf.loadSsoSessionData)(e))[s];if(!o)throw new No.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let m of["sso_start_url","sso_region"])if(!o[m])throw new No.TokenProviderError(`Sso session '${s}' is missing required property '${m}'.`,!1);let a=o.sso_start_url,c=o.sso_region,d;try{d=await(0,Bf.getSSOTokenFromFile)(s)}catch{throw new No.TokenProviderError(`The SSO session token associated with profile=${r} was not found or is invalid. ${kC.REFRESH_MESSAGE}`,!1)}(0,An.validateTokenKey)("accessToken",d.accessToken),(0,An.validateTokenKey)("expiresAt",d.expiresAt);let{accessToken:u,expiresAt:f}=d,p={token:u,expiration:new Date(f)};if(p.expiration.getTime()-Date.now()>kC.EXPIRE_WINDOW_MS)return p;if(Date.now()-jC.getTime()<30*1e3)return(0,DC.validateTokenExpiry)(p),p;(0,An.validateTokenKey)("clientId",d.clientId,!0),(0,An.validateTokenKey)("clientSecret",d.clientSecret,!0),(0,An.validateTokenKey)("refreshToken",d.refreshToken,!0);try{jC.setTime(Date.now());let m=await(0,P8.getNewSsoOidcToken)(d,c);(0,An.validateTokenKey)("accessToken",m.accessToken),(0,An.validateTokenKey)("expiresIn",m.expiresIn);let _=new Date(Date.now()+m.expiresIn*1e3);try{await(0,I8.writeSSOTokenToFile)(s,{...d,accessToken:m.accessToken,expiresAt:_.toISOString(),refreshToken:m.refreshToken})}catch{}return{token:m.accessToken,expiration:_}}catch{return(0,DC.validateTokenExpiry)(p),p}};Vf.fromSso=b8});var LC=l(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.fromStatic=void 0;var A8=V(),R8=({token:e})=>async()=>{if(!e||!e.token)throw new A8.TokenProviderError("Please pass a valid token to fromStatic",!1);return e};Wf.fromStatic=R8});var zC=l(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.nodeProvider=void 0;var Rg=V(),C8=Ag(),T8=(e={})=>(0,Rg.memoize)((0,Rg.chain)((0,C8.fromSso)(e),async()=>{throw new Rg.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Kf.nodeProvider=T8});var FC=l(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var Cg=A();Cg.__exportStar(Ag(),Mo);Cg.__exportStar(LC(),Mo);Cg.__exportStar(zC(),Mo)});var $C=l(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.resolveSSOCredentials=void 0;var UC=cg(),ko=V(),x8=Ft(),q8=FC(),O8=15*60*1e3,Do=!1,N8=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,profile:o})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let y=await(0,q8.fromSso)({profile:o})();a={accessToken:y.token,expiresAt:new Date(y.expiration).toISOString()}}catch(y){throw new ko.CredentialsProviderError(y.message,Do)}else try{a=await(0,x8.getSSOTokenFromFile)(e)}catch{throw new ko.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${c}`,Do)}if(new Date(a.expiresAt).getTime()-Date.now()<=O8)throw new ko.CredentialsProviderError(`The SSO session associated with this profile has expired. ${c}`,Do);let{accessToken:d}=a,u=i||new UC.SSOClient({region:n}),f;try{f=await u.send(new UC.GetRoleCredentialsCommand({accountId:r,roleName:s,accessToken:d}))}catch(y){throw ko.CredentialsProviderError.from(y,Do)}let{roleCredentials:{accessKeyId:p,secretAccessKey:m,sessionToken:_,expiration:g}={}}=f;if(!p||!m||!_||!g)throw new ko.CredentialsProviderError("SSO returns an invalid temporary credential.",Do);return{accessKeyId:p,secretAccessKey:m,sessionToken:_,expiration:new Date(g)}};Jf.resolveSSOCredentials=N8});var Tg=l(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.validateSsoProfile=void 0;var M8=V(),k8=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:s}=e;if(!t||!r||!n||!s)throw new M8.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};Yf.validateSsoProfile=k8});var GC=l(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.fromSSO=void 0;var jo=V(),xg=Ft(),D8=Ey(),HC=$C(),j8=Tg(),L8=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,ssoSession:o}=e,a=(0,xg.getProfileName)(e);if(!t&&!r&&!n&&!s&&!o){let d=(await(0,xg.parseKnownFiles)(e))[a];if(!d)throw new jo.CredentialsProviderError(`Profile ${a} was not found.`);if(!(0,D8.isSsoProfile)(d))throw new jo.CredentialsProviderError(`Profile ${a} is not configured with SSO credentials.`);if(d?.sso_session){let y=(await(0,xg.loadSsoSessionData)(e))[d.sso_session],P=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==y.sso_region)throw new jo.CredentialsProviderError("Conflicting SSO region"+P,!1);if(t&&t!==y.sso_start_url)throw new jo.CredentialsProviderError("Conflicting SSO start_url"+P,!1);d.sso_region=y.sso_region,d.sso_start_url=y.sso_start_url}let{sso_start_url:u,sso_account_id:f,sso_region:p,sso_role_name:m,sso_session:_}=(0,j8.validateSsoProfile)(d);return(0,HC.resolveSSOCredentials)({ssoStartUrl:u,ssoSession:_,ssoAccountId:f,ssoRegion:p,ssoRoleName:m,ssoClient:i,profile:a})}else{if(!t||!r||!n||!s)throw new jo.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return(0,HC.resolveSSOCredentials)({ssoStartUrl:t,ssoSession:o,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,profile:a})}};Xf.fromSSO=L8});var VC=l(BC=>{"use strict";Object.defineProperty(BC,"__esModule",{value:!0})});var Lo=l(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});var Qf=A();Qf.__exportStar(GC(),ws);Qf.__exportStar(Ey(),ws);Qf.__exportStar(VC(),ws);Qf.__exportStar(Tg(),ws)});var KC=l(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.resolveSsoCredentials=vs.isSsoProfile=void 0;var WC=Lo(),z8=Lo();Object.defineProperty(vs,"isSsoProfile",{enumerable:!0,get:function(){return z8.isSsoProfile}});var F8=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:s,sso_role_name:i}=(0,WC.validateSsoProfile)(e);return(0,WC.fromSSO)({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:s,ssoRoleName:i})()};vs.resolveSsoCredentials=F8});var JC=l(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.resolveStaticCredentials=Es.isStaticCredsProfile=void 0;var U8=e=>Boolean(e)&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1;Es.isStaticCredsProfile=U8;var $8=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});Es.resolveStaticCredentials=$8});var qg=l(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.fromWebToken=void 0;var H8=V(),G8=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:s,policyArns:i,policy:o,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new H8.CredentialsProviderError(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:i,Policy:o,DurationSeconds:a})};Zf.fromWebToken=G8});var YC=l(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.fromTokenFile=void 0;var B8=V(),V8=require("fs"),W8=qg(),K8="AWS_WEB_IDENTITY_TOKEN_FILE",J8="AWS_ROLE_ARN",Y8="AWS_ROLE_SESSION_NAME",X8=(e={})=>async()=>Q8(e);ep.fromTokenFile=X8;var Q8=e=>{var t,r,n;let s=(t=e?.webIdentityTokenFile)!==null&&t!==void 0?t:process.env[K8],i=(r=e?.roleArn)!==null&&r!==void 0?r:process.env[J8],o=(n=e?.roleSessionName)!==null&&n!==void 0?n:process.env[Y8];if(!s||!i)throw new B8.CredentialsProviderError("Web identity configuration not specified");return(0,W8.fromWebToken)({...e,webIdentityToken:(0,V8.readFileSync)(s,{encoding:"ascii"}),roleArn:i,roleSessionName:o})()}});var zo=l(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});var XC=A();XC.__exportStar(YC(),tp);XC.__exportStar(qg(),tp)});var QC=l(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.resolveWebIdentityCredentials=Ss.isWebIdentityProfile=void 0;var Z8=zo(),eK=e=>Boolean(e)&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1;Ss.isWebIdentityProfile=eK;var tK=async(e,t)=>(0,Z8.fromTokenFile)({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();Ss.resolveWebIdentityCredentials=tK});var gy=l(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.resolveProfileData=void 0;var rK=V(),ZC=kb(),eT=Fb(),tT=KC(),rp=JC(),rT=QC(),nK=async(e,t,r,n={})=>{let s=t[e];if(Object.keys(n).length>0&&(0,rp.isStaticCredsProfile)(s))return(0,rp.resolveStaticCredentials)(s);if((0,ZC.isAssumeRoleProfile)(s))return(0,ZC.resolveAssumeRoleCredentials)(e,t,r,n);if((0,rp.isStaticCredsProfile)(s))return(0,rp.resolveStaticCredentials)(s);if((0,rT.isWebIdentityProfile)(s))return(0,rT.resolveWebIdentityCredentials)(s,r);if((0,eT.isProcessProfile)(s))return(0,eT.resolveProcessCredentials)(r,e);if((0,tT.isSsoProfile)(s))return(0,tT.resolveSsoCredentials)(s);throw new rK.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)};np.resolveProfileData=nK});var sT=l(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.fromIni=void 0;var nT=Ft(),sK=gy(),iK=(e={})=>async()=>{let t=await(0,nT.parseKnownFiles)(e);return(0,sK.resolveProfileData)((0,nT.getProfileName)(e),t,e)};sp.fromIni=iK});var Ng=l(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});var oK=A();oK.__exportStar(sT(),Og)});var iT=l(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.remoteProvider=Rn.ENV_IMDS_DISABLED=void 0;var ip=ds(),aK=V();Rn.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";var cK=e=>process.env[ip.ENV_CMDS_RELATIVE_URI]||process.env[ip.ENV_CMDS_FULL_URI]?(0,ip.fromContainerMetadata)(e):process.env[Rn.ENV_IMDS_DISABLED]?async()=>{throw new aK.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:(0,ip.fromInstanceMetadata)(e);Rn.remoteProvider=cK});var oT=l(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.defaultProvider=void 0;var dK=gl(),lK=Ng(),uK=Wl(),fK=Lo(),pK=zo(),Mg=V(),mK=Ft(),hK=iT(),_K=(e={})=>(0,Mg.memoize)((0,Mg.chain)(...e.profile||process.env[mK.ENV_PROFILE]?[]:[(0,dK.fromEnv)()],(0,fK.fromSSO)(e),(0,lK.fromIni)(e),(0,uK.fromProcess)(e),(0,pK.fromTokenFile)(e),(0,hK.remoteProvider)(e),async()=>{throw new Mg.CredentialsProviderError("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);op.defaultProvider=_K});var ap=l(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});var yK=A();yK.__exportStar(oT(),kg)});var RT=l(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.ruleSet=void 0;var _T="required",D="type",G="fn",B="argv",Xr="ref",Cn="properties",Tn="headers",aT=!1,gK=!0,jg="PartitionResult",pt="tree",xn="booleanEquals",Ae="stringEquals",yT="sigv4",gT="us-east-1",wT="sts",te="endpoint",vT="https://sts.{Region}.{PartitionResult#dnsSuffix}",Fo="error",Lg="getAttr",cT={[_T]:!1,[D]:"String"},Dg={[_T]:!0,default:!1,[D]:"Boolean"},Re={[Xr]:"Region"},ET={[Xr]:"UseFIPS"},ST={[Xr]:"UseDualStack"},dT={[G]:"isSet",[B]:[{[Xr]:"Endpoint"}]},PT={[Xr]:"Endpoint"},qe={url:"https://sts.amazonaws.com",[Cn]:{authSchemes:[{name:yT,signingRegion:gT,signingName:wT}]},[Tn]:{}},vr={},lT={conditions:[{[G]:Ae,[B]:[Re,"aws-global"]}],[te]:qe,[D]:te},IT={[G]:xn,[B]:[ET,!0]},bT={[G]:xn,[B]:[ST,!0]},uT={[G]:xn,[B]:[!0,{[G]:Lg,[B]:[{[Xr]:jg},"supportsFIPS"]}]},AT={[Xr]:jg},fT={[G]:xn,[B]:[!0,{[G]:Lg,[B]:[AT,"supportsDualStack"]}]},pT={url:vT,[Cn]:{},[Tn]:{}},wK=[PT],mT=[IT],hT=[bT],vK={version:"1.0",parameters:{Region:cT,UseDualStack:Dg,UseFIPS:Dg,Endpoint:cT,UseGlobalEndpoint:Dg},rules:[{conditions:[{[G]:"aws.partition",[B]:[Re],assign:jg}],[D]:pt,rules:[{conditions:[{[G]:xn,[B]:[{[Xr]:"UseGlobalEndpoint"},gK]},{[G]:xn,[B]:[ET,aT]},{[G]:xn,[B]:[ST,aT]},{[G]:"not",[B]:[dT]}],[D]:pt,rules:[{conditions:[{[G]:Ae,[B]:[Re,"ap-northeast-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"ap-south-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"ap-southeast-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"ap-southeast-2"]}],endpoint:qe,[D]:te},lT,{conditions:[{[G]:Ae,[B]:[Re,"ca-central-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"eu-central-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"eu-north-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"eu-west-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"eu-west-2"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"eu-west-3"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"sa-east-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,gT]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"us-east-2"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"us-west-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"us-west-2"]}],endpoint:qe,[D]:te},{endpoint:{url:vT,[Cn]:{authSchemes:[{name:yT,signingRegion:"{Region}",signingName:wT}]},[Tn]:vr},[D]:te}]},{conditions:[dT,{[G]:"parseURL",[B]:wK,assign:"url"}],[D]:pt,rules:[{conditions:mT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[D]:Fo},{[D]:pt,rules:[{conditions:hT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[D]:Fo},{endpoint:{url:PT,[Cn]:vr,[Tn]:vr},[D]:te}]}]},{conditions:[IT,bT],[D]:pt,rules:[{conditions:[uT,fT],[D]:pt,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Cn]:vr,[Tn]:vr},[D]:te}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[D]:Fo}]},{conditions:mT,[D]:pt,rules:[{conditions:[uT],[D]:pt,rules:[{[D]:pt,rules:[{conditions:[{[G]:Ae,[B]:["aws-us-gov",{[G]:Lg,[B]:[AT,"name"]}]}],endpoint:pT,[D]:te},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[Cn]:vr,[Tn]:vr},[D]:te}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[D]:Fo}]},{conditions:hT,[D]:pt,rules:[{conditions:[fT],[D]:pt,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[Cn]:vr,[Tn]:vr},[D]:te}]},{error:"DualStack is enabled but this partition does not support DualStack",[D]:Fo}]},{[D]:pt,rules:[lT,{endpoint:pT,[D]:te}]}]}]};cp.ruleSet=vK});var CT=l(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.defaultEndpointResolver=void 0;var EK=so(),SK=RT(),PK=(e,t={})=>(0,EK.resolveEndpoint)(SK.ruleSet,{endpointParams:e,logger:t.logger});dp.defaultEndpointResolver=PK});var qT=l(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.getRuntimeConfig=void 0;var IK=R(),bK=hn(),TT=Vi(),xT=or(),AK=CT(),RK=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??TT.fromBase64,base64Encoder:e?.base64Encoder??TT.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??AK.defaultEndpointResolver,logger:e?.logger??new IK.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??bK.parseUrl,utf8Decoder:e?.utf8Decoder??xT.fromUtf8,utf8Encoder:e?.utf8Encoder??xT.toUtf8});lp.getRuntimeConfig=RK});var MT=l(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.getRuntimeConfig=void 0;var CK=A(),TK=CK.__importDefault(WI()),xK=ty(),up=Ct(),qK=ap(),OK=Ui(),OT=ur(),Uo=Vr(),NT=Hi(),NK=Gi(),MK=ct(),kK=Bi(),DK=qT(),jK=R(),LK=ao(),zK=R(),FK=e=>{(0,zK.emitWarningIfUnsupportedVersion)(process.version);let t=(0,LK.resolveDefaultsModeConfig)(e),r=()=>t().then(jK.loadConfigsForDefaultMode),n=(0,DK.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??NK.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??(0,xK.decorateDefaultCredentialProvider)(qK.defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,kK.defaultUserAgent)({serviceId:n.serviceId,clientVersion:TK.default.version}),maxAttempts:e?.maxAttempts??(0,Uo.loadConfig)(OT.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Uo.loadConfig)(up.NODE_REGION_CONFIG_OPTIONS,up.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new NT.NodeHttpHandler(r),retryMode:e?.retryMode??(0,Uo.loadConfig)({...OT.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||MK.DEFAULT_RETRY_MODE}),sha256:e?.sha256??OK.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??NT.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Uo.loadConfig)(up.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Uo.loadConfig)(up.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};fp.getRuntimeConfig=FK});var mp=l(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.STSClient=void 0;var UK=Ct(),$K=Hs(),HK=k(),kT=Ws(),GK=Ks(),BK=Js(),DT=ur(),VK=BI(),jT=ni(),WK=R(),KK=VI(),JK=MT(),$o=class extends WK.Client{constructor(t){let r=(0,JK.getRuntimeConfig)(t),n=(0,KK.resolveClientEndpointParameters)(r),s=(0,UK.resolveRegionConfig)(n),i=(0,HK.resolveEndpointConfig)(s),o=(0,DT.resolveRetryConfig)(i),a=(0,kT.resolveHostHeaderConfig)(o),c=(0,VK.resolveStsAuthConfig)(a,{stsClientCtor:$o}),d=(0,jT.resolveUserAgentConfig)(c);super(d),this.config=d,this.middlewareStack.use((0,DT.getRetryPlugin)(this.config)),this.middlewareStack.use((0,$K.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,kT.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,GK.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,BK.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,jT.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};pp.STSClient=$o});var LT=l(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.STS=void 0;var YK=al(),XK=J_(),QK=ll(),ZK=Y_(),eJ=X_(),tJ=Q_(),rJ=Z_(),nJ=ey(),sJ=mp(),zg=class extends sJ.STSClient{assumeRole(t,r,n){let s=new YK.AssumeRoleCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}assumeRoleWithSAML(t,r,n){let s=new XK.AssumeRoleWithSAMLCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}assumeRoleWithWebIdentity(t,r,n){let s=new QK.AssumeRoleWithWebIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}decodeAuthorizationMessage(t,r,n){let s=new ZK.DecodeAuthorizationMessageCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getAccessKeyInfo(t,r,n){let s=new eJ.GetAccessKeyInfoCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getCallerIdentity(t,r,n){let s=new tJ.GetCallerIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getFederationToken(t,r,n){let s=new rJ.GetFederationTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getSessionToken(t,r,n){let s=new nJ.GetSessionTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};hp.STS=zg});var zT=l(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});var Qr=A();Qr.__exportStar(al(),Xt);Qr.__exportStar(J_(),Xt);Qr.__exportStar(ll(),Xt);Qr.__exportStar(Y_(),Xt);Qr.__exportStar(X_(),Xt);Qr.__exportStar(Q_(),Xt);Qr.__exportStar(Z_(),Xt);Qr.__exportStar(ey(),Xt)});var HT=l(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.decorateDefaultCredentialProvider=Qt.getDefaultRoleAssumerWithWebIdentity=Qt.getDefaultRoleAssumer=void 0;var FT=ty(),UT=mp(),$T=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,iJ=(e={},t)=>(0,FT.getDefaultRoleAssumer)(e,$T(UT.STSClient,t));Qt.getDefaultRoleAssumer=iJ;var oJ=(e={},t)=>(0,FT.getDefaultRoleAssumerWithWebIdentity)(e,$T(UT.STSClient,t));Qt.getDefaultRoleAssumerWithWebIdentity=oJ;var aJ=e=>t=>e({roleAssumer:(0,Qt.getDefaultRoleAssumer)(t),roleAssumerWithWebIdentity:(0,Qt.getDefaultRoleAssumerWithWebIdentity)(t),...t});Qt.decorateDefaultCredentialProvider=aJ});var GT=l(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});var cJ=A();cJ.__exportStar(Et(),Fg)});var qn=l(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.STSServiceException=void 0;var Ho=A();Ho.__exportStar(LT(),Er);Ho.__exportStar(mp(),Er);Ho.__exportStar(zT(),Er);Ho.__exportStar(HT(),Er);Ho.__exportStar(GT(),Er);var dJ=rl();Object.defineProperty(Er,"STSServiceException",{enumerable:!0,get:function(){return dJ.STSServiceException}})});var rx=l(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.ruleSet=void 0;var QT="required",Sr="fn",Pr="argv",Ps="ref",Ug="PartitionResult",Zt="tree",Go="error",Bo="endpoint",BT={[QT]:!1,type:"String"},VT={[QT]:!0,default:!1,type:"Boolean"},ZT={[Ps]:"Endpoint"},ex={[Sr]:"booleanEquals",[Pr]:[{[Ps]:"UseFIPS"},!0]},tx={[Sr]:"booleanEquals",[Pr]:[{[Ps]:"UseDualStack"},!0]},er={},WT={[Sr]:"booleanEquals",[Pr]:[!0,{[Sr]:"getAttr",[Pr]:[{[Ps]:Ug},"supportsFIPS"]}]},KT={[Sr]:"booleanEquals",[Pr]:[!0,{[Sr]:"getAttr",[Pr]:[{[Ps]:Ug},"supportsDualStack"]}]},JT=[ZT],YT=[ex],XT=[tx],lJ={version:"1.0",parameters:{Region:BT,UseDualStack:VT,UseFIPS:VT,Endpoint:BT},rules:[{conditions:[{[Sr]:"aws.partition",[Pr]:[{[Ps]:"Region"}],assign:Ug}],type:Zt,rules:[{conditions:[{[Sr]:"isSet",[Pr]:JT},{[Sr]:"parseURL",[Pr]:JT,assign:"url"}],type:Zt,rules:[{conditions:YT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Go},{type:Zt,rules:[{conditions:XT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Go},{endpoint:{url:ZT,properties:er,headers:er},type:Bo}]}]},{conditions:[ex,tx],type:Zt,rules:[{conditions:[WT,KT],type:Zt,rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:er,headers:er},type:Bo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Go}]},{conditions:YT,type:Zt,rules:[{conditions:[WT],type:Zt,rules:[{type:Zt,rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:er,headers:er},type:Bo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Go}]},{conditions:XT,type:Zt,rules:[{conditions:[KT],type:Zt,rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:er,headers:er},type:Bo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Go}]},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:er,headers:er},type:Bo}]}]};_p.ruleSet=lJ});var nx=l(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.defaultEndpointResolver=void 0;var uJ=so(),fJ=rx(),pJ=(e,t={})=>(0,uJ.resolveEndpoint)(fJ.ruleSet,{endpointParams:e,logger:t.logger});yp.defaultEndpointResolver=pJ});var ox=l(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.getRuntimeConfig=void 0;var mJ=R(),hJ=hn(),sx=Vi(),ix=or(),_J=nx(),yJ=e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??sx.fromBase64,base64Encoder:e?.base64Encoder??sx.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_J.defaultEndpointResolver,logger:e?.logger??new mJ.NoOpLogger,serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??hJ.parseUrl,utf8Decoder:e?.utf8Decoder??ix.fromUtf8,utf8Encoder:e?.utf8Encoder??ix.toUtf8});gp.getRuntimeConfig=yJ});var dx=l(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.getRuntimeConfig=void 0;var gJ=A(),wJ=gJ.__importDefault(KP()),vJ=qn(),wp=Ct(),EJ=ap(),SJ=Ui(),ax=ur(),Vo=Vr(),cx=Hi(),PJ=Gi(),IJ=ct(),bJ=Bi(),AJ=ox(),RJ=R(),CJ=ao(),TJ=R(),xJ=e=>{(0,TJ.emitWarningIfUnsupportedVersion)(process.version);let t=(0,CJ.resolveDefaultsModeConfig)(e),r=()=>t().then(RJ.loadConfigsForDefaultMode),n=(0,AJ.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??PJ.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??(0,vJ.decorateDefaultCredentialProvider)(EJ.defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,bJ.defaultUserAgent)({serviceId:n.serviceId,clientVersion:wJ.default.version}),maxAttempts:e?.maxAttempts??(0,Vo.loadConfig)(ax.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Vo.loadConfig)(wp.NODE_REGION_CONFIG_OPTIONS,wp.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new cx.NodeHttpHandler(r),retryMode:e?.retryMode??(0,Vo.loadConfig)({...ax.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||IJ.DEFAULT_RETRY_MODE}),sha256:e?.sha256??SJ.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??cx.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Vo.loadConfig)(wp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Vo.loadConfig)(wp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};vp.getRuntimeConfig=xJ});var Sp=l(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.CognitoIdentityClient=void 0;var qJ=Ct(),OJ=Hs(),NJ=k(),lx=Ws(),MJ=Ks(),kJ=Js(),ux=ur(),DJ=J(),fx=ni(),jJ=R(),LJ=WP(),zJ=dx(),$g=class extends jJ.Client{constructor(t){let r=(0,zJ.getRuntimeConfig)(t),n=(0,LJ.resolveClientEndpointParameters)(r),s=(0,qJ.resolveRegionConfig)(n),i=(0,NJ.resolveEndpointConfig)(s),o=(0,ux.resolveRetryConfig)(i),a=(0,lx.resolveHostHeaderConfig)(o),c=(0,DJ.resolveAwsAuthConfig)(a),d=(0,fx.resolveUserAgentConfig)(c);super(d),this.config=d,this.middlewareStack.use((0,ux.getRetryPlugin)(this.config)),this.middlewareStack.use((0,OJ.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,lx.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,MJ.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,kJ.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,fx.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Ep.CognitoIdentityClient=$g});var Ip=l(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.CognitoIdentityServiceException=void 0;var FJ=R(),Wo=class extends FJ.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Wo.prototype)}};Pp.CognitoIdentityServiceException=Wo});var Q=l(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.LookupDeveloperIdentityResponseFilterSensitiveLog=v.LookupDeveloperIdentityInputFilterSensitiveLog=v.ListTagsForResourceResponseFilterSensitiveLog=v.ListTagsForResourceInputFilterSensitiveLog=v.ListIdentityPoolsResponseFilterSensitiveLog=v.IdentityPoolShortDescriptionFilterSensitiveLog=v.ListIdentityPoolsInputFilterSensitiveLog=v.ListIdentitiesResponseFilterSensitiveLog=v.ListIdentitiesInputFilterSensitiveLog=v.GetPrincipalTagAttributeMapResponseFilterSensitiveLog=v.GetPrincipalTagAttributeMapInputFilterSensitiveLog=v.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog=v.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog=v.GetOpenIdTokenResponseFilterSensitiveLog=v.GetOpenIdTokenInputFilterSensitiveLog=v.GetIdentityPoolRolesResponseFilterSensitiveLog=v.RoleMappingFilterSensitiveLog=v.RulesConfigurationTypeFilterSensitiveLog=v.MappingRuleFilterSensitiveLog=v.GetIdentityPoolRolesInputFilterSensitiveLog=v.GetIdResponseFilterSensitiveLog=v.GetIdInputFilterSensitiveLog=v.GetCredentialsForIdentityResponseFilterSensitiveLog=v.CredentialsFilterSensitiveLog=v.GetCredentialsForIdentityInputFilterSensitiveLog=v.DescribeIdentityPoolInputFilterSensitiveLog=v.IdentityDescriptionFilterSensitiveLog=v.DescribeIdentityInputFilterSensitiveLog=v.DeleteIdentityPoolInputFilterSensitiveLog=v.DeleteIdentitiesResponseFilterSensitiveLog=v.UnprocessedIdentityIdFilterSensitiveLog=v.DeleteIdentitiesInputFilterSensitiveLog=v.IdentityPoolFilterSensitiveLog=v.CreateIdentityPoolInputFilterSensitiveLog=v.CognitoIdentityProviderFilterSensitiveLog=v.ConcurrentModificationException=v.DeveloperUserAlreadyRegisteredException=v.RoleMappingType=v.MappingRuleMatchType=v.InvalidIdentityPoolConfigurationException=v.ExternalServiceException=v.ResourceNotFoundException=v.ErrorCode=v.TooManyRequestsException=v.ResourceConflictException=v.NotAuthorizedException=v.LimitExceededException=v.InvalidParameterException=v.InternalErrorException=v.AmbiguousRoleResolutionType=void 0;v.UntagResourceResponseFilterSensitiveLog=v.UntagResourceInputFilterSensitiveLog=v.UnlinkIdentityInputFilterSensitiveLog=v.UnlinkDeveloperIdentityInputFilterSensitiveLog=v.TagResourceResponseFilterSensitiveLog=v.TagResourceInputFilterSensitiveLog=v.SetPrincipalTagAttributeMapResponseFilterSensitiveLog=v.SetPrincipalTagAttributeMapInputFilterSensitiveLog=v.SetIdentityPoolRolesInputFilterSensitiveLog=v.MergeDeveloperIdentitiesResponseFilterSensitiveLog=v.MergeDeveloperIdentitiesInputFilterSensitiveLog=void 0;var St=Ip(),UJ;(function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"})(UJ=v.AmbiguousRoleResolutionType||(v.AmbiguousRoleResolutionType={}));var Ko=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,Ko.prototype)}};v.InternalErrorException=Ko;var Jo=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,Jo.prototype)}};v.InvalidParameterException=Jo;var Yo=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,Yo.prototype)}};v.LimitExceededException=Yo;var Xo=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,Xo.prototype)}};v.NotAuthorizedException=Xo;var Qo=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"ResourceConflictException",$fault:"client",...t}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,Qo.prototype)}};v.ResourceConflictException=Qo;var Zo=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Zo.prototype)}};v.TooManyRequestsException=Zo;var $J;(function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"})($J=v.ErrorCode||(v.ErrorCode={}));var ea=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ea.prototype)}};v.ResourceNotFoundException=ea;var ta=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"ExternalServiceException",$fault:"client",...t}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,ta.prototype)}};v.ExternalServiceException=ta;var ra=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,ra.prototype)}};v.InvalidIdentityPoolConfigurationException=ra;var HJ;(function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"})(HJ=v.MappingRuleMatchType||(v.MappingRuleMatchType={}));var GJ;(function(e){e.RULES="Rules",e.TOKEN="Token"})(GJ=v.RoleMappingType||(v.RoleMappingType={}));var na=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,na.prototype)}};v.DeveloperUserAlreadyRegisteredException=na;var sa=class extends St.CognitoIdentityServiceException{constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,sa.prototype)}};v.ConcurrentModificationException=sa;var BJ=e=>({...e});v.CognitoIdentityProviderFilterSensitiveLog=BJ;var VJ=e=>({...e});v.CreateIdentityPoolInputFilterSensitiveLog=VJ;var WJ=e=>({...e});v.IdentityPoolFilterSensitiveLog=WJ;var KJ=e=>({...e});v.DeleteIdentitiesInputFilterSensitiveLog=KJ;var JJ=e=>({...e});v.UnprocessedIdentityIdFilterSensitiveLog=JJ;var YJ=e=>({...e});v.DeleteIdentitiesResponseFilterSensitiveLog=YJ;var XJ=e=>({...e});v.DeleteIdentityPoolInputFilterSensitiveLog=XJ;var QJ=e=>({...e});v.DescribeIdentityInputFilterSensitiveLog=QJ;var ZJ=e=>({...e});v.IdentityDescriptionFilterSensitiveLog=ZJ;var e5=e=>({...e});v.DescribeIdentityPoolInputFilterSensitiveLog=e5;var t5=e=>({...e});v.GetCredentialsForIdentityInputFilterSensitiveLog=t5;var r5=e=>({...e});v.CredentialsFilterSensitiveLog=r5;var n5=e=>({...e});v.GetCredentialsForIdentityResponseFilterSensitiveLog=n5;var s5=e=>({...e});v.GetIdInputFilterSensitiveLog=s5;var i5=e=>({...e});v.GetIdResponseFilterSensitiveLog=i5;var o5=e=>({...e});v.GetIdentityPoolRolesInputFilterSensitiveLog=o5;var a5=e=>({...e});v.MappingRuleFilterSensitiveLog=a5;var c5=e=>({...e});v.RulesConfigurationTypeFilterSensitiveLog=c5;var d5=e=>({...e});v.RoleMappingFilterSensitiveLog=d5;var l5=e=>({...e});v.GetIdentityPoolRolesResponseFilterSensitiveLog=l5;var u5=e=>({...e});v.GetOpenIdTokenInputFilterSensitiveLog=u5;var f5=e=>({...e});v.GetOpenIdTokenResponseFilterSensitiveLog=f5;var p5=e=>({...e});v.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog=p5;var m5=e=>({...e});v.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog=m5;var h5=e=>({...e});v.GetPrincipalTagAttributeMapInputFilterSensitiveLog=h5;var _5=e=>({...e});v.GetPrincipalTagAttributeMapResponseFilterSensitiveLog=_5;var y5=e=>({...e});v.ListIdentitiesInputFilterSensitiveLog=y5;var g5=e=>({...e});v.ListIdentitiesResponseFilterSensitiveLog=g5;var w5=e=>({...e});v.ListIdentityPoolsInputFilterSensitiveLog=w5;var v5=e=>({...e});v.IdentityPoolShortDescriptionFilterSensitiveLog=v5;var E5=e=>({...e});v.ListIdentityPoolsResponseFilterSensitiveLog=E5;var S5=e=>({...e});v.ListTagsForResourceInputFilterSensitiveLog=S5;var P5=e=>({...e});v.ListTagsForResourceResponseFilterSensitiveLog=P5;var I5=e=>({...e});v.LookupDeveloperIdentityInputFilterSensitiveLog=I5;var b5=e=>({...e});v.LookupDeveloperIdentityResponseFilterSensitiveLog=b5;var A5=e=>({...e});v.MergeDeveloperIdentitiesInputFilterSensitiveLog=A5;var R5=e=>({...e});v.MergeDeveloperIdentitiesResponseFilterSensitiveLog=R5;var C5=e=>({...e});v.SetIdentityPoolRolesInputFilterSensitiveLog=C5;var T5=e=>({...e});v.SetPrincipalTagAttributeMapInputFilterSensitiveLog=T5;var x5=e=>({...e});v.SetPrincipalTagAttributeMapResponseFilterSensitiveLog=x5;var q5=e=>({...e});v.TagResourceInputFilterSensitiveLog=q5;var O5=e=>({...e});v.TagResourceResponseFilterSensitiveLog=O5;var N5=e=>({...e});v.UnlinkDeveloperIdentityInputFilterSensitiveLog=N5;var M5=e=>({...e});v.UnlinkIdentityInputFilterSensitiveLog=M5;var k5=e=>({...e});v.UntagResourceInputFilterSensitiveLog=k5;var D5=e=>({...e});v.UntagResourceResponseFilterSensitiveLog=D5});var re=l(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.deserializeAws_json1_1UpdateIdentityPoolCommand=S.deserializeAws_json1_1UntagResourceCommand=S.deserializeAws_json1_1UnlinkIdentityCommand=S.deserializeAws_json1_1UnlinkDeveloperIdentityCommand=S.deserializeAws_json1_1TagResourceCommand=S.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand=S.deserializeAws_json1_1SetIdentityPoolRolesCommand=S.deserializeAws_json1_1MergeDeveloperIdentitiesCommand=S.deserializeAws_json1_1LookupDeveloperIdentityCommand=S.deserializeAws_json1_1ListTagsForResourceCommand=S.deserializeAws_json1_1ListIdentityPoolsCommand=S.deserializeAws_json1_1ListIdentitiesCommand=S.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand=S.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=S.deserializeAws_json1_1GetOpenIdTokenCommand=S.deserializeAws_json1_1GetIdentityPoolRolesCommand=S.deserializeAws_json1_1GetIdCommand=S.deserializeAws_json1_1GetCredentialsForIdentityCommand=S.deserializeAws_json1_1DescribeIdentityPoolCommand=S.deserializeAws_json1_1DescribeIdentityCommand=S.deserializeAws_json1_1DeleteIdentityPoolCommand=S.deserializeAws_json1_1DeleteIdentitiesCommand=S.deserializeAws_json1_1CreateIdentityPoolCommand=S.serializeAws_json1_1UpdateIdentityPoolCommand=S.serializeAws_json1_1UntagResourceCommand=S.serializeAws_json1_1UnlinkIdentityCommand=S.serializeAws_json1_1UnlinkDeveloperIdentityCommand=S.serializeAws_json1_1TagResourceCommand=S.serializeAws_json1_1SetPrincipalTagAttributeMapCommand=S.serializeAws_json1_1SetIdentityPoolRolesCommand=S.serializeAws_json1_1MergeDeveloperIdentitiesCommand=S.serializeAws_json1_1LookupDeveloperIdentityCommand=S.serializeAws_json1_1ListTagsForResourceCommand=S.serializeAws_json1_1ListIdentityPoolsCommand=S.serializeAws_json1_1ListIdentitiesCommand=S.serializeAws_json1_1GetPrincipalTagAttributeMapCommand=S.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=S.serializeAws_json1_1GetOpenIdTokenCommand=S.serializeAws_json1_1GetIdentityPoolRolesCommand=S.serializeAws_json1_1GetIdCommand=S.serializeAws_json1_1GetCredentialsForIdentityCommand=S.serializeAws_json1_1DescribeIdentityPoolCommand=S.serializeAws_json1_1DescribeIdentityCommand=S.serializeAws_json1_1DeleteIdentityPoolCommand=S.serializeAws_json1_1DeleteIdentitiesCommand=S.serializeAws_json1_1CreateIdentityPoolCommand=void 0;var j5=ke(),E=R(),ne=Ip(),Pt=Q(),L5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.CreateIdentityPool"},n;return n=JSON.stringify(rY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1CreateIdentityPoolCommand=L5;var z5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DeleteIdentities"},n;return n=JSON.stringify(nY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1DeleteIdentitiesCommand=z5;var F5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DeleteIdentityPool"},n;return n=JSON.stringify(sY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1DeleteIdentityPoolCommand=F5;var U5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DescribeIdentity"},n;return n=JSON.stringify(iY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1DescribeIdentityCommand=U5;var $5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DescribeIdentityPool"},n;return n=JSON.stringify(oY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1DescribeIdentityPoolCommand=$5;var H5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},n;return n=JSON.stringify(aY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetCredentialsForIdentityCommand=H5;var G5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},n;return n=JSON.stringify(dY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetIdCommand=G5;var B5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetIdentityPoolRoles"},n;return n=JSON.stringify(cY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetIdentityPoolRolesCommand=B5;var V5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetOpenIdToken"},n;return n=JSON.stringify(uY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetOpenIdTokenCommand=V5;var W5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetOpenIdTokenForDeveloperIdentity"},n;return n=JSON.stringify(lY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=W5;var K5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetPrincipalTagAttributeMap"},n;return n=JSON.stringify(fY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetPrincipalTagAttributeMapCommand=K5;var J5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListIdentities"},n;return n=JSON.stringify(_Y(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1ListIdentitiesCommand=J5;var Y5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListIdentityPools"},n;return n=JSON.stringify(yY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1ListIdentityPoolsCommand=Y5;var X5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListTagsForResource"},n;return n=JSON.stringify(gY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1ListTagsForResourceCommand=X5;var Q5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.LookupDeveloperIdentity"},n;return n=JSON.stringify(vY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1LookupDeveloperIdentityCommand=Q5;var Z5=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.MergeDeveloperIdentities"},n;return n=JSON.stringify(PY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1MergeDeveloperIdentitiesCommand=Z5;var e7=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.SetIdentityPoolRoles"},n;return n=JSON.stringify(CY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1SetIdentityPoolRolesCommand=e7;var t7=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.SetPrincipalTagAttributeMap"},n;return n=JSON.stringify(TY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1SetPrincipalTagAttributeMapCommand=t7;var r7=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.TagResource"},n;return n=JSON.stringify(xY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1TagResourceCommand=r7;var n7=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UnlinkDeveloperIdentity"},n;return n=JSON.stringify(qY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1UnlinkDeveloperIdentityCommand=n7;var s7=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UnlinkIdentity"},n;return n=JSON.stringify(OY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1UnlinkIdentityCommand=s7;var i7=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UntagResource"},n;return n=JSON.stringify(NY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1UntagResourceCommand=i7;var o7=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UpdateIdentityPool"},n;return n=JSON.stringify(mY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1UpdateIdentityPoolCommand=o7;var a7=async(e,t)=>{if(e.statusCode>=300)return c7(e,t);let r=await we(e.body,t),n={};n=Bg(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1CreateIdentityPoolCommand=a7;var c7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Hg(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},d7=async(e,t)=>{if(e.statusCode>=300)return l7(e,t);let r=await we(e.body,t),n={};n=LY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1DeleteIdentitiesCommand=d7;var l7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},u7=async(e,t)=>{if(e.statusCode>=300)return f7(e,t);await oa(e.body,t);let r={$metadata:F(e)};return Promise.resolve(r)};S.deserializeAws_json1_1DeleteIdentityPoolCommand=u7;var f7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},p7=async(e,t)=>{if(e.statusCode>=300)return m7(e,t);let r=await we(e.body,t),n={};n=wx(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1DescribeIdentityCommand=p7;var m7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},h7=async(e,t)=>{if(e.statusCode>=300)return _7(e,t);let r=await we(e.body,t),n={};n=Bg(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1DescribeIdentityPoolCommand=h7;var _7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},y7=async(e,t)=>{if(e.statusCode>=300)return g7(e,t);let r=await we(e.body,t),n={};n=$Y(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetCredentialsForIdentityCommand=y7;var g7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await bp(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await eY(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},w7=async(e,t)=>{if(e.statusCode>=300)return v7(e,t);let r=await we(e.body,t),n={};n=GY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetIdCommand=w7;var v7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await bp(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Hg(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},E7=async(e,t)=>{if(e.statusCode>=300)return S7(e,t);let r=await we(e.body,t),n={};n=HY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetIdentityPoolRolesCommand=E7;var S7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},P7=async(e,t)=>{if(e.statusCode>=300)return I7(e,t);let r=await we(e.body,t),n={};n=VY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetOpenIdTokenCommand=P7;var I7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await bp(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},b7=async(e,t)=>{if(e.statusCode>=300)return A7(e,t);let r=await we(e.body,t),n={};n=BY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=b7;var A7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await Z7(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},R7=async(e,t)=>{if(e.statusCode>=300)return C7(e,t);let r=await we(e.body,t),n={};n=WY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand=R7;var C7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},T7=async(e,t)=>{if(e.statusCode>=300)return x7(e,t);let r=await we(e.body,t),n={};n=r9(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1ListIdentitiesCommand=T7;var x7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},q7=async(e,t)=>{if(e.statusCode>=300)return O7(e,t);let r=await we(e.body,t),n={};n=n9(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1ListIdentityPoolsCommand=q7;var O7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},N7=async(e,t)=>{if(e.statusCode>=300)return M7(e,t);let r=await we(e.body,t),n={};n=s9(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1ListTagsForResourceCommand=N7;var M7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},k7=async(e,t)=>{if(e.statusCode>=300)return D7(e,t);let r=await we(e.body,t),n={};n=o9(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1LookupDeveloperIdentityCommand=k7;var D7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},j7=async(e,t)=>{if(e.statusCode>=300)return L7(e,t);let r=await we(e.body,t),n={};n=d9(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1MergeDeveloperIdentitiesCommand=j7;var L7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},z7=async(e,t)=>{if(e.statusCode>=300)return F7(e,t);await oa(e.body,t);let r={$metadata:F(e)};return Promise.resolve(r)};S.deserializeAws_json1_1SetIdentityPoolRolesCommand=z7;var F7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await px(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},U7=async(e,t)=>{if(e.statusCode>=300)return $7(e,t);let r=await we(e.body,t),n={};n=w9(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand=U7;var $7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},H7=async(e,t)=>{if(e.statusCode>=300)return G7(e,t);let r=await we(e.body,t),n={};n=v9(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1TagResourceCommand=H7;var G7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},B7=async(e,t)=>{if(e.statusCode>=300)return V7(e,t);await oa(e.body,t);let r={$metadata:F(e)};return Promise.resolve(r)};S.deserializeAws_json1_1UnlinkDeveloperIdentityCommand=B7;var V7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},W7=async(e,t)=>{if(e.statusCode>=300)return K7(e,t);await oa(e.body,t);let r={$metadata:F(e)};return Promise.resolve(r)};S.deserializeAws_json1_1UnlinkIdentityCommand=W7;var K7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await bp(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},J7=async(e,t)=>{if(e.statusCode>=300)return Y7(e,t);let r=await we(e.body,t),n={};n=I9(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1UntagResourceCommand=J7;var Y7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},X7=async(e,t)=>{if(e.statusCode>=300)return Q7(e,t);let r=await we(e.body,t),n={};n=Bg(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1UpdateIdentityPoolCommand=X7;var Q7=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await px(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Hg(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},px=async(e,t)=>{let r=e.body,n=DY(r,t),s=new Pt.ConcurrentModificationException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},Z7=async(e,t)=>{let r=e.body,n=zY(r,t),s=new Pt.DeveloperUserAlreadyRegisteredException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},bp=async(e,t)=>{let r=e.body,n=UY(r,t),s=new Pt.ExternalServiceException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},se=async(e,t)=>{let r=e.body,n=QY(r,t),s=new Pt.InternalErrorException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},eY=async(e,t)=>{let r=e.body,n=ZY(r,t),s=new Pt.InvalidIdentityPoolConfigurationException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},ie=async(e,t)=>{let r=e.body,n=e9(r,t),s=new Pt.InvalidParameterException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},Hg=async(e,t)=>{let r=e.body,n=t9(r,t),s=new Pt.LimitExceededException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},fe=async(e,t)=>{let r=e.body,n=l9(r,t),s=new Pt.NotAuthorizedException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},mt=async(e,t)=>{let r=e.body,n=f9(r,t),s=new Pt.ResourceConflictException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},pe=async(e,t)=>{let r=e.body,n=p9(r,t),s=new Pt.ResourceNotFoundException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},oe=async(e,t)=>{let r=e.body,n=E9(r,t),s=new Pt.TooManyRequestsException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},tY=(e,t)=>({...e.ClientId!=null&&{ClientId:e.ClientId},...e.ProviderName!=null&&{ProviderName:e.ProviderName},...e.ServerSideTokenCheck!=null&&{ServerSideTokenCheck:e.ServerSideTokenCheck}}),mx=(e,t)=>e.filter(r=>r!=null).map(r=>tY(r,t)),rY=(e,t)=>({...e.AllowClassicFlow!=null&&{AllowClassicFlow:e.AllowClassicFlow},...e.AllowUnauthenticatedIdentities!=null&&{AllowUnauthenticatedIdentities:e.AllowUnauthenticatedIdentities},...e.CognitoIdentityProviders!=null&&{CognitoIdentityProviders:mx(e.CognitoIdentityProviders,t)},...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.IdentityPoolName!=null&&{IdentityPoolName:e.IdentityPoolName},...e.IdentityPoolTags!=null&&{IdentityPoolTags:Gg(e.IdentityPoolTags,t)},...e.OpenIdConnectProviderARNs!=null&&{OpenIdConnectProviderARNs:_x(e.OpenIdConnectProviderARNs,t)},...e.SamlProviderARNs!=null&&{SamlProviderARNs:gx(e.SamlProviderARNs,t)},...e.SupportedLoginProviders!=null&&{SupportedLoginProviders:hx(e.SupportedLoginProviders,t)}}),nY=(e,t)=>({...e.IdentityIdsToDelete!=null&&{IdentityIdsToDelete:pY(e.IdentityIdsToDelete,t)}}),sY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),iY=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId}}),oY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),aY=(e,t)=>({...e.CustomRoleArn!=null&&{CustomRoleArn:e.CustomRoleArn},...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.Logins!=null&&{Logins:ia(e.Logins,t)}}),cY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),dY=(e,t)=>({...e.AccountId!=null&&{AccountId:e.AccountId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.Logins!=null&&{Logins:ia(e.Logins,t)}}),lY=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.Logins!=null&&{Logins:ia(e.Logins,t)},...e.PrincipalTags!=null&&{PrincipalTags:yx(e.PrincipalTags,t)},...e.TokenDuration!=null&&{TokenDuration:e.TokenDuration}}),uY=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.Logins!=null&&{Logins:ia(e.Logins,t)}}),fY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.IdentityProviderName!=null&&{IdentityProviderName:e.IdentityProviderName}}),pY=(e,t)=>e.filter(r=>r!=null).map(r=>r),mY=(e,t)=>({...e.AllowClassicFlow!=null&&{AllowClassicFlow:e.AllowClassicFlow},...e.AllowUnauthenticatedIdentities!=null&&{AllowUnauthenticatedIdentities:e.AllowUnauthenticatedIdentities},...e.CognitoIdentityProviders!=null&&{CognitoIdentityProviders:mx(e.CognitoIdentityProviders,t)},...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.IdentityPoolName!=null&&{IdentityPoolName:e.IdentityPoolName},...e.IdentityPoolTags!=null&&{IdentityPoolTags:Gg(e.IdentityPoolTags,t)},...e.OpenIdConnectProviderARNs!=null&&{OpenIdConnectProviderARNs:_x(e.OpenIdConnectProviderARNs,t)},...e.SamlProviderARNs!=null&&{SamlProviderARNs:gx(e.SamlProviderARNs,t)},...e.SupportedLoginProviders!=null&&{SupportedLoginProviders:hx(e.SupportedLoginProviders,t)}}),hY=(e,t)=>e.filter(r=>r!=null).map(r=>r),Gg=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=s),r),{}),hx=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=s),r),{}),_Y=(e,t)=>({...e.HideDisabled!=null&&{HideDisabled:e.HideDisabled},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.MaxResults!=null&&{MaxResults:e.MaxResults},...e.NextToken!=null&&{NextToken:e.NextToken}}),yY=(e,t)=>({...e.MaxResults!=null&&{MaxResults:e.MaxResults},...e.NextToken!=null&&{NextToken:e.NextToken}}),gY=(e,t)=>({...e.ResourceArn!=null&&{ResourceArn:e.ResourceArn}}),wY=(e,t)=>e.filter(r=>r!=null).map(r=>r),ia=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=s),r),{}),vY=(e,t)=>({...e.DeveloperUserIdentifier!=null&&{DeveloperUserIdentifier:e.DeveloperUserIdentifier},...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.MaxResults!=null&&{MaxResults:e.MaxResults},...e.NextToken!=null&&{NextToken:e.NextToken}}),EY=(e,t)=>({...e.Claim!=null&&{Claim:e.Claim},...e.MatchType!=null&&{MatchType:e.MatchType},...e.RoleARN!=null&&{RoleARN:e.RoleARN},...e.Value!=null&&{Value:e.Value}}),SY=(e,t)=>e.filter(r=>r!=null).map(r=>EY(r,t)),PY=(e,t)=>({...e.DestinationUserIdentifier!=null&&{DestinationUserIdentifier:e.DestinationUserIdentifier},...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.SourceUserIdentifier!=null&&{SourceUserIdentifier:e.SourceUserIdentifier}}),_x=(e,t)=>e.filter(r=>r!=null).map(r=>r),yx=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=s),r),{}),IY=(e,t)=>({...e.AmbiguousRoleResolution!=null&&{AmbiguousRoleResolution:e.AmbiguousRoleResolution},...e.RulesConfiguration!=null&&{RulesConfiguration:RY(e.RulesConfiguration,t)},...e.Type!=null&&{Type:e.Type}}),bY=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=IY(s,t)),r),{}),AY=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=s),r),{}),RY=(e,t)=>({...e.Rules!=null&&{Rules:SY(e.Rules,t)}}),gx=(e,t)=>e.filter(r=>r!=null).map(r=>r),CY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.RoleMappings!=null&&{RoleMappings:bY(e.RoleMappings,t)},...e.Roles!=null&&{Roles:AY(e.Roles,t)}}),TY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.IdentityProviderName!=null&&{IdentityProviderName:e.IdentityProviderName},...e.PrincipalTags!=null&&{PrincipalTags:yx(e.PrincipalTags,t)},...e.UseDefaults!=null&&{UseDefaults:e.UseDefaults}}),xY=(e,t)=>({...e.ResourceArn!=null&&{ResourceArn:e.ResourceArn},...e.Tags!=null&&{Tags:Gg(e.Tags,t)}}),qY=(e,t)=>({...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.DeveloperUserIdentifier!=null&&{DeveloperUserIdentifier:e.DeveloperUserIdentifier},...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),OY=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.Logins!=null&&{Logins:ia(e.Logins,t)},...e.LoginsToRemove!=null&&{LoginsToRemove:wY(e.LoginsToRemove,t)}}),NY=(e,t)=>({...e.ResourceArn!=null&&{ResourceArn:e.ResourceArn},...e.TagKeys!=null&&{TagKeys:hY(e.TagKeys,t)}}),MY=(e,t)=>({ClientId:(0,E.expectString)(e.ClientId),ProviderName:(0,E.expectString)(e.ProviderName),ServerSideTokenCheck:(0,E.expectBoolean)(e.ServerSideTokenCheck)}),kY=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:MY(n,t)),DY=(e,t)=>({message:(0,E.expectString)(e.message)}),jY=(e,t)=>({AccessKeyId:(0,E.expectString)(e.AccessKeyId),Expiration:e.Expiration!=null?(0,E.expectNonNull)((0,E.parseEpochTimestamp)((0,E.expectNumber)(e.Expiration))):void 0,SecretKey:(0,E.expectString)(e.SecretKey),SessionToken:(0,E.expectString)(e.SessionToken)}),LY=(e,t)=>({UnprocessedIdentityIds:e.UnprocessedIdentityIds!=null?P9(e.UnprocessedIdentityIds,t):void 0}),zY=(e,t)=>({message:(0,E.expectString)(e.message)}),FY=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),UY=(e,t)=>({message:(0,E.expectString)(e.message)}),$Y=(e,t)=>({Credentials:e.Credentials!=null?jY(e.Credentials,t):void 0,IdentityId:(0,E.expectString)(e.IdentityId)}),HY=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),RoleMappings:e.RoleMappings!=null?h9(e.RoleMappings,t):void 0,Roles:e.Roles!=null?_9(e.Roles,t):void 0}),GY=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId)}),BY=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId),Token:(0,E.expectString)(e.Token)}),VY=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId),Token:(0,E.expectString)(e.Token)}),WY=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityProviderName:(0,E.expectString)(e.IdentityProviderName),PrincipalTags:e.PrincipalTags!=null?Ex(e.PrincipalTags,t):void 0,UseDefaults:(0,E.expectBoolean)(e.UseDefaults)}),KY=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:wx(n,t)),wx=(e,t)=>({CreationDate:e.CreationDate!=null?(0,E.expectNonNull)((0,E.parseEpochTimestamp)((0,E.expectNumber)(e.CreationDate))):void 0,IdentityId:(0,E.expectString)(e.IdentityId),LastModifiedDate:e.LastModifiedDate!=null?(0,E.expectNonNull)((0,E.parseEpochTimestamp)((0,E.expectNumber)(e.LastModifiedDate))):void 0,Logins:e.Logins!=null?i9(e.Logins,t):void 0}),Bg=(e,t)=>({AllowClassicFlow:(0,E.expectBoolean)(e.AllowClassicFlow),AllowUnauthenticatedIdentities:(0,E.expectBoolean)(e.AllowUnauthenticatedIdentities),CognitoIdentityProviders:e.CognitoIdentityProviders!=null?kY(e.CognitoIdentityProviders,t):void 0,DeveloperProviderName:(0,E.expectString)(e.DeveloperProviderName),IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityPoolName:(0,E.expectString)(e.IdentityPoolName),IdentityPoolTags:e.IdentityPoolTags!=null?vx(e.IdentityPoolTags,t):void 0,OpenIdConnectProviderARNs:e.OpenIdConnectProviderARNs!=null?u9(e.OpenIdConnectProviderARNs,t):void 0,SamlProviderARNs:e.SamlProviderARNs!=null?g9(e.SamlProviderARNs,t):void 0,SupportedLoginProviders:e.SupportedLoginProviders!=null?XY(e.SupportedLoginProviders,t):void 0}),JY=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityPoolName:(0,E.expectString)(e.IdentityPoolName)}),YY=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:JY(n,t)),vx=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,E.expectString)(s)),r),{}),XY=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,E.expectString)(s)),r),{}),QY=(e,t)=>({message:(0,E.expectString)(e.message)}),ZY=(e,t)=>({message:(0,E.expectString)(e.message)}),e9=(e,t)=>({message:(0,E.expectString)(e.message)}),t9=(e,t)=>({message:(0,E.expectString)(e.message)}),r9=(e,t)=>({Identities:e.Identities!=null?KY(e.Identities,t):void 0,IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),NextToken:(0,E.expectString)(e.NextToken)}),n9=(e,t)=>({IdentityPools:e.IdentityPools!=null?YY(e.IdentityPools,t):void 0,NextToken:(0,E.expectString)(e.NextToken)}),s9=(e,t)=>({Tags:e.Tags!=null?vx(e.Tags,t):void 0}),i9=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),o9=(e,t)=>({DeveloperUserIdentifierList:e.DeveloperUserIdentifierList!=null?FY(e.DeveloperUserIdentifierList,t):void 0,IdentityId:(0,E.expectString)(e.IdentityId),NextToken:(0,E.expectString)(e.NextToken)}),a9=(e,t)=>({Claim:(0,E.expectString)(e.Claim),MatchType:(0,E.expectString)(e.MatchType),RoleARN:(0,E.expectString)(e.RoleARN),Value:(0,E.expectString)(e.Value)}),c9=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:a9(n,t)),d9=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId)}),l9=(e,t)=>({message:(0,E.expectString)(e.message)}),u9=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),Ex=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,E.expectString)(s)),r),{}),f9=(e,t)=>({message:(0,E.expectString)(e.message)}),p9=(e,t)=>({message:(0,E.expectString)(e.message)}),m9=(e,t)=>({AmbiguousRoleResolution:(0,E.expectString)(e.AmbiguousRoleResolution),RulesConfiguration:e.RulesConfiguration!=null?y9(e.RulesConfiguration,t):void 0,Type:(0,E.expectString)(e.Type)}),h9=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=m9(s,t)),r),{}),_9=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,E.expectString)(s)),r),{}),y9=(e,t)=>({Rules:e.Rules!=null?c9(e.Rules,t):void 0}),g9=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),w9=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityProviderName:(0,E.expectString)(e.IdentityProviderName),PrincipalTags:e.PrincipalTags!=null?Ex(e.PrincipalTags,t):void 0,UseDefaults:(0,E.expectBoolean)(e.UseDefaults)}),v9=(e,t)=>({}),E9=(e,t)=>({message:(0,E.expectString)(e.message)}),S9=(e,t)=>({ErrorCode:(0,E.expectString)(e.ErrorCode),IdentityId:(0,E.expectString)(e.IdentityId)}),P9=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:S9(n,t)),I9=(e,t)=>({}),F=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),oa=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),b9=(e,t)=>oa(e,t).then(r=>t.utf8Encoder(r)),ae=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),d={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new j5.HttpRequest(d)},we=(e,t)=>b9(e,t).then(r=>r.length?JSON.parse(r):{}),ce=async(e,t)=>{let r=await we(e,t);return r.message=r.message??r.Message,r},de=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Vg=l(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.CreateIdentityPoolCommand=void 0;var A9=k(),R9=j(),C9=J(),T9=R(),Sx=Q(),Px=re(),aa=class extends T9.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,R9.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,A9.getEndpointPlugin)(r,aa.getEndpointParameterInstructions())),this.middlewareStack.use((0,C9.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"CreateIdentityPoolCommand",inputFilterSensitiveLog:Sx.CreateIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:Sx.IdentityPoolFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Px.serializeAws_json1_1CreateIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,Px.deserializeAws_json1_1CreateIdentityPoolCommand)(t,r)}};Ap.CreateIdentityPoolCommand=aa});var Wg=l(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.DeleteIdentitiesCommand=void 0;var x9=k(),q9=j(),O9=J(),N9=R(),Ix=Q(),bx=re(),ca=class extends N9.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,q9.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,x9.getEndpointPlugin)(r,ca.getEndpointParameterInstructions())),this.middlewareStack.use((0,O9.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DeleteIdentitiesCommand",inputFilterSensitiveLog:Ix.DeleteIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:Ix.DeleteIdentitiesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,bx.serializeAws_json1_1DeleteIdentitiesCommand)(t,r)}deserialize(t,r){return(0,bx.deserializeAws_json1_1DeleteIdentitiesCommand)(t,r)}};Rp.DeleteIdentitiesCommand=ca});var Kg=l(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.DeleteIdentityPoolCommand=void 0;var M9=k(),k9=j(),D9=J(),j9=R(),L9=Q(),Ax=re(),da=class extends j9.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,k9.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,M9.getEndpointPlugin)(r,da.getEndpointParameterInstructions())),this.middlewareStack.use((0,D9.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DeleteIdentityPoolCommand",inputFilterSensitiveLog:L9.DeleteIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Ax.serializeAws_json1_1DeleteIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,Ax.deserializeAws_json1_1DeleteIdentityPoolCommand)(t,r)}};Cp.DeleteIdentityPoolCommand=da});var Jg=l(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.DescribeIdentityCommand=void 0;var z9=k(),F9=j(),U9=J(),$9=R(),Rx=Q(),Cx=re(),la=class extends $9.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,F9.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,z9.getEndpointPlugin)(r,la.getEndpointParameterInstructions())),this.middlewareStack.use((0,U9.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DescribeIdentityCommand",inputFilterSensitiveLog:Rx.DescribeIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:Rx.IdentityDescriptionFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Cx.serializeAws_json1_1DescribeIdentityCommand)(t,r)}deserialize(t,r){return(0,Cx.deserializeAws_json1_1DescribeIdentityCommand)(t,r)}};Tp.DescribeIdentityCommand=la});var Yg=l(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.DescribeIdentityPoolCommand=void 0;var H9=k(),G9=j(),B9=J(),V9=R(),Tx=Q(),xx=re(),ua=class extends V9.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,G9.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,H9.getEndpointPlugin)(r,ua.getEndpointParameterInstructions())),this.middlewareStack.use((0,B9.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DescribeIdentityPoolCommand",inputFilterSensitiveLog:Tx.DescribeIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:Tx.IdentityPoolFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,xx.serializeAws_json1_1DescribeIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,xx.deserializeAws_json1_1DescribeIdentityPoolCommand)(t,r)}};xp.DescribeIdentityPoolCommand=ua});var Xg=l(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.GetCredentialsForIdentityCommand=void 0;var W9=k(),K9=j(),J9=R(),qx=Q(),Ox=re(),fa=class extends J9.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,K9.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,W9.getEndpointPlugin)(r,fa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:qx.GetCredentialsForIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:qx.GetCredentialsForIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Ox.serializeAws_json1_1GetCredentialsForIdentityCommand)(t,r)}deserialize(t,r){return(0,Ox.deserializeAws_json1_1GetCredentialsForIdentityCommand)(t,r)}};qp.GetCredentialsForIdentityCommand=fa});var Qg=l(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.GetIdCommand=void 0;var Y9=k(),X9=j(),Q9=R(),Nx=Q(),Mx=re(),pa=class extends Q9.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,X9.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Y9.getEndpointPlugin)(r,pa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:Nx.GetIdInputFilterSensitiveLog,outputFilterSensitiveLog:Nx.GetIdResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Mx.serializeAws_json1_1GetIdCommand)(t,r)}deserialize(t,r){return(0,Mx.deserializeAws_json1_1GetIdCommand)(t,r)}};Op.GetIdCommand=pa});var Zg=l(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.GetIdentityPoolRolesCommand=void 0;var Z9=k(),eX=j(),tX=J(),rX=R(),kx=Q(),Dx=re(),ma=class extends rX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,eX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Z9.getEndpointPlugin)(r,ma.getEndpointParameterInstructions())),this.middlewareStack.use((0,tX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetIdentityPoolRolesCommand",inputFilterSensitiveLog:kx.GetIdentityPoolRolesInputFilterSensitiveLog,outputFilterSensitiveLog:kx.GetIdentityPoolRolesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Dx.serializeAws_json1_1GetIdentityPoolRolesCommand)(t,r)}deserialize(t,r){return(0,Dx.deserializeAws_json1_1GetIdentityPoolRolesCommand)(t,r)}};Np.GetIdentityPoolRolesCommand=ma});var ew=l(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.GetOpenIdTokenCommand=void 0;var nX=k(),sX=j(),iX=R(),jx=Q(),Lx=re(),ha=class extends iX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,sX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,nX.getEndpointPlugin)(r,ha.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetOpenIdTokenCommand",inputFilterSensitiveLog:jx.GetOpenIdTokenInputFilterSensitiveLog,outputFilterSensitiveLog:jx.GetOpenIdTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Lx.serializeAws_json1_1GetOpenIdTokenCommand)(t,r)}deserialize(t,r){return(0,Lx.deserializeAws_json1_1GetOpenIdTokenCommand)(t,r)}};Mp.GetOpenIdTokenCommand=ha});var tw=l(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.GetOpenIdTokenForDeveloperIdentityCommand=void 0;var oX=k(),aX=j(),cX=J(),dX=R(),zx=Q(),Fx=re(),_a=class extends dX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,aX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,oX.getEndpointPlugin)(r,_a.getEndpointParameterInstructions())),this.middlewareStack.use((0,cX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetOpenIdTokenForDeveloperIdentityCommand",inputFilterSensitiveLog:zx.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:zx.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Fx.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand)(t,r)}deserialize(t,r){return(0,Fx.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand)(t,r)}};kp.GetOpenIdTokenForDeveloperIdentityCommand=_a});var rw=l(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.GetPrincipalTagAttributeMapCommand=void 0;var lX=k(),uX=j(),fX=J(),pX=R(),Ux=Q(),$x=re(),ya=class extends pX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,uX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,lX.getEndpointPlugin)(r,ya.getEndpointParameterInstructions())),this.middlewareStack.use((0,fX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetPrincipalTagAttributeMapCommand",inputFilterSensitiveLog:Ux.GetPrincipalTagAttributeMapInputFilterSensitiveLog,outputFilterSensitiveLog:Ux.GetPrincipalTagAttributeMapResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,$x.serializeAws_json1_1GetPrincipalTagAttributeMapCommand)(t,r)}deserialize(t,r){return(0,$x.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand)(t,r)}};Dp.GetPrincipalTagAttributeMapCommand=ya});var nw=l(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.ListIdentitiesCommand=void 0;var mX=k(),hX=j(),_X=J(),yX=R(),Hx=Q(),Gx=re(),ga=class extends yX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,hX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,mX.getEndpointPlugin)(r,ga.getEndpointParameterInstructions())),this.middlewareStack.use((0,_X.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"ListIdentitiesCommand",inputFilterSensitiveLog:Hx.ListIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:Hx.ListIdentitiesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Gx.serializeAws_json1_1ListIdentitiesCommand)(t,r)}deserialize(t,r){return(0,Gx.deserializeAws_json1_1ListIdentitiesCommand)(t,r)}};jp.ListIdentitiesCommand=ga});var zp=l(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.ListIdentityPoolsCommand=void 0;var gX=k(),wX=j(),vX=J(),EX=R(),Bx=Q(),Vx=re(),wa=class extends EX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,wX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,gX.getEndpointPlugin)(r,wa.getEndpointParameterInstructions())),this.middlewareStack.use((0,vX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"ListIdentityPoolsCommand",inputFilterSensitiveLog:Bx.ListIdentityPoolsInputFilterSensitiveLog,outputFilterSensitiveLog:Bx.ListIdentityPoolsResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Vx.serializeAws_json1_1ListIdentityPoolsCommand)(t,r)}deserialize(t,r){return(0,Vx.deserializeAws_json1_1ListIdentityPoolsCommand)(t,r)}};Lp.ListIdentityPoolsCommand=wa});var sw=l(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.ListTagsForResourceCommand=void 0;var SX=k(),PX=j(),IX=J(),bX=R(),Wx=Q(),Kx=re(),va=class extends bX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,PX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,SX.getEndpointPlugin)(r,va.getEndpointParameterInstructions())),this.middlewareStack.use((0,IX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:Wx.ListTagsForResourceInputFilterSensitiveLog,outputFilterSensitiveLog:Wx.ListTagsForResourceResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Kx.serializeAws_json1_1ListTagsForResourceCommand)(t,r)}deserialize(t,r){return(0,Kx.deserializeAws_json1_1ListTagsForResourceCommand)(t,r)}};Fp.ListTagsForResourceCommand=va});var iw=l(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.LookupDeveloperIdentityCommand=void 0;var AX=k(),RX=j(),CX=J(),TX=R(),Jx=Q(),Yx=re(),Ea=class extends TX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,RX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,AX.getEndpointPlugin)(r,Ea.getEndpointParameterInstructions())),this.middlewareStack.use((0,CX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"LookupDeveloperIdentityCommand",inputFilterSensitiveLog:Jx.LookupDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:Jx.LookupDeveloperIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Yx.serializeAws_json1_1LookupDeveloperIdentityCommand)(t,r)}deserialize(t,r){return(0,Yx.deserializeAws_json1_1LookupDeveloperIdentityCommand)(t,r)}};Up.LookupDeveloperIdentityCommand=Ea});var ow=l($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.MergeDeveloperIdentitiesCommand=void 0;var xX=k(),qX=j(),OX=J(),NX=R(),Xx=Q(),Qx=re(),Sa=class extends NX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,qX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,xX.getEndpointPlugin)(r,Sa.getEndpointParameterInstructions())),this.middlewareStack.use((0,OX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"MergeDeveloperIdentitiesCommand",inputFilterSensitiveLog:Xx.MergeDeveloperIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:Xx.MergeDeveloperIdentitiesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Qx.serializeAws_json1_1MergeDeveloperIdentitiesCommand)(t,r)}deserialize(t,r){return(0,Qx.deserializeAws_json1_1MergeDeveloperIdentitiesCommand)(t,r)}};$p.MergeDeveloperIdentitiesCommand=Sa});var aw=l(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.SetIdentityPoolRolesCommand=void 0;var MX=k(),kX=j(),DX=J(),jX=R(),LX=Q(),Zx=re(),Pa=class extends jX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,kX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,MX.getEndpointPlugin)(r,Pa.getEndpointParameterInstructions())),this.middlewareStack.use((0,DX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"SetIdentityPoolRolesCommand",inputFilterSensitiveLog:LX.SetIdentityPoolRolesInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Zx.serializeAws_json1_1SetIdentityPoolRolesCommand)(t,r)}deserialize(t,r){return(0,Zx.deserializeAws_json1_1SetIdentityPoolRolesCommand)(t,r)}};Hp.SetIdentityPoolRolesCommand=Pa});var cw=l(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.SetPrincipalTagAttributeMapCommand=void 0;var zX=k(),FX=j(),UX=J(),$X=R(),eq=Q(),tq=re(),Ia=class extends $X.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,FX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,zX.getEndpointPlugin)(r,Ia.getEndpointParameterInstructions())),this.middlewareStack.use((0,UX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"SetPrincipalTagAttributeMapCommand",inputFilterSensitiveLog:eq.SetPrincipalTagAttributeMapInputFilterSensitiveLog,outputFilterSensitiveLog:eq.SetPrincipalTagAttributeMapResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,tq.serializeAws_json1_1SetPrincipalTagAttributeMapCommand)(t,r)}deserialize(t,r){return(0,tq.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand)(t,r)}};Gp.SetPrincipalTagAttributeMapCommand=Ia});var dw=l(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.TagResourceCommand=void 0;var HX=k(),GX=j(),BX=J(),VX=R(),rq=Q(),nq=re(),ba=class extends VX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,GX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,HX.getEndpointPlugin)(r,ba.getEndpointParameterInstructions())),this.middlewareStack.use((0,BX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:rq.TagResourceInputFilterSensitiveLog,outputFilterSensitiveLog:rq.TagResourceResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,nq.serializeAws_json1_1TagResourceCommand)(t,r)}deserialize(t,r){return(0,nq.deserializeAws_json1_1TagResourceCommand)(t,r)}};Bp.TagResourceCommand=ba});var lw=l(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.UnlinkDeveloperIdentityCommand=void 0;var WX=k(),KX=j(),JX=J(),YX=R(),XX=Q(),sq=re(),Aa=class extends YX.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,KX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,WX.getEndpointPlugin)(r,Aa.getEndpointParameterInstructions())),this.middlewareStack.use((0,JX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UnlinkDeveloperIdentityCommand",inputFilterSensitiveLog:XX.UnlinkDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,sq.serializeAws_json1_1UnlinkDeveloperIdentityCommand)(t,r)}deserialize(t,r){return(0,sq.deserializeAws_json1_1UnlinkDeveloperIdentityCommand)(t,r)}};Vp.UnlinkDeveloperIdentityCommand=Aa});var uw=l(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.UnlinkIdentityCommand=void 0;var QX=k(),ZX=j(),eQ=R(),tQ=Q(),iq=re(),Ra=class extends eQ.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,ZX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,QX.getEndpointPlugin)(r,Ra.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UnlinkIdentityCommand",inputFilterSensitiveLog:tQ.UnlinkIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,iq.serializeAws_json1_1UnlinkIdentityCommand)(t,r)}deserialize(t,r){return(0,iq.deserializeAws_json1_1UnlinkIdentityCommand)(t,r)}};Wp.UnlinkIdentityCommand=Ra});var fw=l(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.UntagResourceCommand=void 0;var rQ=k(),nQ=j(),sQ=J(),iQ=R(),oq=Q(),aq=re(),Ca=class extends iQ.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,nQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,rQ.getEndpointPlugin)(r,Ca.getEndpointParameterInstructions())),this.middlewareStack.use((0,sQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:oq.UntagResourceInputFilterSensitiveLog,outputFilterSensitiveLog:oq.UntagResourceResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,aq.serializeAws_json1_1UntagResourceCommand)(t,r)}deserialize(t,r){return(0,aq.deserializeAws_json1_1UntagResourceCommand)(t,r)}};Kp.UntagResourceCommand=Ca});var pw=l(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.UpdateIdentityPoolCommand=void 0;var oQ=k(),aQ=j(),cQ=J(),dQ=R(),cq=Q(),dq=re(),Ta=class extends dQ.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,aQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,oQ.getEndpointPlugin)(r,Ta.getEndpointParameterInstructions())),this.middlewareStack.use((0,cQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UpdateIdentityPoolCommand",inputFilterSensitiveLog:cq.IdentityPoolFilterSensitiveLog,outputFilterSensitiveLog:cq.IdentityPoolFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,dq.serializeAws_json1_1UpdateIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,dq.deserializeAws_json1_1UpdateIdentityPoolCommand)(t,r)}};Jp.UpdateIdentityPoolCommand=Ta});var hw=l(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.CognitoIdentity=void 0;var lQ=Sp(),uQ=Vg(),fQ=Wg(),pQ=Kg(),mQ=Jg(),hQ=Yg(),_Q=Xg(),yQ=Qg(),gQ=Zg(),wQ=ew(),vQ=tw(),EQ=rw(),SQ=nw(),PQ=zp(),IQ=sw(),bQ=iw(),AQ=ow(),RQ=aw(),CQ=cw(),TQ=dw(),xQ=lw(),qQ=uw(),OQ=fw(),NQ=pw(),mw=class extends lQ.CognitoIdentityClient{createIdentityPool(t,r,n){let s=new uQ.CreateIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}deleteIdentities(t,r,n){let s=new fQ.DeleteIdentitiesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}deleteIdentityPool(t,r,n){let s=new pQ.DeleteIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}describeIdentity(t,r,n){let s=new mQ.DescribeIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}describeIdentityPool(t,r,n){let s=new hQ.DescribeIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getCredentialsForIdentity(t,r,n){let s=new _Q.GetCredentialsForIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getId(t,r,n){let s=new yQ.GetIdCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getIdentityPoolRoles(t,r,n){let s=new gQ.GetIdentityPoolRolesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getOpenIdToken(t,r,n){let s=new wQ.GetOpenIdTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getOpenIdTokenForDeveloperIdentity(t,r,n){let s=new vQ.GetOpenIdTokenForDeveloperIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getPrincipalTagAttributeMap(t,r,n){let s=new EQ.GetPrincipalTagAttributeMapCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listIdentities(t,r,n){let s=new SQ.ListIdentitiesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listIdentityPools(t,r,n){let s=new PQ.ListIdentityPoolsCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listTagsForResource(t,r,n){let s=new IQ.ListTagsForResourceCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}lookupDeveloperIdentity(t,r,n){let s=new bQ.LookupDeveloperIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}mergeDeveloperIdentities(t,r,n){let s=new AQ.MergeDeveloperIdentitiesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}setIdentityPoolRoles(t,r,n){let s=new RQ.SetIdentityPoolRolesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}setPrincipalTagAttributeMap(t,r,n){let s=new CQ.SetPrincipalTagAttributeMapCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}tagResource(t,r,n){let s=new TQ.TagResourceCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}unlinkDeveloperIdentity(t,r,n){let s=new xQ.UnlinkDeveloperIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}unlinkIdentity(t,r,n){let s=new qQ.UnlinkIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}untagResource(t,r,n){let s=new OQ.UntagResourceCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}updateIdentityPool(t,r,n){let s=new NQ.UpdateIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};Yp.CognitoIdentity=mw});var lq=l(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});var le=A();le.__exportStar(Vg(),Z);le.__exportStar(Wg(),Z);le.__exportStar(Kg(),Z);le.__exportStar(Jg(),Z);le.__exportStar(Yg(),Z);le.__exportStar(Xg(),Z);le.__exportStar(Qg(),Z);le.__exportStar(Zg(),Z);le.__exportStar(ew(),Z);le.__exportStar(tw(),Z);le.__exportStar(rw(),Z);le.__exportStar(nw(),Z);le.__exportStar(zp(),Z);le.__exportStar(sw(),Z);le.__exportStar(iw(),Z);le.__exportStar(ow(),Z);le.__exportStar(aw(),Z);le.__exportStar(cw(),Z);le.__exportStar(dw(),Z);le.__exportStar(lw(),Z);le.__exportStar(uw(),Z);le.__exportStar(fw(),Z);le.__exportStar(pw(),Z)});var uq=l(_w=>{"use strict";Object.defineProperty(_w,"__esModule",{value:!0});var MQ=A();MQ.__exportStar(Q(),_w)});var pq=l(fq=>{"use strict";Object.defineProperty(fq,"__esModule",{value:!0})});var mq=l(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.paginateListIdentityPools=void 0;var kQ=hw(),DQ=Sp(),jQ=zp(),LQ=async(e,t,...r)=>await e.send(new jQ.ListIdentityPoolsCommand(t),...r),zQ=async(e,t,...r)=>await e.listIdentityPools(t,...r);async function*FQ(e,t,...r){let n=e.startingToken||void 0,s=!0,i;for(;s;){if(t.NextToken=n,t.MaxResults=e.pageSize,e.client instanceof kQ.CognitoIdentity)i=await zQ(e.client,t,...r);else if(e.client instanceof DQ.CognitoIdentityClient)i=await LQ(e.client,t,...r);else throw new Error("Invalid client, expected CognitoIdentity | CognitoIdentityClient");yield i;let o=n;n=i.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==o))}return void 0}Xp.paginateListIdentityPools=FQ});var _q=l(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});var hq=A();hq.__exportStar(pq(),Qp);hq.__exportStar(mq(),Qp)});var qa=l(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.CognitoIdentityServiceException=void 0;var xa=A();xa.__exportStar(hw(),Ir);xa.__exportStar(Sp(),Ir);xa.__exportStar(lq(),Ir);xa.__exportStar(uq(),Ir);xa.__exportStar(_q(),Ir);var UQ=Ip();Object.defineProperty(Ir,"CognitoIdentityServiceException",{enumerable:!0,get:function(){return UQ.CognitoIdentityServiceException}})});var gq=l(yq=>{"use strict";Object.defineProperty(yq,"__esModule",{value:!0})});var vq=l(wq=>{"use strict";Object.defineProperty(wq,"__esModule",{value:!0})});var Sq=l(Eq=>{"use strict";Object.defineProperty(Eq,"__esModule",{value:!0})});var yw=l(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.resolveLogins=void 0;function $Q(e){return Promise.all(Object.keys(e).reduce((t,r)=>{let n=e[r];return typeof n=="string"?t.push([r,n]):t.push(n().then(s=>[r,s])),t},[])).then(t=>t.reduce((r,[n,s])=>(r[n]=s,r),{}))}Zp.resolveLogins=$Q});var ww=l(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.fromCognitoIdentity=void 0;var HQ=qa(),gw=V(),GQ=yw();function BQ(e){return async()=>{let{Credentials:{AccessKeyId:t=VQ(),Expiration:r,SecretKey:n=KQ(),SessionToken:s}=WQ()}=await e.client.send(new HQ.GetCredentialsForIdentityCommand({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await(0,GQ.resolveLogins)(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:t,secretAccessKey:n,sessionToken:s,expiration:r}}}em.fromCognitoIdentity=BQ;function VQ(){throw new gw.CredentialsProviderError("Response from Amazon Cognito contained no access key ID")}function WQ(){throw new gw.CredentialsProviderError("Response from Amazon Cognito contained no credentials")}function KQ(){throw new gw.CredentialsProviderError("Response from Amazon Cognito contained no secret key")}});var Pq=l(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.IndexedDbStorage=void 0;var vw="IdentityIds",Ew=class{constructor(t="aws:cognito-identity-ids"){this.dbName=t}getItem(t){return this.withObjectStore("readonly",r=>{let n=r.get(t);return new Promise(s=>{n.onerror=()=>s(null),n.onsuccess=()=>s(n.result?n.result.value:null)})}).catch(()=>null)}removeItem(t){return this.withObjectStore("readwrite",r=>{let n=r.delete(t);return new Promise((s,i)=>{n.onerror=()=>i(n.error),n.onsuccess=()=>s()})})}setItem(t,r){return this.withObjectStore("readwrite",n=>{let s=n.put({id:t,value:r});return new Promise((i,o)=>{s.onerror=()=>o(s.error),s.onsuccess=()=>i()})})}getDb(){let t=self.indexedDB.open(this.dbName,1);return new Promise((r,n)=>{t.onsuccess=()=>{r(t.result)},t.onerror=()=>{n(t.error)},t.onblocked=()=>{n(new Error("Unable to access DB"))},t.onupgradeneeded=()=>{let s=t.result;s.onerror=()=>{n(new Error("Failed to create object store"))},s.createObjectStore(vw,{keyPath:"id"})}})}withObjectStore(t,r){return this.getDb().then(n=>{let s=n.transaction(vw,t);return s.oncomplete=()=>n.close(),new Promise((i,o)=>{s.onerror=()=>o(s.error),i(r(s.objectStore(vw)))}).catch(i=>{throw n.close(),i})})}};tm.IndexedDbStorage=Ew});var Iq=l(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.InMemoryStorage=void 0;var Sw=class{constructor(t={}){this.store=t}getItem(t){return t in this.store?this.store[t]:null}removeItem(t){delete this.store[t]}setItem(t,r){this.store[t]=r}};rm.InMemoryStorage=Sw});var bq=l(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.localStorage=void 0;var JQ=Pq(),YQ=Iq(),XQ=new YQ.InMemoryStorage;function QQ(){return typeof self=="object"&&self.indexedDB?new JQ.IndexedDbStorage:typeof window=="object"&&window.localStorage?window.localStorage:XQ}nm.localStorage=QQ});var Aq=l(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.fromCognitoIdentityPool=void 0;var ZQ=qa(),eZ=V(),tZ=ww(),rZ=bq(),nZ=yw();function sZ({accountId:e,cache:t=(0,rZ.localStorage)(),client:r,customRoleArn:n,identityPoolId:s,logins:i,userIdentifier:o=!i||Object.keys(i).length===0?"ANONYMOUS":void 0}){let a=o?`aws:cognito-identity-credentials:${s}:${o}`:void 0,c=async()=>{let d=a&&await t.getItem(a);if(!d){let{IdentityId:u=iZ()}=await r.send(new ZQ.GetIdCommand({AccountId:e,IdentityPoolId:s,Logins:i?await(0,nZ.resolveLogins)(i):void 0}));d=u,a&&Promise.resolve(t.setItem(a,d)).catch(()=>{})}return c=(0,tZ.fromCognitoIdentity)({client:r,customRoleArn:n,logins:i,identityId:d}),c()};return()=>c().catch(async d=>{throw a&&Promise.resolve(t.removeItem(a)).catch(()=>{}),d})}sm.fromCognitoIdentityPool=sZ;function iZ(){throw new eZ.CredentialsProviderError("Response from Amazon Cognito contained no identity ID")}});var Pw=l(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});var Oa=A();Oa.__exportStar(gq(),On);Oa.__exportStar(vq(),On);Oa.__exportStar(Sq(),On);Oa.__exportStar(ww(),On);Oa.__exportStar(Aq(),On)});var Rq=l(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.fromCognitoIdentity=void 0;var oZ=qa(),aZ=Pw(),cZ=e=>{var t;return(0,aZ.fromCognitoIdentity)({...e,client:new oZ.CognitoIdentityClient((t=e.clientConfig)!==null&&t!==void 0?t:{})})};im.fromCognitoIdentity=cZ});var Cq=l(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.fromCognitoIdentityPool=void 0;var dZ=qa(),lZ=Pw(),uZ=e=>{var t;return(0,lZ.fromCognitoIdentityPool)({...e,client:new dZ.CognitoIdentityClient((t=e.clientConfig)!==null&&t!==void 0?t:{})})};om.fromCognitoIdentityPool=uZ});var Tq=l(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.fromContainerMetadata=void 0;var fZ=ds(),pZ=e=>(0,fZ.fromContainerMetadata)(e);am.fromContainerMetadata=pZ});var xq=l(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.fromEnv=void 0;var mZ=gl(),hZ=()=>(0,mZ.fromEnv)();cm.fromEnv=hZ});var Oq=l(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.fromIni=void 0;var qq=qn(),_Z=Ng(),yZ=(e={})=>{var t,r;return(0,_Z.fromIni)({...e,roleAssumer:(t=e.roleAssumer)!==null&&t!==void 0?t:(0,qq.getDefaultRoleAssumer)(e.clientConfig,e.clientPlugins),roleAssumerWithWebIdentity:(r=e.roleAssumerWithWebIdentity)!==null&&r!==void 0?r:(0,qq.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};dm.fromIni=yZ});var Nq=l(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.fromInstanceMetadata=void 0;var gZ=ds(),wZ=e=>(0,gZ.fromInstanceMetadata)(e);lm.fromInstanceMetadata=wZ});var kq=l(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.fromNodeProviderChain=void 0;var Mq=qn(),vZ=ap(),EZ=(e={})=>{var t,r;return(0,vZ.defaultProvider)({...e,roleAssumer:(t=e.roleAssumer)!==null&&t!==void 0?t:(0,Mq.getDefaultRoleAssumer)(e.clientConfig,e.clientPlugins),roleAssumerWithWebIdentity:(r=e.roleAssumerWithWebIdentity)!==null&&r!==void 0?r:(0,Mq.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};um.fromNodeProviderChain=EZ});var Dq=l(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.fromProcess=void 0;var SZ=Wl(),PZ=e=>(0,SZ.fromProcess)(e);fm.fromProcess=PZ});var jq=l(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.fromSSO=void 0;var IZ=cg(),bZ=Lo(),AZ=(e={})=>(0,bZ.fromSSO)({ssoClient:e.clientConfig?new IZ.SSOClient(e.clientConfig):void 0,...e});pm.fromSSO=AZ});var Fq=l(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.fromTemporaryCredentials=void 0;var Lq=qn(),zq=V(),RZ=e=>{let t;return async()=>{var r;let n={...e.params,RoleSessionName:(r=e.params.RoleSessionName)!==null&&r!==void 0?r:"aws-sdk-js-"+Date.now()};if(n?.SerialNumber){if(!e.mfaCodeProvider)throw new zq.CredentialsProviderError("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",!1);n.TokenCode=await e.mfaCodeProvider(n?.SerialNumber)}if(t||(t=new Lq.STSClient({...e.clientConfig,credentials:e.masterCredentials})),e.clientPlugins)for(let i of e.clientPlugins)t.middlewareStack.use(i);let{Credentials:s}=await t.send(new Lq.AssumeRoleCommand(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new zq.CredentialsProviderError(`Invalid response from STS.assumeRole call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};mm.fromTemporaryCredentials=RZ});var Uq=l(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.fromTokenFile=void 0;var CZ=qn(),TZ=zo(),xZ=(e={})=>{var t;return(0,TZ.fromTokenFile)({...e,roleAssumerWithWebIdentity:(t=e.roleAssumerWithWebIdentity)!==null&&t!==void 0?t:(0,CZ.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};hm.fromTokenFile=xZ});var $q=l(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.fromWebToken=void 0;var qZ=qn(),OZ=zo(),NZ=e=>{var t;return(0,OZ.fromWebToken)({...e,roleAssumerWithWebIdentity:(t=e.roleAssumerWithWebIdentity)!==null&&t!==void 0?t:(0,qZ.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};_m.fromWebToken=NZ});var Hq=l(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var ht=A();ht.__exportStar(Rq(),We);ht.__exportStar(Cq(),We);ht.__exportStar(Tq(),We);ht.__exportStar(xq(),We);ht.__exportStar(Oq(),We);ht.__exportStar(Nq(),We);ht.__exportStar(kq(),We);ht.__exportStar(Dq(),We);ht.__exportStar(jq(),We);ht.__exportStar(Fq(),We);ht.__exportStar(Uq(),We);ht.__exportStar($q(),We)});var Ar=l((br,ym)=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});var Gq=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function MZ(e){return Gq.includes(e)}var kZ=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...Gq];function DZ(e){return kZ.includes(e)}var jZ=["null","undefined","string","number","bigint","boolean","symbol"];function LZ(e){return jZ.includes(e)}function Is(e){return t=>typeof t===e}var{toString:Bq}=Object.prototype,Na=e=>{let t=Bq.call(e).slice(8,-1);if(/HTML\w+Element/.test(t)&&h.domElement(e))return"HTMLElement";if(DZ(t))return t},X=e=>t=>Na(t)===e;function h(e){if(e===null)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(h.observable(e))return"Observable";if(h.array(e))return"Array";if(h.buffer(e))return"Buffer";let t=Na(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}h.undefined=Is("undefined");h.string=Is("string");var zZ=Is("number");h.number=e=>zZ(e)&&!h.nan(e);h.bigint=Is("bigint");h.function_=Is("function");h.null_=e=>e===null;h.class_=e=>h.function_(e)&&e.toString().startsWith("class ");h.boolean=e=>e===!0||e===!1;h.symbol=Is("symbol");h.numericString=e=>h.string(e)&&!h.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e));h.array=(e,t)=>Array.isArray(e)?h.function_(t)?e.every(t):!0:!1;h.buffer=e=>{var t,r,n,s;return(s=(n=(r=(t=e)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.isBuffer)===null||n===void 0?void 0:n.call(r,e))!==null&&s!==void 0?s:!1};h.blob=e=>X("Blob")(e);h.nullOrUndefined=e=>h.null_(e)||h.undefined(e);h.object=e=>!h.null_(e)&&(typeof e=="object"||h.function_(e));h.iterable=e=>{var t;return h.function_((t=e)===null||t===void 0?void 0:t[Symbol.iterator])};h.asyncIterable=e=>{var t;return h.function_((t=e)===null||t===void 0?void 0:t[Symbol.asyncIterator])};h.generator=e=>{var t,r;return h.iterable(e)&&h.function_((t=e)===null||t===void 0?void 0:t.next)&&h.function_((r=e)===null||r===void 0?void 0:r.throw)};h.asyncGenerator=e=>h.asyncIterable(e)&&h.function_(e.next)&&h.function_(e.throw);h.nativePromise=e=>X("Promise")(e);var FZ=e=>{var t,r;return h.function_((t=e)===null||t===void 0?void 0:t.then)&&h.function_((r=e)===null||r===void 0?void 0:r.catch)};h.promise=e=>h.nativePromise(e)||FZ(e);h.generatorFunction=X("GeneratorFunction");h.asyncGeneratorFunction=e=>Na(e)==="AsyncGeneratorFunction";h.asyncFunction=e=>Na(e)==="AsyncFunction";h.boundFunction=e=>h.function_(e)&&!e.hasOwnProperty("prototype");h.regExp=X("RegExp");h.date=X("Date");h.error=X("Error");h.map=e=>X("Map")(e);h.set=e=>X("Set")(e);h.weakMap=e=>X("WeakMap")(e);h.weakSet=e=>X("WeakSet")(e);h.int8Array=X("Int8Array");h.uint8Array=X("Uint8Array");h.uint8ClampedArray=X("Uint8ClampedArray");h.int16Array=X("Int16Array");h.uint16Array=X("Uint16Array");h.int32Array=X("Int32Array");h.uint32Array=X("Uint32Array");h.float32Array=X("Float32Array");h.float64Array=X("Float64Array");h.bigInt64Array=X("BigInt64Array");h.bigUint64Array=X("BigUint64Array");h.arrayBuffer=X("ArrayBuffer");h.sharedArrayBuffer=X("SharedArrayBuffer");h.dataView=X("DataView");h.enumCase=(e,t)=>Object.values(t).includes(e);h.directInstanceOf=(e,t)=>Object.getPrototypeOf(e)===t.prototype;h.urlInstance=e=>X("URL")(e);h.urlString=e=>{if(!h.string(e))return!1;try{return new URL(e),!0}catch{return!1}};h.truthy=e=>Boolean(e);h.falsy=e=>!e;h.nan=e=>Number.isNaN(e);h.primitive=e=>h.null_(e)||LZ(typeof e);h.integer=e=>Number.isInteger(e);h.safeInteger=e=>Number.isSafeInteger(e);h.plainObject=e=>{if(Bq.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};h.typedArray=e=>MZ(Na(e));var UZ=e=>h.safeInteger(e)&&e>=0;h.arrayLike=e=>!h.nullOrUndefined(e)&&!h.function_(e)&&UZ(e.length);h.inRange=(e,t)=>{if(h.number(t))return e>=Math.min(0,t)&&e<=Math.max(t,0);if(h.array(t)&&t.length===2)return e>=Math.min(...t)&&e<=Math.max(...t);throw new TypeError(`Invalid range: ${JSON.stringify(t)}`)};var $Z=1,HZ=["innerHTML","ownerDocument","style","attributes","nodeValue"];h.domElement=e=>h.object(e)&&e.nodeType===$Z&&h.string(e.nodeName)&&!h.plainObject(e)&&HZ.every(t=>t in e);h.observable=e=>{var t,r,n,s;return e?e===((r=(t=e)[Symbol.observable])===null||r===void 0?void 0:r.call(t))||e===((s=(n=e)["@@observable"])===null||s===void 0?void 0:s.call(n)):!1};h.nodeStream=e=>h.object(e)&&h.function_(e.pipe)&&!h.observable(e);h.infinite=e=>e===1/0||e===-1/0;var Vq=e=>t=>h.integer(t)&&Math.abs(t%2)===e;h.evenInteger=Vq(0);h.oddInteger=Vq(1);h.emptyArray=e=>h.array(e)&&e.length===0;h.nonEmptyArray=e=>h.array(e)&&e.length>0;h.emptyString=e=>h.string(e)&&e.length===0;var GZ=e=>h.string(e)&&!/\S/.test(e);h.emptyStringOrWhitespace=e=>h.emptyString(e)||GZ(e);h.nonEmptyString=e=>h.string(e)&&e.length>0;h.nonEmptyStringAndNotWhitespace=e=>h.string(e)&&!h.emptyStringOrWhitespace(e);h.emptyObject=e=>h.object(e)&&!h.map(e)&&!h.set(e)&&Object.keys(e).length===0;h.nonEmptyObject=e=>h.object(e)&&!h.map(e)&&!h.set(e)&&Object.keys(e).length>0;h.emptySet=e=>h.set(e)&&e.size===0;h.nonEmptySet=e=>h.set(e)&&e.size>0;h.emptyMap=e=>h.map(e)&&e.size===0;h.nonEmptyMap=e=>h.map(e)&&e.size>0;h.propertyKey=e=>h.any([h.string,h.number,h.symbol],e);h.formData=e=>X("FormData")(e);h.urlSearchParams=e=>X("URLSearchParams")(e);var Wq=(e,t,r)=>{if(!h.function_(t))throw new TypeError(`Invalid predicate: ${JSON.stringify(t)}`);if(r.length===0)throw new TypeError("Invalid number of values");return e.call(r,t)};h.any=(e,...t)=>(h.array(e)?e:[e]).some(n=>Wq(Array.prototype.some,n,t));h.all=(e,...t)=>Wq(Array.prototype.every,e,t);var I=(e,t,r,n={})=>{if(!e){let{multipleValues:s}=n,i=s?`received values of types ${[...new Set(r.map(o=>`\`${h(o)}\``))].join(", ")}`:`received value of type \`${h(r)}\``;throw new TypeError(`Expected value which is \`${t}\`, ${i}.`)}};br.assert={undefined:e=>I(h.undefined(e),"undefined",e),string:e=>I(h.string(e),"string",e),number:e=>I(h.number(e),"number",e),bigint:e=>I(h.bigint(e),"bigint",e),function_:e=>I(h.function_(e),"Function",e),null_:e=>I(h.null_(e),"null",e),class_:e=>I(h.class_(e),"Class",e),boolean:e=>I(h.boolean(e),"boolean",e),symbol:e=>I(h.symbol(e),"symbol",e),numericString:e=>I(h.numericString(e),"string with a number",e),array:(e,t)=>{I(h.array(e),"Array",e),t&&e.forEach(t)},buffer:e=>I(h.buffer(e),"Buffer",e),blob:e=>I(h.blob(e),"Blob",e),nullOrUndefined:e=>I(h.nullOrUndefined(e),"null or undefined",e),object:e=>I(h.object(e),"Object",e),iterable:e=>I(h.iterable(e),"Iterable",e),asyncIterable:e=>I(h.asyncIterable(e),"AsyncIterable",e),generator:e=>I(h.generator(e),"Generator",e),asyncGenerator:e=>I(h.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>I(h.nativePromise(e),"native Promise",e),promise:e=>I(h.promise(e),"Promise",e),generatorFunction:e=>I(h.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>I(h.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>I(h.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>I(h.boundFunction(e),"Function",e),regExp:e=>I(h.regExp(e),"RegExp",e),date:e=>I(h.date(e),"Date",e),error:e=>I(h.error(e),"Error",e),map:e=>I(h.map(e),"Map",e),set:e=>I(h.set(e),"Set",e),weakMap:e=>I(h.weakMap(e),"WeakMap",e),weakSet:e=>I(h.weakSet(e),"WeakSet",e),int8Array:e=>I(h.int8Array(e),"Int8Array",e),uint8Array:e=>I(h.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>I(h.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>I(h.int16Array(e),"Int16Array",e),uint16Array:e=>I(h.uint16Array(e),"Uint16Array",e),int32Array:e=>I(h.int32Array(e),"Int32Array",e),uint32Array:e=>I(h.uint32Array(e),"Uint32Array",e),float32Array:e=>I(h.float32Array(e),"Float32Array",e),float64Array:e=>I(h.float64Array(e),"Float64Array",e),bigInt64Array:e=>I(h.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>I(h.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>I(h.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>I(h.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>I(h.dataView(e),"DataView",e),enumCase:(e,t)=>I(h.enumCase(e,t),"EnumCase",e),urlInstance:e=>I(h.urlInstance(e),"URL",e),urlString:e=>I(h.urlString(e),"string with a URL",e),truthy:e=>I(h.truthy(e),"truthy",e),falsy:e=>I(h.falsy(e),"falsy",e),nan:e=>I(h.nan(e),"NaN",e),primitive:e=>I(h.primitive(e),"primitive",e),integer:e=>I(h.integer(e),"integer",e),safeInteger:e=>I(h.safeInteger(e),"integer",e),plainObject:e=>I(h.plainObject(e),"plain object",e),typedArray:e=>I(h.typedArray(e),"TypedArray",e),arrayLike:e=>I(h.arrayLike(e),"array-like",e),domElement:e=>I(h.domElement(e),"HTMLElement",e),observable:e=>I(h.observable(e),"Observable",e),nodeStream:e=>I(h.nodeStream(e),"Node.js Stream",e),infinite:e=>I(h.infinite(e),"infinite number",e),emptyArray:e=>I(h.emptyArray(e),"empty array",e),nonEmptyArray:e=>I(h.nonEmptyArray(e),"non-empty array",e),emptyString:e=>I(h.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>I(h.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>I(h.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>I(h.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>I(h.emptyObject(e),"empty object",e),nonEmptyObject:e=>I(h.nonEmptyObject(e),"non-empty object",e),emptySet:e=>I(h.emptySet(e),"empty set",e),nonEmptySet:e=>I(h.nonEmptySet(e),"non-empty set",e),emptyMap:e=>I(h.emptyMap(e),"empty map",e),nonEmptyMap:e=>I(h.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>I(h.propertyKey(e),"PropertyKey",e),formData:e=>I(h.formData(e),"FormData",e),urlSearchParams:e=>I(h.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>I(h.evenInteger(e),"even integer",e),oddInteger:e=>I(h.oddInteger(e),"odd integer",e),directInstanceOf:(e,t)=>I(h.directInstanceOf(e,t),"T",e),inRange:(e,t)=>I(h.inRange(e,t),"in range",e),any:(e,...t)=>I(h.any(e,...t),"predicate returns truthy for any value",t,{multipleValues:!0}),all:(e,...t)=>I(h.all(e,...t),"predicate returns truthy for all values",t,{multipleValues:!0})};Object.defineProperties(h,{class:{value:h.class_},function:{value:h.function_},null:{value:h.null_}});Object.defineProperties(br.assert,{class:{value:br.assert.class_},function:{value:br.assert.function_},null:{value:br.assert.null_}});br.default=h;ym.exports=h;ym.exports.default=h;ym.exports.assert=br.assert});var Kq=l((Gue,Iw)=>{"use strict";var gm=class extends Error{constructor(t){super(t||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},bs=class{static fn(t){return(...r)=>new bs((n,s,i)=>{r.push(i),t(...r).then(n,s)})}constructor(t){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let s=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},i=a=>{this._isPending=!1,n(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),t(s,i,o)})}then(t,r){return this._promise.then(t,r)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(t){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new gm(t))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(bs.prototype,Promise.prototype);Iw.exports=bs;Iw.exports.CancelError=gm});var Jq=l((Aw,Rw)=>{"use strict";Object.defineProperty(Aw,"__esModule",{value:!0});function BZ(e){return e.encrypted}var bw=(e,t)=>{let r;typeof t=="function"?r={connect:t}:r=t;let n=typeof r.connect=="function",s=typeof r.secureConnect=="function",i=typeof r.close=="function",o=()=>{n&&r.connect(),BZ(e)&&s&&(e.authorized?r.secureConnect():e.authorizationError||e.once("secureConnect",r.secureConnect)),i&&e.once("close",r.close)};e.writable&&!e.connecting?o():e.connecting?e.once("connect",o):e.destroyed&&i&&r.close(e._hadError)};Aw.default=bw;Rw.exports=bw;Rw.exports.default=bw});var Yq=l((Tw,xw)=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0});var VZ=Jq(),WZ=require("util"),KZ=Number(process.versions.node.split(".")[0]),Cw=e=>{if(e.timings)return e.timings;let t={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=t;let r=a=>{let c=a.emit.bind(a);a.emit=(d,...u)=>(d==="error"&&(t.error=Date.now(),t.phases.total=t.error-t.start,a.emit=c),c(d,...u))};r(e);let n=()=>{t.abort=Date.now(),(!t.response||KZ>=13)&&(t.phases.total=Date.now()-t.start)};e.prependOnceListener("abort",n);let s=a=>{if(t.socket=Date.now(),t.phases.wait=t.socket-t.start,WZ.types.isProxy(a))return;let c=()=>{t.lookup=Date.now(),t.phases.dns=t.lookup-t.socket};a.prependOnceListener("lookup",c),VZ.default(a,{connect:()=>{t.connect=Date.now(),t.lookup===void 0&&(a.removeListener("lookup",c),t.lookup=t.connect,t.phases.dns=t.lookup-t.socket),t.phases.tcp=t.connect-t.lookup},secureConnect:()=>{t.secureConnect=Date.now(),t.phases.tls=t.secureConnect-t.connect}})};e.socket?s(e.socket):e.prependOnceListener("socket",s);let i=()=>{var a;t.upload=Date.now(),t.phases.request=t.upload-((a=t.secureConnect)!==null&&a!==void 0?a:t.connect)};return(()=>typeof e.writableFinished=="boolean"?e.writableFinished:e.finished&&e.outputSize===0&&(!e.socket||e.socket.writableLength===0))()?i():e.prependOnceListener("finish",i),e.prependOnceListener("response",a=>{t.response=Date.now(),t.phases.firstByte=t.response-t.upload,a.timings=t,r(a),a.prependOnceListener("end",()=>{t.end=Date.now(),t.phases.download=t.end-t.response,t.phases.total=t.end-t.start}),a.prependOnceListener("aborted",n)}),t};Tw.default=Cw;xw.exports=Cw;xw.exports.default=Cw});var nO=l((Bue,Nw)=>{"use strict";var{V4MAPPED:JZ,ADDRCONFIG:YZ,ALL:rO,promises:{Resolver:Xq},lookup:XZ}=require("dns"),{promisify:qw}=require("util"),QZ=require("os"),As=Symbol("cacheableLookupCreateConnection"),Ow=Symbol("cacheableLookupInstance"),Qq=Symbol("expires"),ZZ=typeof rO=="number",Zq=e=>{if(!(e&&typeof e.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},eee=e=>{for(let t of e)t.family!==6&&(t.address=`::ffff:${t.address}`,t.family=6)},eO=()=>{let e=!1,t=!1;for(let r of Object.values(QZ.networkInterfaces()))for(let n of r)if(!n.internal&&(n.family==="IPv6"?t=!0:e=!0,e&&t))return{has4:e,has6:t};return{has4:e,has6:t}},tee=e=>Symbol.iterator in e,tO={ttl:!0},ree={all:!0},wm=class{constructor({cache:t=new Map,maxTtl:r=1/0,fallbackDuration:n=3600,errorTtl:s=.15,resolver:i=new Xq,lookup:o=XZ}={}){if(this.maxTtl=r,this.errorTtl=s,this._cache=t,this._resolver=i,this._dnsLookup=qw(o),this._resolver instanceof Xq?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=qw(this._resolver.resolve4.bind(this._resolver)),this._resolve6=qw(this._resolver.resolve6.bind(this._resolver))),this._iface=eO(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,n<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(t){this.clear(),this._resolver.setServers(t)}get servers(){return this._resolver.getServers()}lookup(t,r,n){if(typeof r=="function"?(n=r,r={}):typeof r=="number"&&(r={family:r}),!n)throw new Error("Callback must be a function.");this.lookupAsync(t,r).then(s=>{r.all?n(null,s):n(null,s.address,s.family,s.expires,s.ttl)},n)}async lookupAsync(t,r={}){typeof r=="number"&&(r={family:r});let n=await this.query(t);if(r.family===6){let s=n.filter(i=>i.family===6);r.hints&JZ&&(ZZ&&r.hints&rO||s.length===0)?eee(n):n=s}else r.family===4&&(n=n.filter(s=>s.family===4));if(r.hints&YZ){let{_iface:s}=this;n=n.filter(i=>i.family===6?s.has6:s.has4)}if(n.length===0){let s=new Error(`cacheableLookup ENOTFOUND ${t}`);throw s.code="ENOTFOUND",s.hostname=t,s}return r.all?n:n[0]}async query(t){let r=await this._cache.get(t);if(!r){let n=this._pending[t];if(n)r=await n;else{let s=this.queryAndCache(t);this._pending[t]=s;try{r=await s}finally{delete this._pending[t]}}}return r=r.map(n=>({...n})),r}async _resolve(t){let r=async d=>{try{return await d}catch(u){if(u.code==="ENODATA"||u.code==="ENOTFOUND")return[];throw u}},[n,s]=await Promise.all([this._resolve4(t,tO),this._resolve6(t,tO)].map(d=>r(d))),i=0,o=0,a=0,c=Date.now();for(let d of n)d.family=4,d.expires=c+d.ttl*1e3,i=Math.max(i,d.ttl);for(let d of s)d.family=6,d.expires=c+d.ttl*1e3,o=Math.max(o,d.ttl);return n.length>0?s.length>0?a=Math.min(i,o):a=i:a=o,{entries:[...n,...s],cacheTtl:a}}async _lookup(t){try{return{entries:await this._dnsLookup(t,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(t,r,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,r[Qq]=Date.now()+n;try{await this._cache.set(t,r,n)}catch(s){this.lookupAsync=async()=>{let i=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw i.cause=s,i}}tee(this._cache)&&this._tick(n)}}async queryAndCache(t){if(this._hostnamesToFallback.has(t))return this._dnsLookup(t,ree);let r=await this._resolve(t);r.entries.length===0&&this._fallback&&(r=await this._lookup(t),r.entries.length!==0&&this._hostnamesToFallback.add(t));let n=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(t,r.entries,n),r.entries}_tick(t){let r=this._nextRemovalTime;(!r||t<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=t,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,s=Date.now();for(let[i,o]of this._cache){let a=o[Qq];s>=a?this._cache.delete(i):a<n&&(n=a)}n!==1/0&&this._tick(n-s)},t),this._removalTimeout.unref&&this._removalTimeout.unref())}install(t){if(Zq(t),As in t)throw new Error("CacheableLookup has been already installed");t[As]=t.createConnection,t[Ow]=this,t.createConnection=(r,n)=>("lookup"in r||(r.lookup=this.lookup),t[As](r,n))}uninstall(t){if(Zq(t),t[As]){if(t[Ow]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");t.createConnection=t[As],delete t[As],delete t[Ow]}}updateInterfaceInfo(){let{_iface:t}=this;this._iface=eO(),(t.has4&&!this._iface.has4||t.has6&&!this._iface.has6)&&this._cache.clear()}clear(t){if(t){this._cache.delete(t);return}this._cache.clear()}};Nw.exports=wm;Nw.exports.default=wm});var oO=l((Vue,iO)=>{"use strict";var nee="text/plain",see="us-ascii",sO=(e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),iee=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:s,hash:i}=r.groups,o=n.split(";");i=t?"":i;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let c=(o.shift()||"").toLowerCase(),u=[...o.map(f=>{let[p,m=""]=f.split("=").map(_=>_.trim());return p==="charset"&&(m=m.toLowerCase(),m===see)?"":`${p}${m?`=${m}`:""}`}).filter(Boolean)];return a&&u.push("base64"),(u.length!==0||c&&c!==nee)&&u.unshift(c),`data:${u.join(";")},${a?s.trim():s}${i?`#${i}`:""}`},oee=(e,t)=>{if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return iee(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname&&(s.pathname=s.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=s.pathname.split("/"),a=o[o.length-1];sO(a,t.removeDirectoryIndex)&&(o=o.slice(0,o.length-1),s.pathname=o.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let o of[...s.searchParams.keys()])sO(o,t.removeQueryParameters)&&s.searchParams.delete(o);t.removeQueryParameters===!0&&(s.search=""),t.sortQueryParameters&&s.searchParams.sort(),t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let i=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!i.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e};iO.exports=oee});var dO=l((Wue,cO)=>{cO.exports=aO;function aO(e,t){if(e&&t)return aO(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];var i=e.apply(this,n),o=n[n.length-1];return typeof i=="function"&&i!==o&&Object.keys(o).forEach(function(a){i[a]=o[a]}),i}}});var kw=l((Kue,Mw)=>{var lO=dO();Mw.exports=lO(vm);Mw.exports.strict=lO(uO);vm.proto=vm(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return vm(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return uO(this)},configurable:!0})});function vm(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function uO(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var mO=l((Jue,pO)=>{var aee=kw(),cee=function(){},dee=function(e){return e.setHeader&&typeof e.abort=="function"},lee=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},fO=function(e,t,r){if(typeof t=="function")return fO(e,null,t);t||(t={}),r=aee(r||cee);var n=e._writableState,s=e._readableState,i=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,a=!1,c=function(){e.writable||d()},d=function(){o=!1,i||r.call(e)},u=function(){i=!1,o||r.call(e)},f=function(y){r.call(e,y?new Error("exited with error code: "+y):null)},p=function(y){r.call(e,y)},m=function(){process.nextTick(_)},_=function(){if(!a){if(i&&!(s&&s.ended&&!s.destroyed))return r.call(e,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},g=function(){e.req.on("finish",d)};return dee(e)?(e.on("complete",d),e.on("abort",m),e.req?g():e.on("request",g)):o&&!n&&(e.on("end",c),e.on("close",c)),lee(e)&&e.on("exit",f),e.on("end",u),e.on("finish",d),t.error!==!1&&e.on("error",p),e.on("close",m),function(){a=!0,e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",g),e.req&&e.req.removeListener("finish",d),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",d),e.removeListener("exit",f),e.removeListener("end",u),e.removeListener("error",p),e.removeListener("close",m)}};pO.exports=fO});var yO=l((Yue,_O)=>{var uee=kw(),fee=mO(),Dw=require("fs"),Ma=function(){},pee=/^v?\.0/.test(process.version),Em=function(e){return typeof e=="function"},mee=function(e){return!pee||!Dw?!1:(e instanceof(Dw.ReadStream||Ma)||e instanceof(Dw.WriteStream||Ma))&&Em(e.close)},hee=function(e){return e.setHeader&&Em(e.abort)},_ee=function(e,t,r,n){n=uee(n);var s=!1;e.on("close",function(){s=!0}),fee(e,{readable:t,writable:r},function(o){if(o)return n(o);s=!0,n()});var i=!1;return function(o){if(!s&&!i){if(i=!0,mee(e))return e.close(Ma);if(hee(e))return e.abort();if(Em(e.destroy))return e.destroy();n(o||new Error("stream was destroyed"))}}},hO=function(e){e()},yee=function(e,t){return e.pipe(t)},gee=function(){var e=Array.prototype.slice.call(arguments),t=Em(e[e.length-1]||Ma)&&e.pop()||Ma;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(s,i){var o=i<e.length-1,a=i>0;return _ee(s,o,a,function(c){r||(r=c),c&&n.forEach(hO),!o&&(n.forEach(hO),t(r))})});return e.reduce(yee)};_O.exports=gee});var wO=l((Xue,gO)=>{"use strict";var{PassThrough:wee}=require("stream");gO.exports=e=>{e={...e};let{array:t}=e,{encoding:r}=e,n=r==="buffer",s=!1;t?s=!(r||n):r=r||"utf8",n&&(r=null);let i=new wee({objectMode:s});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",c=>{a.push(c),s?o=a.length:o+=c.length}),i.getBufferedValue=()=>t?a:n?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var vO=l((Que,Rs)=>{"use strict";var{constants:vee}=require("buffer"),Eee=yO(),See=wO(),Sm=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Pm(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};let{maxBuffer:r}=t,n;return await new Promise((s,i)=>{let o=a=>{a&&n.getBufferedLength()<=vee.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),i(a)};n=Eee(e,See(t),a=>{if(a){o(a);return}s()}),n.on("data",()=>{n.getBufferedLength()>r&&o(new Sm)})}),n.getBufferedValue()}Rs.exports=Pm;Rs.exports.default=Pm;Rs.exports.buffer=(e,t)=>Pm(e,{...t,encoding:"buffer"});Rs.exports.array=(e,t)=>Pm(e,{...t,array:!0});Rs.exports.MaxBufferError=Sm});var SO=l((efe,EO)=>{"use strict";var Pee=new Set([200,203,204,206,300,301,404,405,410,414,501]),Iee=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),bee=new Set([500,502,503,504]),Aee={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},Ree={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function Nn(e){let t=parseInt(e,10);return isFinite(t)?t:0}function Cee(e){return e?bee.has(e.status):!0}function jw(e){let t={};if(!e)return t;let r=e.trim().split(/\s*,\s*/);for(let n of r){let[s,i]=n.split(/\s*=\s*/,2);t[s]=i===void 0?!0:i.replace(/^"|"$/g,"")}return t}function Tee(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(!!t.length)return t.join(", ")}EO.exports=class{constructor(t,r,{shared:n,cacheHeuristic:s,immutableMinTimeToLive:i,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=s!==void 0?s:.1,this._immutableMinTtl=i!==void 0?i:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=jw(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=jw(t.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Tee(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&Iee.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Pee.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=jw(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)Aee[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let s of n)delete r[s]}if(r.warning){let n=r.warning.split(/,/).filter(s=>!/^\s*1[0-9][0-9]/.test(s));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return Nn(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return Nn(this._rescc["s-maxage"])}if(this._rescc["max-age"])return Nn(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+Nn(this._rescc["stale-if-error"]),n=t+Nn(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+Nn(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+Nn(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let s=r["if-none-match"].split(/,/).filter(i=>!/^\s*W\//.test(i));s.length?r["if-none-match"]=s.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&Cee(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let s={};for(let o in this._resHeaders)s[o]=o in r.headers&&!Ree[o]?r.headers[o]:this._resHeaders[o];let i=Object.assign({},r,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(t,i,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Im=l((tfe,PO)=>{"use strict";PO.exports=e=>{let t={};for(let[r,n]of Object.entries(e))t[r.toLowerCase()]=n;return t}});var bO=l((rfe,IO)=>{"use strict";var xee=require("stream").Readable,qee=Im(),Lw=class extends xee{constructor(t,r,n,s){if(typeof t!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof s!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=t,this.headers=qee(r),this.body=n,this.url=s}_read(){this.push(this.body),this.push(null)}};IO.exports=Lw});var RO=l((nfe,AO)=>{"use strict";var Oee=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];AO.exports=(e,t)=>{let r=new Set(Object.keys(e).concat(Oee));for(let n of r)n in t||(t[n]=typeof e[n]=="function"?e[n].bind(e):e[n])}});var TO=l((sfe,CO)=>{"use strict";var Nee=require("stream").PassThrough,Mee=RO(),kee=e=>{if(!(e&&e.pipe))throw new TypeError("Parameter `response` must be a response stream.");let t=new Nee;return Mee(e,t),e.pipe(t)};CO.exports=kee});var xO=l(zw=>{zw.stringify=function e(t){if(typeof t>"u")return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&typeof t=="object"){var r="",n=Array.isArray(t);r=n?"[":"{";var s=!0;for(var i in t){var o=typeof t[i]=="function"||!n&&typeof t[i]>"u";Object.hasOwnProperty.call(t,i)&&!o&&(s||(r+=","),s=!1,n?t[i]==null?r+="null":r+=e(t[i]):t[i]!==void 0&&(r+=e(i)+":"+e(t[i])))}return r+=n?"]":"}",r}else return typeof t=="string"?JSON.stringify(/^:/.test(t)?":"+t:t):typeof t>"u"?"null":JSON.stringify(t)};zw.parse=function(e){return JSON.parse(e,function(t,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var MO=l((ofe,NO)=>{"use strict";var Dee=require("events"),qO=xO(),jee=e=>{let t={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(e.adapter||e.uri){let r=e.adapter||/^[^:+]*/.exec(e.uri)[0];return new(require(t[r]))(e)}return new Map},OO=["sqlite","postgres","mysql","mongo","redis","tiered"],Fw=class extends Dee{constructor(t,{emitErrors:r=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:qO.stringify,deserialize:qO.parse,...typeof t=="string"?{uri:t}:t,...n},!this.opts.store){let i={...this.opts};this.opts.store=jee(i)}if(this.opts.compression){let i=this.opts.compression;this.opts.serialize=i.serialize.bind(i),this.opts.deserialize=i.deserialize.bind(i)}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",i=>this.emit("error",i)),this.opts.store.namespace=this.opts.namespace;let s=i=>async function*(){for await(let[o,a]of typeof i=="function"?i(this.opts.store.namespace):i){let c=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof c.expires=="number"&&Date.now()>c.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),c.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=s(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=s(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return OO.includes(this.opts.store.opts.dialect)||OO.findIndex(t=>this.opts.store.opts.url.includes(t))>=0}_getKeyPrefix(t){return`${this.opts.namespace}:${t}`}_getKeyPrefixArray(t){return t.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(t){return t.split(":").splice(1).join(":")}get(t,r){let{store:n}=this.opts,s=Array.isArray(t),i=s?this._getKeyPrefixArray(t):this._getKeyPrefix(t);if(s&&n.getMany===void 0){let o=[];for(let a of i)o.push(Promise.resolve().then(()=>n.get(a)).then(c=>typeof c=="string"?this.opts.deserialize(c):this.opts.compression?this.opts.deserialize(c):c).then(c=>{if(c!=null)return typeof c.expires=="number"&&Date.now()>c.expires?this.delete(a).then(()=>{}):r&&r.raw?c:c.value}));return Promise.allSettled(o).then(a=>{let c=[];for(let d of a)c.push(d.value);return c})}return Promise.resolve().then(()=>s?n.getMany(i):n.get(i)).then(o=>typeof o=="string"?this.opts.deserialize(o):this.opts.compression?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(s){let a=[];for(let c of o){if(typeof c=="string"&&(c=this.opts.deserialize(c)),c==null){a.push(void 0);continue}typeof c.expires=="number"&&Date.now()>c.expires?(this.delete(t).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?c:c.value)}return a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(t).then(()=>{}):r&&r.raw?o:o.value}})}set(t,r,n){let s=this._getKeyPrefix(t);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:i}=this.opts;return Promise.resolve().then(()=>{let o=typeof n=="number"?Date.now()+n:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>i.set(s,o,n)).then(()=>!0)}delete(t){let{store:r}=this.opts;if(Array.isArray(t)){let s=this._getKeyPrefixArray(t);if(r.deleteMany===void 0){let i=[];for(let o of s)i.push(r.delete(o));return Promise.allSettled(i).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(s))}let n=this._getKeyPrefix(t);return Promise.resolve().then(()=>r.delete(n))}clear(){let{store:t}=this.opts;return Promise.resolve().then(()=>t.clear())}has(t){let r=this._getKeyPrefix(t),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(r):await n.get(r)!==void 0)}disconnect(){let{store:t}=this.opts;if(typeof t.disconnect=="function")return t.disconnect()}};NO.exports=Fw});var jO=l((afe,DO)=>{"use strict";var Lee=require("events"),bm=require("url"),zee=oO(),Fee=vO(),Uw=SO(),kO=bO(),Uee=Im(),$ee=TO(),Hee=MO(),It=class{constructor(t,r){if(typeof t!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new Hee({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(t)}createCacheableRequest(t){return(r,n)=>{let s;if(typeof r=="string")s=$w(bm.parse(r)),r={};else if(r instanceof bm.URL)s=$w(bm.parse(r.toString())),r={};else{let[f,...p]=(r.path||"").split("?"),m=p.length>0?`?${p.join("?")}`:"";s=$w({...r,pathname:f,search:m})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...Gee(s)},r.headers=Uee(r.headers);let i=new Lee,o=zee(bm.format(s),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${o}`,c=!1,d=!1,u=f=>{d=!0;let p=!1,m,_=new Promise(y=>{m=()=>{p||(p=!0,y())}}),g=y=>{if(c&&!f.forceRefresh){y.status=y.statusCode;let N=Uw.fromObject(c.cachePolicy).revalidatedPolicy(f,y);if(!N.modified){let M=N.policy.responseHeaders();y=new kO(c.statusCode,M,c.body,c.url),y.cachePolicy=N.policy,y.fromCache=!0}}y.fromCache||(y.cachePolicy=new Uw(f,y,f),y.fromCache=!1);let P;f.cache&&y.cachePolicy.storable()?(P=$ee(y),(async()=>{try{let N=Fee.buffer(y);if(await Promise.race([_,new Promise(Ne=>y.once("end",Ne))]),p)return;let M=await N,he={cachePolicy:y.cachePolicy.toObject(),url:y.url,statusCode:y.fromCache?c.statusCode:y.statusCode,body:M},rr=f.strictTtl?y.cachePolicy.timeToLive():void 0;f.maxTtl&&(rr=rr?Math.min(rr,f.maxTtl):f.maxTtl),await this.cache.set(a,he,rr)}catch(N){i.emit("error",new It.CacheError(N))}})()):f.cache&&c&&(async()=>{try{await this.cache.delete(a)}catch(N){i.emit("error",new It.CacheError(N))}})(),i.emit("response",P||y),typeof n=="function"&&n(P||y)};try{let y=t(f,g);y.once("error",m),y.once("abort",m),i.emit("request",y)}catch(y){i.emit("error",new It.RequestError(y))}};return(async()=>{let f=async m=>{await Promise.resolve();let _=m.cache?await this.cache.get(a):void 0;if(typeof _>"u")return u(m);let g=Uw.fromObject(_.cachePolicy);if(g.satisfiesWithoutRevalidation(m)&&!m.forceRefresh){let y=g.responseHeaders(),P=new kO(_.statusCode,y,_.body,_.url);P.cachePolicy=g,P.fromCache=!0,i.emit("response",P),typeof n=="function"&&n(P)}else c=_,m.headers=g.revalidationHeaders(m),u(m)},p=m=>i.emit("error",new It.CacheError(m));this.cache.once("error",p),i.on("response",()=>this.cache.removeListener("error",p));try{await f(r)}catch(m){r.automaticFailover&&!d&&u(r),i.emit("error",new It.CacheError(m))}})(),i}}};function Gee(e){let t={...e};return t.path=`${e.pathname||"/"}${e.search||""}`,delete t.pathname,delete t.search,t}function $w(e){return{protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}}It.RequestError=class extends Error{constructor(e){super(e.message),this.name="RequestError",Object.assign(this,e)}};It.CacheError=class extends Error{constructor(e){super(e.message),this.name="CacheError",Object.assign(this,e)}};DO.exports=It});var zO=l((lfe,LO)=>{"use strict";var Bee=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];LO.exports=(e,t)=>{if(t._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(e).concat(Bee)),n={};for(let s of r)s in t||(n[s]={get(){let i=e[s];return typeof i=="function"?i.bind(e):i},set(i){e[s]=i},enumerable:!0,configurable:!1});return Object.defineProperties(t,n),e.once("aborted",()=>{t.destroy(),t.emit("aborted")}),e.once("close",()=>{e.complete&&t.readable?t.once("end",()=>{t.emit("close")}):t.emit("close")}),t}});var UO=l((ufe,FO)=>{"use strict";var{Transform:Vee,PassThrough:Wee}=require("stream"),Hw=require("zlib"),Kee=zO();FO.exports=e=>{let t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t))return e;let r=t==="br";if(r&&typeof Hw.createBrotliDecompress!="function")return e.destroy(new Error("Brotli is not supported on Node.js < 12")),e;let n=!0,s=new Vee({transform(a,c,d){n=!1,d(null,a)},flush(a){a()}}),i=new Wee({autoDestroy:!1,destroy(a,c){e.destroy(),c(a)}}),o=r?Hw.createBrotliDecompress():Hw.createUnzip();return o.once("error",a=>{if(n&&!e.readable){i.end();return}i.destroy(a)}),Kee(e,i),e.pipe(s).pipe(o).pipe(i),i}});var Bw=l((ffe,$O)=>{"use strict";var Gw=class{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,r){if(this.cache.set(t,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,s]of this.oldCache.entries())this.onEviction(n,s);this.oldCache=this.cache,this.cache=new Map}}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){let r=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,r),r}}set(t,r){return this.cache.has(t)?this.cache.set(t,r):this._set(t,r),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){let r=this.cache.delete(t);return r&&this._size--,this.oldCache.delete(t)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache)yield t;for(let t of this.oldCache){let[r]=t;this.cache.has(r)||(yield t)}}get size(){let t=0;for(let r of this.oldCache.keys())this.cache.has(r)||t++;return Math.min(this._size+t,this.maxSize)}};$O.exports=Gw});var Ww=l((pfe,VO)=>{"use strict";var Jee=require("events"),Yee=require("tls"),Xee=require("http2"),Qee=Bw(),ze=Symbol("currentStreamsCount"),HO=Symbol("request"),_t=Symbol("cachedOriginSet"),Cs=Symbol("gracefullyClosing"),Zee=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],ete=(e,t,r)=>{let n=0,s=e.length;for(;n<s;){let i=n+s>>>1;r(e[i],t)?n=i+1:s=i}return n},tte=(e,t)=>e.remoteSettings.maxConcurrentStreams>t.remoteSettings.maxConcurrentStreams,Vw=(e,t)=>{for(let r of e)r[_t].length<t[_t].length&&r[_t].every(n=>t[_t].includes(n))&&r[ze]+t[ze]<=t.remoteSettings.maxConcurrentStreams&&BO(r)},rte=(e,t)=>{for(let r of e)t[_t].length<r[_t].length&&t[_t].every(n=>r[_t].includes(n))&&t[ze]+r[ze]<=r.remoteSettings.maxConcurrentStreams&&BO(t)},GO=({agent:e,isFree:t})=>{let r={};for(let n in e.sessions){let i=e.sessions[n].filter(o=>{let a=o[tr.kCurrentStreamsCount]<o.remoteSettings.maxConcurrentStreams;return t?a:!a});i.length!==0&&(r[n]=i)}return r},BO=e=>{e[Cs]=!0,e[ze]===0&&e.close()},tr=class extends Jee{constructor({timeout:t=6e4,maxSessions:r=1/0,maxFreeSessions:n=10,maxCachedTlsSessions:s=100}={}){super(),this.sessions={},this.queue={},this.timeout=t,this.maxSessions=r,this.maxFreeSessions=n,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new Qee({maxSize:s})}static normalizeOrigin(t,r){return typeof t=="string"&&(t=new URL(t)),r&&t.hostname!==r&&(t.hostname=r),t.origin}normalizeOptions(t){let r="";if(t)for(let n of Zee)t[n]&&(r+=`:${t[n]}`);return r}_tryToCreateNewSession(t,r){if(!(t in this.queue)||!(r in this.queue[t]))return;let n=this.queue[t][r];this._sessionsCount<this.maxSessions&&!n.completed&&(n.completed=!0,n())}getSession(t,r,n){return new Promise((s,i)=>{Array.isArray(n)?(n=[...n],s()):n=[{resolve:s,reject:i}];let o=this.normalizeOptions(r),a=tr.normalizeOrigin(t,r&&r.servername);if(a===void 0){for(let{reject:u}of n)u(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(o in this.sessions){let u=this.sessions[o],f=-1,p=-1,m;for(let _ of u){let g=_.remoteSettings.maxConcurrentStreams;if(g<f)break;if(_[_t].includes(a)){let y=_[ze];if(y>=g||_[Cs]||_.destroyed)continue;m||(f=g),y>p&&(m=_,p=y)}}if(m){if(n.length!==1){for(let{reject:_}of n){let g=new Error(`Expected the length of listeners to be 1, got ${n.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);_(g)}return}n[0].resolve(m);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...n),this._tryToCreateNewSession(o,a);return}}else this.queue[o]={};let c=()=>{o in this.queue&&this.queue[o][a]===d&&(delete this.queue[o][a],Object.keys(this.queue[o]).length===0&&delete this.queue[o])},d=()=>{let u=`${a}:${o}`,f=!1;try{let p=Xee.connect(t,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(u),...r});p[ze]=0,p[Cs]=!1;let m=()=>p[ze]<p.remoteSettings.maxConcurrentStreams,_=!0;p.socket.once("session",y=>{this.tlsSessionCache.set(u,y)}),p.once("error",y=>{for(let{reject:P}of n)P(y);this.tlsSessionCache.delete(u)}),p.setTimeout(this.timeout,()=>{p.destroy()}),p.once("close",()=>{if(f){_&&this._freeSessionsCount--,this._sessionsCount--;let y=this.sessions[o];y.splice(y.indexOf(p),1),y.length===0&&delete this.sessions[o]}else{let y=new Error("Session closed without receiving a SETTINGS frame");y.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:P}of n)P(y);c()}this._tryToCreateNewSession(o,a)});let g=()=>{if(!(!(o in this.queue)||!m())){for(let y of p[_t])if(y in this.queue[o]){let{listeners:P}=this.queue[o][y];for(;P.length!==0&&m();)P.shift().resolve(p);let N=this.queue[o];if(N[y].listeners.length===0&&(delete N[y],Object.keys(N).length===0)){delete this.queue[o];break}if(!m())break}}};p.on("origin",()=>{p[_t]=p.originSet,m()&&(g(),Vw(this.sessions[o],p))}),p.once("remoteSettings",()=>{if(p.ref(),p.unref(),this._sessionsCount++,d.destroyed){let y=new Error("Agent has been destroyed");for(let P of n)P.reject(y);p.destroy();return}p[_t]=p.originSet;{let y=this.sessions;if(o in y){let P=y[o];P.splice(ete(P,p,tte),0,p)}else y[o]=[p]}this._freeSessionsCount+=1,f=!0,this.emit("session",p),g(),c(),p[ze]===0&&this._freeSessionsCount>this.maxFreeSessions&&p.close(),n.length!==0&&(this.getSession(a,r,n),n.length=0),p.on("remoteSettings",()=>{g(),Vw(this.sessions[o],p)})}),p[HO]=p.request,p.request=(y,P)=>{if(p[Cs])throw new Error("The session is gracefully closing. No new streams are allowed.");let N=p[HO](y,P);return p.ref(),++p[ze],p[ze]===p.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,N.once("close",()=>{if(_=m(),--p[ze],!p.destroyed&&!p.closed&&(rte(this.sessions[o],p),m()&&!p.closed)){_||(this._freeSessionsCount++,_=!0);let M=p[ze]===0;M&&p.unref(),M&&(this._freeSessionsCount>this.maxFreeSessions||p[Cs])?p.close():(Vw(this.sessions[o],p),g())}}),N}}catch(p){for(let m of n)m.reject(p);c()}};d.listeners=n,d.completed=!1,d.destroyed=!1,this.queue[o][a]=d,this._tryToCreateNewSession(o,a)})}request(t,r,n,s){return new Promise((i,o)=>{this.getSession(t,r,[{reject:o,resolve:a=>{try{i(a.request(n,s))}catch(c){o(c)}}}])})}createConnection(t,r){return tr.connect(t,r)}static connect(t,r){r.ALPNProtocols=["h2"];let n=t.port||443,s=t.hostname||t.host;return typeof r.servername>"u"&&(r.servername=s),Yee.connect(n,s,r)}closeFreeSessions(){for(let t of Object.values(this.sessions))for(let r of t)r[ze]===0&&r.close()}destroy(t){for(let r of Object.values(this.sessions))for(let n of r)n.destroy(t);for(let r of Object.values(this.queue))for(let n of Object.values(r))n.destroyed=!0;this.queue={}}get freeSessions(){return GO({agent:this,isFree:!0})}get busySessions(){return GO({agent:this,isFree:!1})}};tr.kCurrentStreamsCount=ze;tr.kGracefullyClosing=Cs;VO.exports={Agent:tr,globalAgent:new tr}});var Jw=l((mfe,WO)=>{"use strict";var{Readable:nte}=require("stream"),Kw=class extends nte{constructor(t,r){super({highWaterMark:r,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=t,this.connection=t,this._dumped=!1}_destroy(t){this.req._request.destroy(t)}setTimeout(t,r){return this.req.setTimeout(t,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};WO.exports=Kw});var Yw=l((hfe,KO)=>{"use strict";KO.exports=e=>{let t={protocol:e.protocol,hostname:typeof e.hostname=="string"&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return typeof e.port=="string"&&e.port.length!==0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}});var YO=l((_fe,JO)=>{"use strict";JO.exports=(e,t,r)=>{for(let n of r)e.on(n,(...s)=>t.emit(n,...s))}});var QO=l((yfe,XO)=>{"use strict";XO.exports=e=>{switch(e){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var eN=l((wfe,ZO)=>{"use strict";var Ts=(e,t,r)=>{ZO.exports[t]=class extends e{constructor(...s){super(typeof r=="string"?r:r(s)),this.name=`${super.name} [${t}]`,this.code=t}}};Ts(TypeError,"ERR_INVALID_ARG_TYPE",e=>{let t=e[0].includes(".")?"property":"argument",r=e[1],n=Array.isArray(r);return n&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${e[0]}" ${t} must be ${n?"one of":"of"} type ${r}. Received ${typeof e[2]}`});Ts(TypeError,"ERR_INVALID_PROTOCOL",e=>`Protocol "${e[0]}" not supported. Expected "${e[1]}"`);Ts(Error,"ERR_HTTP_HEADERS_SENT",e=>`Cannot ${e[0]} headers after they are sent to the client`);Ts(TypeError,"ERR_INVALID_HTTP_TOKEN",e=>`${e[0]} must be a valid HTTP token [${e[1]}]`);Ts(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",e=>`Invalid value "${e[0]} for header "${e[1]}"`);Ts(TypeError,"ERR_INVALID_CHAR",e=>`Invalid character in ${e[0]} [${e[1]}]`)});var tv=l((vfe,aN)=>{"use strict";var ste=require("http2"),{Writable:ite}=require("stream"),{Agent:tN,globalAgent:ote}=Ww(),ate=Jw(),cte=Yw(),dte=YO(),lte=QO(),{ERR_INVALID_ARG_TYPE:Xw,ERR_INVALID_PROTOCOL:ute,ERR_HTTP_HEADERS_SENT:rN,ERR_INVALID_HTTP_TOKEN:fte,ERR_HTTP_INVALID_HEADER_VALUE:pte,ERR_INVALID_CHAR:mte}=eN(),{HTTP2_HEADER_STATUS:nN,HTTP2_HEADER_METHOD:sN,HTTP2_HEADER_PATH:iN,HTTP2_METHOD_CONNECT:hte}=ste.constants,Oe=Symbol("headers"),Qw=Symbol("origin"),Zw=Symbol("session"),oN=Symbol("options"),Am=Symbol("flushedHeaders"),ka=Symbol("jobs"),_te=/^[\^`\-\w!#$%&*+.|~]+$/,yte=/[^\t\u0020-\u007E\u0080-\u00FF]/,ev=class extends ite{constructor(t,r,n){super({autoDestroy:!1});let s=typeof t=="string"||t instanceof URL;if(s&&(t=cte(t instanceof URL?t:new URL(t))),typeof r=="function"||r===void 0?(n=r,r=s?t:{...t}):r={...t,...r},r.h2session)this[Zw]=r.h2session;else if(r.agent===!1)this.agent=new tN({maxFreeSessions:0});else if(typeof r.agent>"u"||r.agent===null)typeof r.createConnection=="function"?(this.agent=new tN({maxFreeSessions:0}),this.agent.createConnection=r.createConnection):this.agent=ote;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new Xw("options.agent",["Agent-like Object","undefined","false"],r.agent);if(r.protocol&&r.protocol!=="https:")throw new ute(r.protocol,"https:");let i=r.port||r.defaultPort||this.agent&&this.agent.defaultPort||443,o=r.hostname||r.host||"localhost";delete r.hostname,delete r.host,delete r.port;let{timeout:a}=r;if(r.timeout=void 0,this[Oe]=Object.create(null),this[ka]=[],this.socket=null,this.connection=null,this.method=r.method||"GET",this.path=r.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,r.headers)for(let[c,d]of Object.entries(r.headers))this.setHeader(c,d);r.auth&&!("authorization"in this[Oe])&&(this[Oe].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[oN]=r,i===443?(this[Qw]=`https://${o}`,":authority"in this[Oe]||(this[Oe][":authority"]=o)):(this[Qw]=`https://${o}:${i}`,":authority"in this[Oe]||(this[Oe][":authority"]=`${o}:${i}`)),a&&this.setTimeout(a),n&&this.once("response",n),this[Am]=!1}get method(){return this[Oe][sN]}set method(t){t&&(this[Oe][sN]=t.toUpperCase())}get path(){return this[Oe][iN]}set path(t){t&&(this[Oe][iN]=t)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(t,r,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let s=()=>this._request.write(t,r,n);this._request?s():this[ka].push(s)}_final(t){if(this.destroyed)return;this.flushHeaders();let r=()=>{if(this._mustNotHaveABody){t();return}this._request.end(t)};this._request?r():this[ka].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(t,r){this.res&&this.res._dump(),this._request&&this._request.destroy(),r(t)}async flushHeaders(){if(this[Am]||this.destroyed)return;this[Am]=!0;let t=this.method===hte,r=n=>{if(this._request=n,this.destroyed){n.destroy();return}t||dte(n,this,["timeout","continue","close","error"]);let s=o=>(...a)=>{!this.writable&&!this.destroyed?o(...a):this.once("finish",()=>{o(...a)})};n.once("response",s((o,a,c)=>{let d=new ate(this.socket,n.readableHighWaterMark);this.res=d,d.req=this,d.statusCode=o[nN],d.headers=o,d.rawHeaders=c,d.once("end",()=>{this.aborted?(d.aborted=!0,d.emit("aborted")):(d.complete=!0,d.socket=null,d.connection=null)}),t?(d.upgrade=!0,this.emit("connect",d,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",u=>{!d._dumped&&!d.push(u)&&n.pause()}),n.once("end",()=>{d.push(null)}),this.emit("response",d)||d._dump())})),n.once("headers",s(o=>this.emit("information",{statusCode:o[nN]}))),n.once("trailers",s((o,a,c)=>{let{res:d}=this;d.trailers=o,d.rawTrailers=c}));let{socket:i}=n.session;this.socket=i,this.connection=i;for(let o of this[ka])o();this.emit("socket",this.socket)};if(this[Zw])try{r(this[Zw].request(this[Oe]))}catch(n){this.emit("error",n)}else{this.reusedSocket=!0;try{r(await this.agent.request(this[Qw],this[oN],this[Oe]))}catch(n){this.emit("error",n)}}}getHeader(t){if(typeof t!="string")throw new Xw("name","string",t);return this[Oe][t.toLowerCase()]}get headersSent(){return this[Am]}removeHeader(t){if(typeof t!="string")throw new Xw("name","string",t);if(this.headersSent)throw new rN("remove");delete this[Oe][t.toLowerCase()]}setHeader(t,r){if(this.headersSent)throw new rN("set");if(typeof t!="string"||!_te.test(t)&&!lte(t))throw new fte("Header name",t);if(typeof r>"u")throw new pte(r,t);if(yte.test(r))throw new mte("header content",t);this[Oe][t.toLowerCase()]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(t,r){let n=()=>this._request.setTimeout(t,r);return this._request?n():this[ka].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(t){}};aN.exports=ev});var dN=l((Efe,cN)=>{"use strict";var gte=require("tls");cN.exports=(e={},t=gte.connect)=>new Promise((r,n)=>{let s=!1,i,o=async()=>{await c,i.off("timeout",a),i.off("error",n),e.resolveSocket?(r({alpnProtocol:i.alpnProtocol,socket:i,timeout:s}),s&&(await Promise.resolve(),i.emit("timeout"))):(i.destroy(),r({alpnProtocol:i.alpnProtocol,timeout:s}))},a=async()=>{s=!0,o()},c=(async()=>{try{i=await t(e,o),i.on("error",n),i.once("timeout",a)}catch(d){n(d)}})()})});var uN=l((Sfe,lN)=>{"use strict";var wte=require("net");lN.exports=e=>{let t=e.host,r=e.headers&&e.headers.host;return r&&(r.startsWith("[")?r.indexOf("]")===-1?t=r:t=r.slice(1,-1):t=r.split(":",1)[0]),wte.isIP(t)?"":t}});var mN=l((Pfe,nv)=>{"use strict";var fN=require("http"),rv=require("https"),vte=dN(),Ete=Bw(),Ste=tv(),Pte=uN(),Ite=Yw(),Rm=new Ete({maxSize:100}),Da=new Map,pN=(e,t,r)=>{t._httpMessage={shouldKeepAlive:!0};let n=()=>{e.emit("free",t,r)};t.on("free",n);let s=()=>{e.removeSocket(t,r)};t.on("close",s);let i=()=>{e.removeSocket(t,r),t.off("close",s),t.off("free",n),t.off("agentRemove",i)};t.on("agentRemove",i),e.emit("free",t,r)},bte=async e=>{let t=`${e.host}:${e.port}:${e.ALPNProtocols.sort()}`;if(!Rm.has(t)){if(Da.has(t))return(await Da.get(t)).alpnProtocol;let{path:r,agent:n}=e;e.path=e.socketPath;let s=vte(e);Da.set(t,s);try{let{socket:i,alpnProtocol:o}=await s;if(Rm.set(t,o),e.path=r,o==="h2")i.destroy();else{let{globalAgent:a}=rv,c=rv.Agent.prototype.createConnection;n?n.createConnection===c?pN(n,i,e):i.destroy():a.createConnection===c?pN(a,i,e):i.destroy()}return Da.delete(t),o}catch(i){throw Da.delete(t),i}}return Rm.get(t)};nv.exports=async(e,t,r)=>{if((typeof e=="string"||e instanceof URL)&&(e=Ite(new URL(e))),typeof t=="function"&&(r=t,t=void 0),t={ALPNProtocols:["h2","http/1.1"],...e,...t,resolveSocket:!0},!Array.isArray(t.ALPNProtocols)||t.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");t.protocol=t.protocol||"https:";let n=t.protocol==="https:";t.host=t.hostname||t.host||"localhost",t.session=t.tlsSession,t.servername=t.servername||Pte(t),t.port=t.port||(n?443:80),t._defaultAgent=n?rv.globalAgent:fN.globalAgent;let s=t.agent;if(s){if(s.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");t.agent=s[n?"https":"http"]}return n&&await bte(t)==="h2"?(s&&(t.agent=s.http2),new Ste(t,r)):fN.request(t,r)};nv.exports.protocolCache=Rm});var _N=l((Ife,hN)=>{"use strict";var Ate=require("http2"),Rte=Ww(),sv=tv(),Cte=Jw(),Tte=mN(),xte=(e,t,r)=>new sv(e,t,r),qte=(e,t,r)=>{let n=new sv(e,t,r);return n.end(),n};hN.exports={...Ate,ClientRequest:sv,IncomingMessage:Cte,...Rte,request:xte,get:qte,auto:Tte}});var ov=l(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});var yN=Ar();iv.default=e=>yN.default.nodeStream(e)&&yN.default.function_(e.getBoundary)});var EN=l(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});var wN=require("fs"),vN=require("util"),gN=Ar(),Ote=ov(),Nte=vN.promisify(wN.stat);av.default=async(e,t)=>{if(t&&"content-length"in t)return Number(t["content-length"]);if(!e)return 0;if(gN.default.string(e))return Buffer.byteLength(e);if(gN.default.buffer(e))return e.length;if(Ote.default(e))return vN.promisify(e.getLength.bind(e))();if(e instanceof wN.ReadStream){let{size:r}=await Nte(e.path);return r===0?void 0:r}}});var dv=l(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});function Mte(e,t,r){let n={};for(let s of r)n[s]=(...i)=>{t.emit(s,...i)},e.on(s,n[s]);return()=>{for(let s of r)e.off(s,n[s])}}cv.default=Mte});var SN=l(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.default=()=>{let e=[];return{once(t,r,n){t.once(r,n),e.push({origin:t,event:r,fn:n})},unhandleAll(){for(let t of e){let{origin:r,event:n,fn:s}=t;r.removeListener(n,s)}e.length=0}}}});var IN=l(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.TimeoutError=void 0;var kte=require("net"),Dte=SN(),PN=Symbol("reentry"),jte=()=>{},Cm=class extends Error{constructor(t,r){super(`Timeout awaiting '${r}' for ${t}ms`),this.event=r,this.name="TimeoutError",this.code="ETIMEDOUT"}};ja.TimeoutError=Cm;ja.default=(e,t,r)=>{if(PN in e)return jte;e[PN]=!0;let n=[],{once:s,unhandleAll:i}=Dte.default(),o=(f,p,m)=>{var _;let g=setTimeout(p,f,f,m);(_=g.unref)===null||_===void 0||_.call(g);let y=()=>{clearTimeout(g)};return n.push(y),y},{host:a,hostname:c}=r,d=(f,p)=>{e.destroy(new Cm(f,p))},u=()=>{for(let f of n)f();i()};if(e.once("error",f=>{if(u(),e.listenerCount("error")===0)throw f}),e.once("close",u),s(e,"response",f=>{s(f,"end",u)}),typeof t.request<"u"&&o(t.request,d,"request"),typeof t.socket<"u"){let f=()=>{d(t.socket,"socket")};e.setTimeout(t.socket,f),n.push(()=>{e.removeListener("timeout",f)})}return s(e,"socket",f=>{var p;let{socketPath:m}=e;if(f.connecting){let _=Boolean(m??kte.isIP((p=c??a)!==null&&p!==void 0?p:"")!==0);if(typeof t.lookup<"u"&&!_&&typeof f.address().address>"u"){let g=o(t.lookup,d,"lookup");s(f,"lookup",g)}if(typeof t.connect<"u"){let g=()=>o(t.connect,d,"connect");_?s(f,"connect",g()):s(f,"lookup",y=>{y===null&&s(f,"connect",g())})}typeof t.secureConnect<"u"&&r.protocol==="https:"&&s(f,"connect",()=>{let g=o(t.secureConnect,d,"secureConnect");s(f,"secureConnect",g)})}if(typeof t.send<"u"){let _=()=>o(t.send,d,"send");f.connecting?s(f,"connect",()=>{s(e,"upload-complete",_())}):s(e,"upload-complete",_())}}),typeof t.response<"u"&&s(e,"upload-complete",()=>{let f=o(t.response,d,"response");s(e,"response",f)}),u}});var AN=l(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});var bN=Ar();uv.default=e=>{e=e;let t={protocol:e.protocol,hostname:bN.default.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return bN.default.string(e.port)&&e.port.length>0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}});var RN=l(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});var Lte=require("url"),zte=["protocol","host","hostname","port","pathname","search"];fv.default=(e,t)=>{var r,n;if(t.path){if(t.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(t.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(t.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(t.search&&t.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!e){if(!t.protocol)throw new TypeError("No URL protocol specified");e=`${t.protocol}//${(n=(r=t.hostname)!==null&&r!==void 0?r:t.host)!==null&&n!==void 0?n:""}`}let s=new Lte.URL(e);if(t.path){let i=t.path.indexOf("?");i===-1?t.pathname=t.path:(t.pathname=t.path.slice(0,i),t.search=t.path.slice(i+1)),delete t.path}for(let i of zte)t[i]&&(s[i]=t[i].toString());return s}});var CN=l(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});var pv=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(t,r){typeof t=="object"?this.weakMap.set(t,r):this.map.set(t,r)}get(t){return typeof t=="object"?this.weakMap.get(t):this.map.get(t)}has(t){return typeof t=="object"?this.weakMap.has(t):this.map.has(t)}};mv.default=pv});var _v=l(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});var Fte=async e=>{let t=[],r=0;for await(let n of e)t.push(n),r+=Buffer.byteLength(n);return Buffer.isBuffer(t[0])?Buffer.concat(t,r):Buffer.from(t.join(""))};hv.default=Fte});var xN=l(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.dnsLookupIpVersionToFamily=Mn.isDnsLookupIpVersion=void 0;var TN={auto:0,ipv4:4,ipv6:6};Mn.isDnsLookupIpVersion=e=>e in TN;Mn.dnsLookupIpVersionToFamily=e=>{if(Mn.isDnsLookupIpVersion(e))return TN[e];throw new Error("Invalid DNS lookup IP version")}});var yv=l(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.isResponseOk=void 0;Tm.isResponseOk=e=>{let{statusCode:t}=e,r=e.request.options.followRedirect?299:399;return t>=200&&t<=r||t===304}});var ON=l(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});var qN=new Set;gv.default=e=>{qN.has(e)||(qN.add(e),process.emitWarning(`Got: ${e}`,{type:"DeprecationWarning"}))}});var NN=l(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});var ee=Ar(),Ute=(e,t)=>{if(ee.default.null_(e.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");ee.assert.any([ee.default.string,ee.default.undefined],e.encoding),ee.assert.any([ee.default.boolean,ee.default.undefined],e.resolveBodyOnly),ee.assert.any([ee.default.boolean,ee.default.undefined],e.methodRewriting),ee.assert.any([ee.default.boolean,ee.default.undefined],e.isStream),ee.assert.any([ee.default.string,ee.default.undefined],e.responseType),e.responseType===void 0&&(e.responseType="text");let{retry:r}=e;if(t?e.retry={...t.retry}:e.retry={calculateDelay:n=>n.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},ee.default.object(r)?(e.retry={...e.retry,...r},e.retry.methods=[...new Set(e.retry.methods.map(n=>n.toUpperCase()))],e.retry.statusCodes=[...new Set(e.retry.statusCodes)],e.retry.errorCodes=[...new Set(e.retry.errorCodes)]):ee.default.number(r)&&(e.retry.limit=r),ee.default.undefined(e.retry.maxRetryAfter)&&(e.retry.maxRetryAfter=Math.min(...[e.timeout.request,e.timeout.connect].filter(ee.default.number))),ee.default.object(e.pagination)){t&&(e.pagination={...t.pagination,...e.pagination});let{pagination:n}=e;if(!ee.default.function_(n.transform))throw new Error("`options.pagination.transform` must be implemented");if(!ee.default.function_(n.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!ee.default.function_(n.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!ee.default.function_(n.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return e.responseType==="json"&&e.headers.accept===void 0&&(e.headers.accept="application/json"),e};wv.default=Ute});var MN=l(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.retryAfterStatusCodes=void 0;La.retryAfterStatusCodes=new Set([413,429,503]);var $te=({attemptCount:e,retryOptions:t,error:r,retryAfter:n})=>{if(e>t.limit)return 0;let s=t.methods.includes(r.options.method),i=t.errorCodes.includes(r.code),o=r.response&&t.statusCodes.includes(r.response.statusCode);if(!s||!i&&!o)return 0;if(r.response){if(n)return t.maxRetryAfter===void 0||n>t.maxRetryAfter?0:n;if(r.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(e-1)*1e3+a};La.default=$te});var Ua=l($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.UnsupportedProtocolError=$.ReadError=$.TimeoutError=$.UploadError=$.CacheError=$.HTTPError=$.MaxRedirectsError=$.RequestError=$.setNonEnumerableProperties=$.knownHookEvents=$.withoutBody=$.kIsNormalizedAlready=void 0;var kN=require("util"),DN=require("stream"),Hte=require("fs"),Zr=require("url"),jN=require("http"),vv=require("http"),Gte=require("https"),Bte=Yq(),Vte=nO(),LN=jO(),Wte=UO(),Kte=_N(),Jte=Im(),w=Ar(),Yte=EN(),zN=ov(),Xte=dv(),FN=IN(),Qte=AN(),UN=RN(),Zte=CN(),ere=_v(),$N=xN(),tre=yv(),en=ON(),rre=NN(),nre=MN(),Ev,Ce=Symbol("request"),Om=Symbol("response"),xs=Symbol("responseSize"),qs=Symbol("downloadedSize"),Os=Symbol("bodySize"),Ns=Symbol("uploadedSize"),xm=Symbol("serverResponsesPiped"),HN=Symbol("unproxyEvents"),GN=Symbol("isFromCache"),Sv=Symbol("cancelTimeouts"),BN=Symbol("startedReading"),Ms=Symbol("stopReading"),qm=Symbol("triggerRead"),tn=Symbol("body"),za=Symbol("jobs"),VN=Symbol("originalResponse"),WN=Symbol("retryTimeout");$.kIsNormalizedAlready=Symbol("isNormalizedAlready");var sre=w.default.string(process.versions.brotli);$.withoutBody=new Set(["GET","HEAD"]);$.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function ire(e){for(let t in e){let r=e[t];if(!w.default.string(r)&&!w.default.number(r)&&!w.default.boolean(r)&&!w.default.null_(r)&&!w.default.undefined(r))throw new TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}function ore(e){return w.default.object(e)&&!("statusCode"in e)}var Pv=new Zte.default,are=async e=>new Promise((t,r)=>{let n=s=>{r(s)};e.pending||t(),e.once("error",n),e.once("ready",()=>{e.off("error",n),t()})}),cre=new Set([300,301,302,303,304,307,308]),dre=["context","body","json","form"];$.setNonEnumerableProperties=(e,t)=>{let r={};for(let n of e)if(!!n)for(let s of dre)s in n&&(r[s]={writable:!0,configurable:!0,enumerable:!1,value:n[s]});Object.defineProperties(t,r)};var me=class extends Error{constructor(t,r,n){var s,i;if(super(t),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(s=r.code)!==null&&s!==void 0?s:"ERR_GOT_REQUEST_ERROR",n instanceof zm?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n[Om]}),Object.defineProperty(this,"options",{enumerable:!1,value:n.options})):Object.defineProperty(this,"options",{enumerable:!1,value:n}),this.timings=(i=this.request)===null||i===void 0?void 0:i.timings,w.default.string(r.stack)&&w.default.string(this.stack)){let o=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(o).split(`
`).reverse(),c=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;c.length!==0&&c[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,o)}${a.reverse().join(`
`)}${c.reverse().join(`
`)}`}}};$.RequestError=me;var Nm=class extends me{constructor(t){super(`Redirected ${t.options.maxRedirects} times. Aborting.`,{},t),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};$.MaxRedirectsError=Nm;var Mm=class extends me{constructor(t){super(`Response code ${t.statusCode} (${t.statusMessage})`,{},t.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};$.HTTPError=Mm;var km=class extends me{constructor(t,r){super(t.message,t,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};$.CacheError=km;var Dm=class extends me{constructor(t,r){super(t.message,t,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};$.UploadError=Dm;var jm=class extends me{constructor(t,r,n){super(t.message,t,n),this.name="TimeoutError",this.event=t.event,this.timings=r}};$.TimeoutError=jm;var Fa=class extends me{constructor(t,r){super(t.message,t,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};$.ReadError=Fa;var Lm=class extends me{constructor(t){super(`Unsupported protocol "${t.url.protocol}"`,{},t),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};$.UnsupportedProtocolError=Lm;var lre=["socket","connect","continue","information","upgrade","timeout"],zm=class extends DN.Duplex{constructor(t,r={},n){super({autoDestroy:!1,highWaterMark:0}),this[qs]=0,this[Ns]=0,this.requestInitialized=!1,this[xm]=new Set,this.redirects=[],this[Ms]=!1,this[qm]=!1,this[za]=[],this.retryCount=0,this._progressCallbacks=[];let s=()=>this._unlockWrite(),i=()=>this._lockWrite();this.on("pipe",d=>{d.prependListener("data",s),d.on("data",i),d.prependListener("end",s),d.on("end",i)}),this.on("unpipe",d=>{d.off("data",s),d.off("data",i),d.off("end",s),d.off("end",i)}),this.on("pipe",d=>{d instanceof vv.IncomingMessage&&(this.options.headers={...d.headers,...this.options.headers})});let{json:o,body:a,form:c}=r;if((o||a||c)&&this._lockWrite(),$.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(t,r,n)}catch(d){w.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(d);return}(async()=>{var d;try{this.options.body instanceof Hte.ReadStream&&await are(this.options.body);let{url:u}=this.options;if(!u)throw new TypeError("Missing `url` property");if(this.requestUrl=u.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(d=this[Ce])===null||d===void 0||d.destroy();return}for(let f of this[za])f();this[za].length=0,this.requestInitialized=!0}catch(u){if(u instanceof me){this._beforeError(u);return}this.destroyed||this.destroy(u)}})()}static normalizeArguments(t,r,n){var s,i,o,a,c;let d=r;if(w.default.object(t)&&!w.default.urlInstance(t))r={...n,...t,...r};else{if(t&&r&&r.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");r={...n,...r},t!==void 0&&(r.url=t),w.default.urlInstance(r.url)&&(r.url=new Zr.URL(r.url.toString()))}if(r.cache===!1&&(r.cache=void 0),r.dnsCache===!1&&(r.dnsCache=void 0),w.assert.any([w.default.string,w.default.undefined],r.method),w.assert.any([w.default.object,w.default.undefined],r.headers),w.assert.any([w.default.string,w.default.urlInstance,w.default.undefined],r.prefixUrl),w.assert.any([w.default.object,w.default.undefined],r.cookieJar),w.assert.any([w.default.object,w.default.string,w.default.undefined],r.searchParams),w.assert.any([w.default.object,w.default.string,w.default.undefined],r.cache),w.assert.any([w.default.object,w.default.number,w.default.undefined],r.timeout),w.assert.any([w.default.object,w.default.undefined],r.context),w.assert.any([w.default.object,w.default.undefined],r.hooks),w.assert.any([w.default.boolean,w.default.undefined],r.decompress),w.assert.any([w.default.boolean,w.default.undefined],r.ignoreInvalidCookies),w.assert.any([w.default.boolean,w.default.undefined],r.followRedirect),w.assert.any([w.default.number,w.default.undefined],r.maxRedirects),w.assert.any([w.default.boolean,w.default.undefined],r.throwHttpErrors),w.assert.any([w.default.boolean,w.default.undefined],r.http2),w.assert.any([w.default.boolean,w.default.undefined],r.allowGetBody),w.assert.any([w.default.string,w.default.undefined],r.localAddress),w.assert.any([$N.isDnsLookupIpVersion,w.default.undefined],r.dnsLookupIpVersion),w.assert.any([w.default.object,w.default.undefined],r.https),w.assert.any([w.default.boolean,w.default.undefined],r.rejectUnauthorized),r.https&&(w.assert.any([w.default.boolean,w.default.undefined],r.https.rejectUnauthorized),w.assert.any([w.default.function_,w.default.undefined],r.https.checkServerIdentity),w.assert.any([w.default.string,w.default.object,w.default.array,w.default.undefined],r.https.certificateAuthority),w.assert.any([w.default.string,w.default.object,w.default.array,w.default.undefined],r.https.key),w.assert.any([w.default.string,w.default.object,w.default.array,w.default.undefined],r.https.certificate),w.assert.any([w.default.string,w.default.undefined],r.https.passphrase),w.assert.any([w.default.string,w.default.buffer,w.default.array,w.default.undefined],r.https.pfx)),w.assert.any([w.default.object,w.default.undefined],r.cacheOptions),w.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===n?.headers?r.headers={...r.headers}:r.headers=Jte({...n?.headers,...r.headers}),"slashes"in r)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==n?.searchParams){let m;if(w.default.string(r.searchParams)||r.searchParams instanceof Zr.URLSearchParams)m=new Zr.URLSearchParams(r.searchParams);else{ire(r.searchParams),m=new Zr.URLSearchParams;for(let _ in r.searchParams){let g=r.searchParams[_];g===null?m.append(_,""):g!==void 0&&m.append(_,g)}}(s=n?.searchParams)===null||s===void 0||s.forEach((_,g)=>{m.has(g)||m.append(g,_)}),r.searchParams=m}if(r.username=(i=r.username)!==null&&i!==void 0?i:"",r.password=(o=r.password)!==null&&o!==void 0?o:"",w.default.undefined(r.prefixUrl)?r.prefixUrl=(a=n?.prefixUrl)!==null&&a!==void 0?a:"":(r.prefixUrl=r.prefixUrl.toString(),r.prefixUrl!==""&&!r.prefixUrl.endsWith("/")&&(r.prefixUrl+="/")),w.default.string(r.url)){if(r.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");r.url=UN.default(r.prefixUrl+r.url,r)}else(w.default.undefined(r.url)&&r.prefixUrl!==""||r.protocol)&&(r.url=UN.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:m}=r;Object.defineProperty(r,"prefixUrl",{set:g=>{let y=r.url;if(!y.href.startsWith(g))throw new Error(`Cannot change \`prefixUrl\` from ${m} to ${g}: ${y.href}`);r.url=new Zr.URL(g+y.href.slice(m.length)),m=g},get:()=>m});let{protocol:_}=r.url;if(_==="unix:"&&(_="http:",r.url=new Zr.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),_!=="http:"&&_!=="https:")throw new Lm(r);r.username===""?r.username=r.url.username:r.url.username=r.username,r.password===""?r.password=r.url.password:r.url.password=r.password}let{cookieJar:u}=r;if(u){let{setCookie:m,getCookieString:_}=u;w.assert.function_(m),w.assert.function_(_),m.length===4&&_.length===0&&(m=kN.promisify(m.bind(r.cookieJar)),_=kN.promisify(_.bind(r.cookieJar)),r.cookieJar={setCookie:m,getCookieString:_})}let{cache:f}=r;if(f&&(Pv.has(f)||Pv.set(f,new LN((m,_)=>{let g=m[Ce](m,_);return w.default.promise(g)&&(g.once=(y,P)=>{if(y==="error")g.catch(P);else if(y==="abort")(async()=>{try{(await g).once("abort",P)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${y}`);return g}),g},f))),r.cacheOptions={...r.cacheOptions},r.dnsCache===!0)Ev||(Ev=new Vte.default),r.dnsCache=Ev;else if(!w.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${w.default(r.dnsCache)}`);w.default.number(r.timeout)?r.timeout={request:r.timeout}:n&&r.timeout!==n.timeout?r.timeout={...n.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let p=r.hooks===n?.hooks;r.hooks={...r.hooks};for(let m of $.knownHookEvents)if(m in r.hooks)if(w.default.array(r.hooks[m]))r.hooks[m]=[...r.hooks[m]];else throw new TypeError(`Parameter \`${m}\` must be an Array, got ${w.default(r.hooks[m])}`);else r.hooks[m]=[];if(n&&!p)for(let m of $.knownHookEvents)n.hooks[m].length>0&&(r.hooks[m]=[...n.hooks[m],...r.hooks[m]]);if("family"in r&&en.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),n?.https&&(r.https={...n.https,...r.https}),"rejectUnauthorized"in r&&en.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&en.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&en.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&en.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&en.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&en.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&en.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent){for(let m in r.agent)if(m!=="http"&&m!=="https"&&m!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${m}\``)}return r.maxRedirects=(c=r.maxRedirects)!==null&&c!==void 0?c:0,$.setNonEnumerableProperties([n,d],r),rre.default(r,n)}_lockWrite(){let t=()=>{throw new TypeError("The payload has been already provided")};this.write=t,this.end=t}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:t}=this,{headers:r}=t,n=!w.default.undefined(t.form),s=!w.default.undefined(t.json),i=!w.default.undefined(t.body),o=n||s||i,a=$.withoutBody.has(t.method)&&!(t.method==="GET"&&t.allowGetBody);if(this._cannotHaveBody=a,o){if(a)throw new TypeError(`The \`${t.method}\` method cannot be used with a body`);if([i,n,s].filter(c=>c).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(i&&!(t.body instanceof DN.Readable)&&!w.default.string(t.body)&&!w.default.buffer(t.body)&&!zN.default(t.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(n&&!w.default.object(t.form))throw new TypeError("The `form` option must be an Object");{let c=!w.default.string(r["content-type"]);i?(zN.default(t.body)&&c&&(r["content-type"]=`multipart/form-data; boundary=${t.body.getBoundary()}`),this[tn]=t.body):n?(c&&(r["content-type"]="application/x-www-form-urlencoded"),this[tn]=new Zr.URLSearchParams(t.form).toString()):(c&&(r["content-type"]="application/json"),this[tn]=t.stringifyJson(t.json));let d=await Yte.default(this[tn],t.headers);w.default.undefined(r["content-length"])&&w.default.undefined(r["transfer-encoding"])&&!a&&!w.default.undefined(d)&&(r["content-length"]=String(d))}}else a?this._lockWrite():this._unlockWrite();this[Os]=Number(r["content-length"])||void 0}async _onResponseBase(t){let{options:r}=this,{url:n}=r;this[VN]=t,r.decompress&&(t=Wte(t));let s=t.statusCode,i=t;i.statusMessage=i.statusMessage?i.statusMessage:jN.STATUS_CODES[s],i.url=r.url.toString(),i.requestUrl=this.requestUrl,i.redirectUrls=this.redirects,i.request=this,i.isFromCache=t.fromCache||!1,i.ip=this.ip,i.retryCount=this.retryCount,this[GN]=i.isFromCache,this[xs]=Number(t.headers["content-length"])||void 0,this[Om]=t,t.once("end",()=>{this[xs]=this[qs],this.emit("downloadProgress",this.downloadProgress)}),t.once("error",a=>{t.destroy(),this._beforeError(new Fa(a,this))}),t.once("aborted",()=>{this._beforeError(new Fa({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=t.headers["set-cookie"];if(w.default.object(r.cookieJar)&&o){let a=o.map(async c=>r.cookieJar.setCookie(c,n.toString()));r.ignoreInvalidCookies&&(a=a.map(async c=>c.catch(()=>{})));try{await Promise.all(a)}catch(c){this._beforeError(c);return}}if(r.followRedirect&&t.headers.location&&cre.has(s)){if(t.resume(),this[Ce]&&(this[Sv](),delete this[Ce],this[HN]()),(s===303&&r.method!=="GET"&&r.method!=="HEAD"||!r.methodRewriting)&&(r.method="GET","body"in r&&delete r.body,"json"in r&&delete r.json,"form"in r&&delete r.form,this[tn]=void 0,delete r.headers["content-length"]),this.redirects.length>=r.maxRedirects){this._beforeError(new Nm(this));return}try{let f=function(p){return p.protocol==="unix:"||p.hostname==="unix"},c=Buffer.from(t.headers.location,"binary").toString(),d=new Zr.URL(c,n),u=d.toString();if(decodeURI(u),!f(n)&&f(d)){this._beforeError(new me("Cannot redirect to UNIX socket",{},this));return}d.hostname!==n.hostname||d.port!==n.port?("host"in r.headers&&delete r.headers.host,"cookie"in r.headers&&delete r.headers.cookie,"authorization"in r.headers&&delete r.headers.authorization,(r.username||r.password)&&(r.username="",r.password="")):(d.username=r.username,d.password=r.password),this.redirects.push(u),r.url=d;for(let p of r.hooks.beforeRedirect)await p(r,i);this.emit("redirect",i,r),await this._makeRequest()}catch(c){this._beforeError(c);return}return}if(r.isStream&&r.throwHttpErrors&&!tre.isResponseOk(i)){this._beforeError(new Mm(i));return}t.on("readable",()=>{this[qm]&&this._read()}),this.on("resume",()=>{t.resume()}),this.on("pause",()=>{t.pause()}),t.once("end",()=>{this.push(null)}),this.emit("response",t);for(let a of this[xm])if(!a.headersSent){for(let c in t.headers){let d=r.decompress?c!=="content-encoding":!0,u=t.headers[c];d&&a.setHeader(c,u)}a.statusCode=s}}async _onResponse(t){try{await this._onResponseBase(t)}catch(r){this._beforeError(r)}}_onRequest(t){let{options:r}=this,{timeout:n,url:s}=r;Bte.default(t),this[Sv]=FN.default(t,n,s);let i=r.cache?"cacheableResponse":"response";t.once(i,c=>{this._onResponse(c)}),t.once("error",c=>{var d;t.destroy(),(d=t.res)===null||d===void 0||d.removeAllListeners("end"),c=c instanceof FN.TimeoutError?new jm(c,this.timings,this):new me(c.message,c,this),this._beforeError(c)}),this[HN]=Xte.default(t,this,lre),this[Ce]=t,this.emit("uploadProgress",this.uploadProgress);let o=this[tn],a=this.redirects.length===0?this:t;w.default.nodeStream(o)?(o.pipe(a),o.once("error",c=>{this._beforeError(new Dm(c,this))})):(this._unlockWrite(),w.default.undefined(o)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(o,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",t)}async _createCacheableRequest(t,r){return new Promise((n,s)=>{Object.assign(r,Qte.default(t)),delete r.url;let i,o=Pv.get(r.cache)(r,async a=>{a._readableState.autoDestroy=!1,i&&(await i).emit("cacheableResponse",a),n(a)});r.url=t,o.once("error",s),o.once("request",async a=>{i=a,n(i)})})}async _makeRequest(){var t,r,n,s,i;let{options:o}=this,{headers:a}=o;for(let P in a)if(w.default.undefined(a[P]))delete a[P];else if(w.default.null_(a[P]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${P}\` header`);if(o.decompress&&w.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=sre?"gzip, deflate, br":"gzip, deflate"),o.cookieJar){let P=await o.cookieJar.getCookieString(o.url.toString());w.default.nonEmptyString(P)&&(o.headers.cookie=P)}for(let P of o.hooks.beforeRequest){let N=await P(o);if(!w.default.undefined(N)){o.request=()=>N;break}}o.body&&this[tn]!==o.body&&(this[tn]=o.body);let{agent:c,request:d,timeout:u,url:f}=o;if(o.dnsCache&&!("lookup"in o)&&(o.lookup=o.dnsCache.lookup),f.hostname==="unix"){let P=/(?<socketPath>.+?):(?<path>.+)/.exec(`${f.pathname}${f.search}`);if(P?.groups){let{socketPath:N,path:M}=P.groups;Object.assign(o,{socketPath:N,path:M,host:""})}}let p=f.protocol==="https:",m;o.http2?m=Kte.auto:m=p?Gte.request:jN.request;let _=(t=o.request)!==null&&t!==void 0?t:m,g=o.cache?this._createCacheableRequest:_;c&&!o.http2&&(o.agent=c[p?"https":"http"]),o[Ce]=_,delete o.request,delete o.timeout;let y=o;if(y.shared=(r=o.cacheOptions)===null||r===void 0?void 0:r.shared,y.cacheHeuristic=(n=o.cacheOptions)===null||n===void 0?void 0:n.cacheHeuristic,y.immutableMinTimeToLive=(s=o.cacheOptions)===null||s===void 0?void 0:s.immutableMinTimeToLive,y.ignoreCargoCult=(i=o.cacheOptions)===null||i===void 0?void 0:i.ignoreCargoCult,o.dnsLookupIpVersion!==void 0)try{y.family=$N.dnsLookupIpVersionToFamily(o.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}o.https&&("rejectUnauthorized"in o.https&&(y.rejectUnauthorized=o.https.rejectUnauthorized),o.https.checkServerIdentity&&(y.checkServerIdentity=o.https.checkServerIdentity),o.https.certificateAuthority&&(y.ca=o.https.certificateAuthority),o.https.certificate&&(y.cert=o.https.certificate),o.https.key&&(y.key=o.https.key),o.https.passphrase&&(y.passphrase=o.https.passphrase),o.https.pfx&&(y.pfx=o.https.pfx));try{let P=await g(f,y);w.default.undefined(P)&&(P=m(f,y)),o.request=d,o.timeout=u,o.agent=c,o.https&&("rejectUnauthorized"in o.https&&delete y.rejectUnauthorized,o.https.checkServerIdentity&&delete y.checkServerIdentity,o.https.certificateAuthority&&delete y.ca,o.https.certificate&&delete y.cert,o.https.key&&delete y.key,o.https.passphrase&&delete y.passphrase,o.https.pfx&&delete y.pfx),ore(P)?this._onRequest(P):this.writable?(this.once("finish",()=>{this._onResponse(P)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(P)}catch(P){throw P instanceof LN.CacheError?new km(P,this):new me(P.message,P,this)}}async _error(t){try{for(let r of this.options.hooks.beforeError)t=await r(t)}catch(r){t=new me(r.message,r,this)}this.destroy(t)}_beforeError(t){if(this[Ms])return;let{options:r}=this,n=this.retryCount+1;this[Ms]=!0,t instanceof me||(t=new me(t.message,t,this));let s=t,{response:i}=s;(async()=>{if(i&&!i.body){i.setEncoding(this._readableState.encoding);try{i.rawBody=await ere.default(i),i.body=i.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let o;try{let a;i&&"retry-after"in i.headers&&(a=Number(i.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(i.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),o=await r.retry.calculateDelay({attemptCount:n,retryOptions:r.retry,error:s,retryAfter:a,computedValue:nre.default({attemptCount:n,retryOptions:r.retry,error:s,retryAfter:a,computedValue:0})})}catch(a){this._error(new me(a.message,a,this));return}if(o){let a=async()=>{try{for(let c of this.options.hooks.beforeRetry)await c(this.options,s,n)}catch(c){this._error(new me(c.message,t,this));return}this.destroyed||(this.destroy(),this.emit("retry",n,t))};this[WN]=setTimeout(a,o);return}}this._error(s)})()}_read(){this[qm]=!0;let t=this[Om];if(t&&!this[Ms]){t.readableLength&&(this[qm]=!1);let r;for(;(r=t.read())!==null;){this[qs]+=r.length,this[BN]=!0;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(t,r,n){let s=()=>{this._writeRequest(t,r,n)};this.requestInitialized?s():this[za].push(s)}_writeRequest(t,r,n){this[Ce].destroyed||(this._progressCallbacks.push(()=>{this[Ns]+=Buffer.byteLength(t,r);let s=this.uploadProgress;s.percent<1&&this.emit("uploadProgress",s)}),this[Ce].write(t,r,s=>{!s&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),n(s)}))}_final(t){let r=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(Ce in this)){t();return}if(this[Ce].destroyed){t();return}this[Ce].end(n=>{n||(this[Os]=this[Ns],this.emit("uploadProgress",this.uploadProgress),this[Ce].emit("upload-complete")),t(n)})};this.requestInitialized?r():this[za].push(r)}_destroy(t,r){var n;this[Ms]=!0,clearTimeout(this[WN]),Ce in this&&(this[Sv](),!((n=this[Om])===null||n===void 0)&&n.complete||this[Ce].destroy()),t!==null&&!w.default.undefined(t)&&!(t instanceof me)&&(t=new me(t.message,t,this)),r(t)}get _isAboutToError(){return this[Ms]}get ip(){var t;return(t=this.socket)===null||t===void 0?void 0:t.remoteAddress}get aborted(){var t,r,n;return((r=(t=this[Ce])===null||t===void 0?void 0:t.destroyed)!==null&&r!==void 0?r:this.destroyed)&&!(!((n=this[VN])===null||n===void 0)&&n.complete)}get socket(){var t,r;return(r=(t=this[Ce])===null||t===void 0?void 0:t.socket)!==null&&r!==void 0?r:void 0}get downloadProgress(){let t;return this[xs]?t=this[qs]/this[xs]:this[xs]===this[qs]?t=1:t=0,{percent:t,transferred:this[qs],total:this[xs]}}get uploadProgress(){let t;return this[Os]?t=this[Ns]/this[Os]:this[Os]===this[Ns]?t=1:t=0,{percent:t,transferred:this[Ns],total:this[Os]}}get timings(){var t;return(t=this[Ce])===null||t===void 0?void 0:t.timings}get isFromCache(){return this[GN]}pipe(t,r){if(this[BN])throw new Error("Failed to pipe. The response has been emitted already.");return t instanceof vv.ServerResponse&&this[xm].add(t),super.pipe(t,r)}unpipe(t){return t instanceof vv.ServerResponse&&this[xm].delete(t),super.unpipe(t),this}};$.default=zm});var $a=l(bt=>{"use strict";var ure=bt&&bt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fre=bt&&bt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ure(t,e,r)};Object.defineProperty(bt,"__esModule",{value:!0});bt.CancelError=bt.ParseError=void 0;var KN=Ua(),Iv=class extends KN.RequestError{constructor(t,r){let{options:n}=r.request;super(`${t.message} in "${n.url.toString()}"`,t,r.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};bt.ParseError=Iv;var bv=class extends KN.RequestError{constructor(t){super("Promise was canceled",{},t),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};bt.CancelError=bv;fre(Ua(),bt)});var YN=l(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});var JN=$a(),pre=(e,t,r,n)=>{let{rawBody:s}=e;try{if(t==="text")return s.toString(n);if(t==="json")return s.length===0?"":r(s.toString());if(t==="buffer")return s;throw new JN.ParseError({message:`Unknown body type '${t}'`,name:"Error"},e)}catch(i){throw new JN.ParseError(i,e)}};Av.default=pre});var Rv=l(rn=>{"use strict";var mre=rn&&rn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hre=rn&&rn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mre(t,e,r)};Object.defineProperty(rn,"__esModule",{value:!0});var _re=require("events"),yre=Ar(),gre=Kq(),Fm=$a(),XN=YN(),QN=Ua(),wre=dv(),vre=_v(),ZN=yv(),Ere=["request","response","redirect","uploadProgress","downloadProgress"];function eM(e){let t,r,n=new _re.EventEmitter,s=new gre((o,a,c)=>{let d=u=>{let f=new QN.default(void 0,e);f.retryCount=u,f._noPipe=!0,c(()=>f.destroy()),c.shouldReject=!1,c(()=>a(new Fm.CancelError(f))),t=f,f.once("response",async _=>{var g;if(_.retryCount=u,_.request.aborted)return;let y;try{y=await vre.default(f),_.rawBody=y}catch{return}if(f._isAboutToError)return;let P=((g=_.headers["content-encoding"])!==null&&g!==void 0?g:"").toLowerCase(),N=["gzip","deflate","br"].includes(P),{options:M}=f;if(N&&!M.decompress)_.body=y;else try{_.body=XN.default(_,M.responseType,M.parseJson,M.encoding)}catch(he){if(_.body=y.toString(),ZN.isResponseOk(_)){f._beforeError(he);return}}try{for(let[he,rr]of M.hooks.afterResponse.entries())_=await rr(_,async Ne=>{let nr=QN.default.normalizeArguments(void 0,{...Ne,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},M);nr.hooks.afterResponse=nr.hooks.afterResponse.slice(0,he);for(let Gm of nr.hooks.beforeRetry)await Gm(nr);let sn=eM(nr);return c(()=>{sn.catch(()=>{}),sn.cancel()}),sn})}catch(he){f._beforeError(new Fm.RequestError(he.message,he,f));return}if(r=_,!ZN.isResponseOk(_)){f._beforeError(new Fm.HTTPError(_));return}f.destroy(),o(f.options.resolveBodyOnly?_.body:_)});let p=_=>{if(s.isCanceled)return;let{options:g}=f;if(_ instanceof Fm.HTTPError&&!g.throwHttpErrors){let{response:y}=_;o(f.options.resolveBodyOnly?y.body:y);return}a(_)};f.once("error",p);let m=f.options.body;f.once("retry",(_,g)=>{var y,P;if(m===((y=g.request)===null||y===void 0?void 0:y.options.body)&&yre.default.nodeStream((P=g.request)===null||P===void 0?void 0:P.options.body)){p(g);return}d(_)}),wre.default(f,n,Ere)};d(0)});s.on=(o,a)=>(n.on(o,a),s);let i=o=>{let a=(async()=>{await s;let{options:c}=r.request;return XN.default(r,o,c.parseJson,c.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)),a};return s.json=()=>{let{headers:o}=t.options;return!t.writableFinished&&o.accept===void 0&&(o.accept="application/json"),i("json")},s.buffer=()=>i("buffer"),s.text=()=>i("text"),s}rn.default=eM;hre($a(),rn)});var tM=l(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});var Sre=$a();function Pre(e,...t){let r=(async()=>{if(e instanceof Sre.RequestError)try{for(let s of t)if(s)for(let i of s)e=await i(e)}catch(s){e=s}throw e})(),n=()=>r;return r.json=n,r.text=n,r.buffer=n,r.on=n,r}Cv.default=Pre});var sM=l(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});var rM=Ar();function nM(e){for(let t of Object.values(e))(rM.default.plainObject(t)||rM.default.array(t))&&nM(t);return Object.freeze(e)}Tv.default=nM});var oM=l(iM=>{"use strict";Object.defineProperty(iM,"__esModule",{value:!0})});var xv=l(gt=>{"use strict";var Ire=gt&&gt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bre=gt&&gt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ire(t,e,r)};Object.defineProperty(gt,"__esModule",{value:!0});gt.defaultHandler=void 0;var aM=Ar(),yt=Rv(),Are=tM(),$m=Ua(),Rre=sM(),Cre={RequestError:yt.RequestError,CacheError:yt.CacheError,ReadError:yt.ReadError,HTTPError:yt.HTTPError,MaxRedirectsError:yt.MaxRedirectsError,TimeoutError:yt.TimeoutError,ParseError:yt.ParseError,CancelError:yt.CancelError,UnsupportedProtocolError:yt.UnsupportedProtocolError,UploadError:yt.UploadError},Tre=async e=>new Promise(t=>{setTimeout(t,e)}),{normalizeArguments:Um}=$m.default,cM=(...e)=>{let t;for(let r of e)t=Um(void 0,r,t);return t},xre=e=>e.isStream?new $m.default(void 0,e):yt.default(e),qre=e=>"defaults"in e&&"options"in e.defaults,Ore=["get","post","put","patch","head","delete"];gt.defaultHandler=(e,t)=>t(e);var dM=(e,t)=>{if(e)for(let r of e)r(t)},lM=e=>{e._rawHandlers=e.handlers,e.handlers=e.handlers.map(n=>(s,i)=>{let o,a=n(s,c=>(o=i(c),o));if(a!==o&&!s.isStream&&o){let c=a,{then:d,catch:u,finally:f}=c;Object.setPrototypeOf(c,Object.getPrototypeOf(o)),Object.defineProperties(c,Object.getOwnPropertyDescriptors(o)),c.then=d,c.catch=u,c.finally=f}return a});let t=(n,s={},i)=>{var o,a;let c=0,d=u=>e.handlers[c++](u,c===e.handlers.length?xre:d);if(aM.default.plainObject(n)){let u={...n,...s};$m.setNonEnumerableProperties([n,s],u),s=u,n=void 0}try{let u;try{dM(e.options.hooks.init,s),dM((o=s.hooks)===null||o===void 0?void 0:o.init,s)}catch(p){u=p}let f=Um(n,s,i??e.options);if(f[$m.kIsNormalizedAlready]=!0,u)throw new yt.RequestError(u.message,u,f);return d(f)}catch(u){if(s.isStream)throw u;return Are.default(u,e.options.hooks.beforeError,(a=s.hooks)===null||a===void 0?void 0:a.beforeError)}};t.extend=(...n)=>{let s=[e.options],i=[...e._rawHandlers],o;for(let a of n)qre(a)?(s.push(a.defaults.options),i.push(...a.defaults._rawHandlers),o=a.defaults.mutableDefaults):(s.push(a),"handlers"in a&&i.push(...a.handlers),o=a.mutableDefaults);return i=i.filter(a=>a!==gt.defaultHandler),i.length===0&&i.push(gt.defaultHandler),lM({options:cM(...s),handlers:i,mutableDefaults:Boolean(o)})};let r=async function*(n,s){let i=Um(n,s,e.options);i.resolveBodyOnly=!1;let o=i.pagination;if(!aM.default.object(o))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:c}=o,d=0;for(;d<o.requestLimit;){d!==0&&await Tre(o.backoff);let u=await t(void 0,void 0,i),f=await o.transform(u),p=[];for(let _ of f)if(o.filter(_,a,p)&&(!o.shouldContinue(_,a,p)||(yield _,o.stackAllItems&&a.push(_),p.push(_),--c<=0)))return;let m=o.paginate(u,a,p);if(m===!1)return;m===u.request.options?i=u.request.options:m!==void 0&&(i=Um(void 0,m,i)),d++}};t.paginate=r,t.paginate.all=async(n,s)=>{let i=[];for await(let o of r(n,s))i.push(o);return i},t.paginate.each=r,t.stream=(n,s)=>t(n,{...s,isStream:!0});for(let n of Ore)t[n]=(s,i)=>t(s,{...i,method:n}),t.stream[n]=(s,i)=>t(s,{...i,method:n,isStream:!0});return Object.assign(t,Cre),Object.defineProperty(t,"defaults",{value:e.mutableDefaults?e:Rre.default(e),writable:e.mutableDefaults,configurable:e.mutableDefaults,enumerable:!0}),t.mergeOptions=cM,t};gt.default=lM;bre(oM(),gt)});var pM=l((Rr,Hm)=>{"use strict";var Nre=Rr&&Rr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uM=Rr&&Rr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Nre(t,e,r)};Object.defineProperty(Rr,"__esModule",{value:!0});var Mre=require("url"),fM=xv(),kre={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:e=>e.request.options.responseType==="json"?e.body:JSON.parse(e.body),paginate:e=>{if(!Reflect.has(e.headers,"link"))return!1;let t=e.headers.link.split(","),r;for(let n of t){let s=n.split(";");if(s[1].includes("next")){r=s[0].trimStart().trim(),r=r.slice(1,-1);break}}return r?{url:new Mre.URL(r)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:e=>JSON.parse(e),stringifyJson:e=>JSON.stringify(e),cacheOptions:{}},handlers:[fM.defaultHandler],mutableDefaults:!1},qv=fM.default(kre);Rr.default=qv;Hm.exports=qv;Hm.exports.default=qv;Hm.exports.__esModule=!0;uM(xv(),Rr);uM(Rv(),Rr)});var nn=ks(ch());var mM=ks(Dh()),hM=ks(KS()),_M=require("node:url"),yM=ks(Hq()),gM=ks(pM());function Dre(e,t){return new mM.SignatureV4({service:"lambda",region:e,credentials:t,sha256:hM.Sha256})}async function jre(e,t){return await e.sign({method:"POST",hostname:t.host,path:t.pathname,protocol:t.protocol,headers:{"Content-Type":"application/json",host:t.hostname}})}async function wM(e,t=(0,yM.fromEnv)(),r=process.env.AWS_REGION){if(!r)throw Error("AWS_REGION must be supplied");let n=Dre(r,t),s=await jre(n,new _M.URL(e)),{method:i,...o}=s,a=(0,gM.default)(e,{...o,method:"POST",responseType:"json"}),c=a.json(),[d,u]=await Promise.all([a,c]);return{response:d,data:u}}function vM(e){return Object.prototype.toString.call(e)==="[object Error]"&&e.name==="HTTPError"}async function Lre(){let e=process.env.CI?(0,nn.getInput)("url",{required:!0,trimWhitespace:!0}):process.env.LAMBDA_URL;if(!e)throw Error("Lambda function url must be supplied");try{let t=await wM(e);(0,nn.debug)(`Got token with following permissions: ,
     ${JSON.stringify({permissions:t.data.permissions,repositories:t.data.repositories})}
    `),(0,nn.setOutput)("access-token",t.data.token)}catch(t){if(vM(t)){let r={message:t.message,code:t.code,body:t.response?.body},n=`[HTTPError] Error invoking lambda endpoint: ${JSON.stringify(r,null,1)}`;(0,nn.setFailed)(n)}else throw t}}Lre();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
