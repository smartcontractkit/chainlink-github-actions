"use strict";var FT=Object.create;var Wy=Object.defineProperty;var zT=Object.getOwnPropertyDescriptor;var UT=Object.getOwnPropertyNames;var $T=Object.getPrototypeOf,HT=Object.prototype.hasOwnProperty;var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var GT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of UT(t))!HT.call(e,s)&&s!==r&&Wy(e,s,{get:()=>t[s],enumerable:!(n=zT(t,s))||n.enumerable});return e};var Fn=(e,t,r)=>(r=e!=null?FT($T(e)):{},GT(t||!e||!e.__esModule?Wy(r,"default",{value:e,enumerable:!0}):r,e));var eo=l($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.toCommandProperties=$r.toCommandValue=void 0;function BT(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}$r.toCommandValue=BT;function VT(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}$r.toCommandProperties=VT});var Xy=l(Le=>{"use strict";var WT=Le&&Le.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KT=Le&&Le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),JT=Le&&Le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&WT(t,e,r);return KT(t,e),t};Object.defineProperty(Le,"__esModule",{value:!0});Le.issue=Le.issueCommand=void 0;var YT=JT(require("os")),Jy=eo();function Yy(e,t,r){let n=new zf(e,t,r);process.stdout.write(n.toString()+YT.EOL)}Le.issueCommand=Yy;function XT(e,t=""){Yy(e,{},t)}Le.issue=XT;var Ky="::",zf=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=Ky+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let s=this.properties[n];s&&(r?r=!1:t+=",",t+=`${n}=${ZT(s)}`)}}return t+=`${Ky}${QT(this.message)}`,t}};function QT(e){return Jy.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function ZT(e){return Jy.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var $f=l(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.default=rx;var ex=tx(require("crypto"));function tx(e){return e&&e.__esModule?e:{default:e}}var ro=new Uint8Array(256),to=ro.length;function rx(){return to>ro.length-16&&(ex.default.randomFillSync(ro),to=0),ro.slice(to,to+=16)}});var Qy=l(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.default=void 0;var nx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;no.default=nx});var zn=l(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.default=void 0;var sx=ix(Qy());function ix(e){return e&&e.__esModule?e:{default:e}}function ox(e){return typeof e=="string"&&sx.default.test(e)}var ax=ox;so.default=ax});var Un=l(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.default=void 0;var cx=dx(zn());function dx(e){return e&&e.__esModule?e:{default:e}}var ye=[];for(let e=0;e<256;++e)ye.push((e+256).toString(16).substr(1));function lx(e,t=0){let r=(ye[e[t+0]]+ye[e[t+1]]+ye[e[t+2]]+ye[e[t+3]]+"-"+ye[e[t+4]]+ye[e[t+5]]+"-"+ye[e[t+6]]+ye[e[t+7]]+"-"+ye[e[t+8]]+ye[e[t+9]]+"-"+ye[e[t+10]]+ye[e[t+11]]+ye[e[t+12]]+ye[e[t+13]]+ye[e[t+14]]+ye[e[t+15]]).toLowerCase();if(!(0,cx.default)(r))throw TypeError("Stringified UUID is invalid");return r}var ux=lx;io.default=ux});var tg=l(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.default=void 0;var fx=eg($f()),px=eg(Un());function eg(e){return e&&e.__esModule?e:{default:e}}var Zy,Hf,Gf=0,Bf=0;function mx(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let i=e.node||Zy,o=e.clockseq!==void 0?e.clockseq:Hf;if(i==null||o==null){let f=e.random||(e.rng||fx.default)();i==null&&(i=Zy=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=Hf=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Bf+1,d=a-Gf+(c-Bf)/1e4;if(d<0&&e.clockseq===void 0&&(o=o+1&16383),(d<0||a>Gf)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Gf=a,Bf=c,Hf=o,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;s[n++]=u>>>24&255,s[n++]=u>>>16&255,s[n++]=u>>>8&255,s[n++]=u&255;let p=a/4294967296*1e4&268435455;s[n++]=p>>>8&255,s[n++]=p&255,s[n++]=p>>>24&15|16,s[n++]=p>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(let f=0;f<6;++f)s[n+f]=i[f];return t||(0,px.default)(s)}var hx=mx;oo.default=hx});var Vf=l(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.default=void 0;var _x=yx(zn());function yx(e){return e&&e.__esModule?e:{default:e}}function gx(e){if(!(0,_x.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var wx=gx;ao.default=wx});var Wf=l(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.default=bx;wr.URL=wr.DNS=void 0;var vx=rg(Un()),Ex=rg(Vf());function rg(e){return e&&e.__esModule?e:{default:e}}function Sx(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var ng="6ba7b810-9dad-11d1-80b4-00c04fd430c8";wr.DNS=ng;var sg="6ba7b811-9dad-11d1-80b4-00c04fd430c8";wr.URL=sg;function bx(e,t,r){function n(s,i,o,a){if(typeof s=="string"&&(s=Sx(s)),typeof i=="string"&&(i=(0,Ex.default)(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(let d=0;d<16;++d)o[a+d]=c[d];return o}return(0,vx.default)(c)}try{n.name=e}catch{}return n.DNS=ng,n.URL=sg,n}});var ig=l(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.default=void 0;var Px=Ix(require("crypto"));function Ix(e){return e&&e.__esModule?e:{default:e}}function Ax(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Px.default.createHash("md5").update(e).digest()}var Rx=Ax;co.default=Rx});var ag=l(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.default=void 0;var Cx=og(Wf()),Tx=og(ig());function og(e){return e&&e.__esModule?e:{default:e}}var xx=(0,Cx.default)("v3",48,Tx.default),qx=xx;lo.default=qx});var dg=l(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.default=void 0;var Ox=cg($f()),Nx=cg(Un());function cg(e){return e&&e.__esModule?e:{default:e}}function Mx(e,t,r){e=e||{};let n=e.random||(e.rng||Ox.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return(0,Nx.default)(n)}var kx=Mx;uo.default=kx});var lg=l(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.default=void 0;var jx=Dx(require("crypto"));function Dx(e){return e&&e.__esModule?e:{default:e}}function Lx(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),jx.default.createHash("sha1").update(e).digest()}var Fx=Lx;fo.default=Fx});var fg=l(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.default=void 0;var zx=ug(Wf()),Ux=ug(lg());function ug(e){return e&&e.__esModule?e:{default:e}}var $x=(0,zx.default)("v5",80,Ux.default),Hx=$x;po.default=Hx});var pg=l(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.default=void 0;var Gx="00000000-0000-0000-0000-000000000000";mo.default=Gx});var mg=l(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.default=void 0;var Bx=Vx(zn());function Vx(e){return e&&e.__esModule?e:{default:e}}function Wx(e){if(!(0,Bx.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Kx=Wx;ho.default=Kx});var Kf=l(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});Object.defineProperty(tt,"v1",{enumerable:!0,get:function(){return Jx.default}});Object.defineProperty(tt,"v3",{enumerable:!0,get:function(){return Yx.default}});Object.defineProperty(tt,"v4",{enumerable:!0,get:function(){return Xx.default}});Object.defineProperty(tt,"v5",{enumerable:!0,get:function(){return Qx.default}});Object.defineProperty(tt,"NIL",{enumerable:!0,get:function(){return Zx.default}});Object.defineProperty(tt,"version",{enumerable:!0,get:function(){return eq.default}});Object.defineProperty(tt,"validate",{enumerable:!0,get:function(){return tq.default}});Object.defineProperty(tt,"stringify",{enumerable:!0,get:function(){return rq.default}});Object.defineProperty(tt,"parse",{enumerable:!0,get:function(){return nq.default}});var Jx=Nt(tg()),Yx=Nt(ag()),Xx=Nt(dg()),Qx=Nt(fg()),Zx=Nt(pg()),eq=Nt(mg()),tq=Nt(zn()),rq=Nt(Un()),nq=Nt(Vf());function Nt(e){return e&&e.__esModule?e:{default:e}}});var gg=l(Fe=>{"use strict";var sq=Fe&&Fe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iq=Fe&&Fe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_g=Fe&&Fe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&sq(t,e,r);return iq(t,e),t};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.prepareKeyValueMessage=Fe.issueFileCommand=void 0;var hg=_g(require("fs")),Jf=_g(require("os")),oq=Kf(),yg=eo();function aq(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!hg.existsSync(r))throw new Error(`Missing file at path: ${r}`);hg.appendFileSync(r,`${yg.toCommandValue(t)}${Jf.EOL}`,{encoding:"utf8"})}Fe.issueFileCommand=aq;function cq(e,t){let r=`ghadelimiter_${oq.v4()}`,n=yg.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${Jf.EOL}${n}${Jf.EOL}${r}`}Fe.prepareKeyValueMessage=cq});var vg=l(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.checkBypass=Hr.getProxyUrl=void 0;function dq(e){let t=e.protocol==="https:";if(wg(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Hr.getProxyUrl=dq;function wg(e){if(!e.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let n=[e.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let s of t.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(n.some(i=>i===s))return!0;return!1}Hr.checkBypass=wg});var Pg=l(Gr=>{"use strict";var tX=require("net"),lq=require("tls"),Yf=require("http"),Eg=require("https"),uq=require("events"),rX=require("assert"),fq=require("util");Gr.httpOverHttp=pq;Gr.httpsOverHttp=mq;Gr.httpOverHttps=hq;Gr.httpsOverHttps=_q;function pq(e){var t=new Mt(e);return t.request=Yf.request,t}function mq(e){var t=new Mt(e);return t.request=Yf.request,t.createSocket=Sg,t.defaultPort=443,t}function hq(e){var t=new Mt(e);return t.request=Eg.request,t}function _q(e){var t=new Mt(e);return t.request=Eg.request,t.createSocket=Sg,t.defaultPort=443,t}function Mt(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||Yf.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,s,i,o){for(var a=bg(s,i,o),c=0,d=t.requests.length;c<d;++c){var u=t.requests[c];if(u.host===a.host&&u.port===a.port){t.requests.splice(c,1),u.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}fq.inherits(Mt,uq.EventEmitter);Mt.prototype.addRequest=function(t,r,n,s){var i=this,o=Xf({request:t},i.options,bg(r,n,s));if(i.sockets.length>=this.maxSockets){i.requests.push(o);return}i.createSocket(o,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),t.onSocket(a);function c(){i.emit("free",a,o)}function d(u){i.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};Mt.prototype.createSocket=function(t,r){var n=this,s={};n.sockets.push(s);var i=Xf({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(i.localAddress=t.localAddress),i.proxyAuth&&(i.headers=i.headers||{},i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")),Wt("making CONNECT request");var o=n.request(i);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",c),o.once("connect",d),o.once("error",u),o.end();function a(p){p.upgrade=!0}function c(p,f,h){process.nextTick(function(){d(p,f,h)})}function d(p,f,h){if(o.removeAllListeners(),f.removeAllListeners(),p.statusCode!==200){Wt("tunneling socket could not be established, statusCode=%d",p.statusCode),f.destroy();var _=new Error("tunneling socket could not be established, statusCode="+p.statusCode);_.code="ECONNRESET",t.request.emit("error",_),n.removeSocket(s);return}if(h.length>0){Wt("got illegal response body from proxy"),f.destroy();var _=new Error("got illegal response body from proxy");_.code="ECONNRESET",t.request.emit("error",_),n.removeSocket(s);return}return Wt("tunneling connection has established"),n.sockets[n.sockets.indexOf(s)]=f,r(f)}function u(p){o.removeAllListeners(),Wt(`tunneling socket could not be established, cause=%s
`,p.message,p.stack);var f=new Error("tunneling socket could not be established, cause="+p.message);f.code="ECONNRESET",t.request.emit("error",f),n.removeSocket(s)}};Mt.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(s){n.request.onSocket(s)})}};function Sg(e,t){var r=this;Mt.prototype.createSocket.call(r,e,function(n){var s=e.request.getHeader("host"),i=Xf({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):e.host}),o=lq.connect(0,i);r.sockets[r.sockets.indexOf(n)]=o,t(o)})}function bg(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function Xf(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var s=Object.keys(n),i=0,o=s.length;i<o;++i){var a=s[i];n[a]!==void 0&&(e[a]=n[a])}}return e}var Wt;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Wt=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Wt=function(){};Gr.debug=Wt});var Ag=l((sX,Ig)=>{Ig.exports=Pg()});var Cg=l(U=>{"use strict";var yq=U&&U.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gq=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vo=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&yq(t,e,r);return gq(t,e),t},pe=U&&U.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(p){o(p)}}function c(u){try{d(n.throw(u))}catch(p){o(p)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(U,"__esModule",{value:!0});U.HttpClient=U.isHttps=U.HttpClientResponse=U.HttpClientError=U.getProxyUrl=U.MediaTypes=U.Headers=U.HttpCodes=void 0;var _o=vo(require("http")),Qf=vo(require("https")),Rg=vo(vg()),yo=vo(Ag()),rt;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(rt=U.HttpCodes||(U.HttpCodes={}));var Pe;(function(e){e.Accept="accept",e.ContentType="content-type"})(Pe=U.Headers||(U.Headers={}));var Kt;(function(e){e.ApplicationJson="application/json"})(Kt=U.MediaTypes||(U.MediaTypes={}));function wq(e){let t=Rg.getProxyUrl(new URL(e));return t?t.href:""}U.getProxyUrl=wq;var vq=[rt.MovedPermanently,rt.ResourceMoved,rt.SeeOther,rt.TemporaryRedirect,rt.PermanentRedirect],Eq=[rt.BadGateway,rt.ServiceUnavailable,rt.GatewayTimeout],Sq=["OPTIONS","GET","DELETE","HEAD"],bq=10,Pq=5,Br=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Br.prototype)}};U.HttpClientError=Br;var wo=class{constructor(t){this.message=t}readBody(){return pe(this,void 0,void 0,function*(){return new Promise(t=>pe(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};U.HttpClientResponse=wo;function Iq(e){return new URL(e).protocol==="https:"}U.isHttps=Iq;var Zf=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return pe(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return pe(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return pe(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return pe(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return pe(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return pe(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return pe(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,s){return pe(this,void 0,void 0,function*(){return this.request(t,r,n,s)})}getJson(t,r={}){return pe(this,void 0,void 0,function*(){r[Pe.Accept]=this._getExistingOrDefaultHeader(r,Pe.Accept,Kt.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return pe(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Pe.Accept]=this._getExistingOrDefaultHeader(n,Pe.Accept,Kt.ApplicationJson),n[Pe.ContentType]=this._getExistingOrDefaultHeader(n,Pe.ContentType,Kt.ApplicationJson);let i=yield this.post(t,s,n);return this._processResponse(i,this.requestOptions)})}putJson(t,r,n={}){return pe(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Pe.Accept]=this._getExistingOrDefaultHeader(n,Pe.Accept,Kt.ApplicationJson),n[Pe.ContentType]=this._getExistingOrDefaultHeader(n,Pe.ContentType,Kt.ApplicationJson);let i=yield this.put(t,s,n);return this._processResponse(i,this.requestOptions)})}patchJson(t,r,n={}){return pe(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Pe.Accept]=this._getExistingOrDefaultHeader(n,Pe.Accept,Kt.ApplicationJson),n[Pe.ContentType]=this._getExistingOrDefaultHeader(n,Pe.ContentType,Kt.ApplicationJson);let i=yield this.patch(t,s,n);return this._processResponse(i,this.requestOptions)})}request(t,r,n,s){return pe(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let i=new URL(r),o=this._prepareRequest(t,i,s),a=this._allowRetries&&Sq.includes(t)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(o,n),d&&d.message&&d.message.statusCode===rt.Unauthorized){let p;for(let f of this.handlers)if(f.canHandleAuthentication(d)){p=f;break}return p?p.handleAuthentication(this,o,n):d}let u=this._maxRedirects;for(;d.message.statusCode&&vq.includes(d.message.statusCode)&&this._allowRedirects&&u>0;){let p=d.message.headers.location;if(!p)break;let f=new URL(p);if(i.protocol==="https:"&&i.protocol!==f.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),f.hostname!==i.hostname)for(let h in s)h.toLowerCase()==="authorization"&&delete s[h];o=this._prepareRequest(t,f,s),d=yield this.requestRaw(o,n),u--}if(!d.message.statusCode||!Eq.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return pe(this,void 0,void 0,function*(){return new Promise((n,s)=>{function i(o,a){o?s(o):a?n(a):s(new Error("Unknown error"))}this.requestRawWithCallback(t,r,i)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let s=!1;function i(c,d){s||(s=!0,n(c,d))}let o=t.httpModule.request(t.options,c=>{let d=new wo(c);i(void 0,d)}),a;o.on("socket",c=>{a=c}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),i(new Error(`Request timeout: ${t.options.path}`))}),o.on("error",function(c){i(c)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let s={};s.parsedUrl=r;let i=s.parsedUrl.protocol==="https:";s.httpModule=i?Qf:_o;let o=i?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):o,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=t,s.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(s.options);return s}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},go(this.requestOptions.headers),go(t||{})):go(t||{})}_getExistingOrDefaultHeader(t,r,n){let s;return this.requestOptions&&this.requestOptions.headers&&(s=go(this.requestOptions.headers)[r]),t[r]||s||n}_getAgent(t){let r,n=Rg.getProxyUrl(t),s=n&&n.hostname;if(this._keepAlive&&s&&(r=this._proxyAgent),this._keepAlive&&!s&&(r=this._agent),r)return r;let i=t.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||_o.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";i?c=d?yo.httpsOverHttps:yo.httpsOverHttp:c=d?yo.httpOverHttps:yo.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=i?new Qf.Agent(a):new _o.Agent(a),this._agent=r}return r||(r=i?Qf.globalAgent:_o.globalAgent),i&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return pe(this,void 0,void 0,function*(){t=Math.min(bq,t);let r=Pq*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return pe(this,void 0,void 0,function*(){return new Promise((n,s)=>pe(this,void 0,void 0,function*(){let i=t.message.statusCode||0,o={statusCode:i,result:null,headers:{}};i===rt.NotFound&&n(o);function a(u,p){if(typeof p=="string"){let f=new Date(p);if(!isNaN(f.valueOf()))return f}return p}let c,d;try{d=yield t.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),o.result=c),o.headers=t.message.headers}catch{}if(i>299){let u;c&&c.message?u=c.message:d&&d.length>0?u=d:u=`Failed request: (${i})`;let p=new Br(u,i);p.result=o.result,s(p)}else n(o)}))})}};U.HttpClient=Zf;var go=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var Tg=l(ct=>{"use strict";var np=ct&&ct.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(p){o(p)}}function c(u){try{d(n.throw(u))}catch(p){o(p)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(ct,"__esModule",{value:!0});ct.PersonalAccessTokenCredentialHandler=ct.BearerCredentialHandler=ct.BasicCredentialHandler=void 0;var ep=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return np(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ct.BasicCredentialHandler=ep;var tp=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return np(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ct.BearerCredentialHandler=tp;var rp=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return np(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ct.PersonalAccessTokenCredentialHandler=rp});var Og=l(Vr=>{"use strict";var xg=Vr&&Vr.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(p){o(p)}}function c(u){try{d(n.throw(u))}catch(p){o(p)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.OidcClient=void 0;var Aq=Cg(),Rq=Tg(),qg=sp(),Jt=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new Aq.HttpClient("actions/oidc-client",[new Rq.BearerCredentialHandler(Jt.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return xg(this,void 0,void 0,function*(){let i=(r=(yield Jt.createHttpClient().getJson(t).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!i)throw new Error("Response json body do not have ID Token field");return i})}static getIDToken(t){return xg(this,void 0,void 0,function*(){try{let r=Jt.getIDTokenUrl();if(t){let s=encodeURIComponent(t);r=`${r}&audience=${s}`}qg.debug(`ID token url is ${r}`);let n=yield Jt.getCall(r);return qg.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Vr.OidcClient=Jt});var cp=l(Re=>{"use strict";var ip=Re&&Re.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(p){o(p)}}function c(u){try{d(n.throw(u))}catch(p){o(p)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Re,"__esModule",{value:!0});Re.summary=Re.markdownSummary=Re.SUMMARY_DOCS_URL=Re.SUMMARY_ENV_VAR=void 0;var Cq=require("os"),op=require("fs"),{access:Tq,appendFile:xq,writeFile:qq}=op.promises;Re.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";Re.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var ap=class{constructor(){this._buffer=""}filePath(){return ip(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[Re.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${Re.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Tq(t,op.constants.R_OK|op.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let s=Object.entries(n).map(([i,o])=>` ${i}="${o}"`).join("");return r?`<${t}${s}>${r}</${t}>`:`<${t}${s}>`}write(t){return ip(this,void 0,void 0,function*(){let r=!!t?.overwrite,n=yield this.filePath();return yield(r?qq:xq)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return ip(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(Cq.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),s=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(s).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",s=t.map(o=>this.wrap("li",o)).join(""),i=this.wrap(n,s);return this.addRaw(i).addEOL()}addTable(t){let r=t.map(s=>{let i=s.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:c,colspan:d,rowspan:u}=o,p=a?"th":"td",f=Object.assign(Object.assign({},d&&{colspan:d}),u&&{rowspan:u});return this.wrap(p,c,f)}).join("");return this.wrap("tr",i)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:s,height:i}=n||{},o=Object.assign(Object.assign({},s&&{width:s}),i&&{height:i}),a=this.wrap("img",null,Object.assign({src:t,alt:r},o));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,s=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",i=this.wrap(s,t);return this.addRaw(i).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),s=this.wrap("blockquote",t,n);return this.addRaw(s).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},Ng=new ap;Re.markdownSummary=Ng;Re.summary=Ng});var Mg=l(Ce=>{"use strict";var Oq=Ce&&Ce.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Nq=Ce&&Ce.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Mq=Ce&&Ce.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Oq(t,e,r);return Nq(t,e),t};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.toPlatformPath=Ce.toWin32Path=Ce.toPosixPath=void 0;var kq=Mq(require("path"));function jq(e){return e.replace(/[\\]/g,"/")}Ce.toPosixPath=jq;function Dq(e){return e.replace(/[/]/g,"\\")}Ce.toWin32Path=Dq;function Lq(e){return e.replace(/[/\\]/g,kq.sep)}Ce.toPlatformPath=Lq});var sp=l(R=>{"use strict";var Fq=R&&R.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zq=R&&R.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kg=R&&R.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Fq(t,e,r);return zq(t,e),t},jg=R&&R.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(p){o(p)}}function c(u){try{d(n.throw(u))}catch(p){o(p)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(R,"__esModule",{value:!0});R.getIDToken=R.getState=R.saveState=R.group=R.endGroup=R.startGroup=R.info=R.notice=R.warning=R.error=R.debug=R.isDebug=R.setFailed=R.setCommandEcho=R.setOutput=R.getBooleanInput=R.getMultilineInput=R.getInput=R.addPath=R.setSecret=R.exportVariable=R.ExitCode=void 0;var ze=Xy(),vr=gg(),Wr=eo(),Dg=kg(require("os")),Uq=kg(require("path")),$q=Og(),Lg;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Lg=R.ExitCode||(R.ExitCode={}));function Hq(e,t){let r=Wr.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return vr.issueFileCommand("ENV",vr.prepareKeyValueMessage(e,t));ze.issueCommand("set-env",{name:e},r)}R.exportVariable=Hq;function Gq(e){ze.issueCommand("add-mask",{},e)}R.setSecret=Gq;function Bq(e){process.env.GITHUB_PATH||""?vr.issueFileCommand("PATH",e):ze.issueCommand("add-path",{},e),process.env.PATH=`${e}${Uq.delimiter}${process.env.PATH}`}R.addPath=Bq;function dp(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}R.getInput=dp;function Vq(e,t){let r=dp(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}R.getMultilineInput=Vq;function Wq(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],s=dp(e,t);if(r.includes(s))return!0;if(n.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}R.getBooleanInput=Wq;function Kq(e,t){if(process.env.GITHUB_OUTPUT||"")return vr.issueFileCommand("OUTPUT",vr.prepareKeyValueMessage(e,t));process.stdout.write(Dg.EOL),ze.issueCommand("set-output",{name:e},Wr.toCommandValue(t))}R.setOutput=Kq;function Jq(e){ze.issue("echo",e?"on":"off")}R.setCommandEcho=Jq;function Yq(e){process.exitCode=Lg.Failure,Fg(e)}R.setFailed=Yq;function Xq(){return process.env.RUNNER_DEBUG==="1"}R.isDebug=Xq;function Qq(e){ze.issueCommand("debug",{},e)}R.debug=Qq;function Fg(e,t={}){ze.issueCommand("error",Wr.toCommandProperties(t),e instanceof Error?e.toString():e)}R.error=Fg;function Zq(e,t={}){ze.issueCommand("warning",Wr.toCommandProperties(t),e instanceof Error?e.toString():e)}R.warning=Zq;function eO(e,t={}){ze.issueCommand("notice",Wr.toCommandProperties(t),e instanceof Error?e.toString():e)}R.notice=eO;function tO(e){process.stdout.write(e+Dg.EOL)}R.info=tO;function zg(e){ze.issue("group",e)}R.startGroup=zg;function Ug(){ze.issue("endgroup")}R.endGroup=Ug;function rO(e,t){return jg(this,void 0,void 0,function*(){zg(e);let r;try{r=yield t()}finally{Ug()}return r})}R.group=rO;function nO(e,t){if(process.env.GITHUB_STATE||"")return vr.issueFileCommand("STATE",vr.prepareKeyValueMessage(e,t));ze.issueCommand("save-state",{name:e},Wr.toCommandValue(t))}R.saveState=nO;function sO(e){return process.env[`STATE_${e}`]||""}R.getState=sO;function iO(e){return jg(this,void 0,void 0,function*(){return yield $q.OidcClient.getIDToken(e)})}R.getIDToken=iO;var oO=cp();Object.defineProperty(R,"summary",{enumerable:!0,get:function(){return oO.summary}});var aO=cp();Object.defineProperty(R,"markdownSummary",{enumerable:!0,get:function(){return aO.markdownSummary}});var lp=Mg();Object.defineProperty(R,"toPosixPath",{enumerable:!0,get:function(){return lp.toPosixPath}});Object.defineProperty(R,"toWin32Path",{enumerable:!0,get:function(){return lp.toWin32Path}});Object.defineProperty(R,"toPlatformPath",{enumerable:!0,get:function(){return lp.toPlatformPath}})});var N=l((uX,bo)=>{var $g,Hg,Gg,Bg,Vg,Wg,Kg,Jg,Yg,Eo,up,Xg,Qg,Zg,Kr,ew,tw,rw,nw,sw,iw,ow,aw,cw,So;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof bo=="object"&&typeof bo.exports=="object"?e(r(t,r(bo.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])};$g=function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(n,s);function i(){this.constructor=n}n.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)},Hg=Object.assign||function(n){for(var s,i=1,o=arguments.length;i<o;i++){s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},Gg=function(n,s){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(i[o[a]]=n[o[a]]);return i},Bg=function(n,s,i,o){var a=arguments.length,c=a<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,s,i,o);else for(var u=n.length-1;u>=0;u--)(d=n[u])&&(c=(a<3?d(c):a>3?d(s,i,c):d(s,i))||c);return a>3&&c&&Object.defineProperty(s,i,c),c},Vg=function(n,s){return function(i,o){s(i,o,n)}},Wg=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},Kg=function(n,s,i,o){function a(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function u(h){try{f(o.next(h))}catch(_){d(_)}}function p(h){try{f(o.throw(h))}catch(_){d(_)}}function f(h){h.done?c(h.value):a(h.value).then(u,p)}f((o=o.apply(n,s||[])).next())})},Jg=function(n,s){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(f){return function(h){return p([f,h])}}function p(f){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,f[0]&&(i=0)),i;)try{if(o=1,a&&(c=f[0]&2?a.return:f[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,f[1])).done)return c;switch(a=0,c&&(f=[f[0]&2,c.value]),f[0]){case 0:case 1:c=f;break;case 4:return i.label++,{value:f[1],done:!1};case 5:i.label++,a=f[1],f=[0];continue;case 7:f=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(f[0]===6||f[0]===2)){i=0;continue}if(f[0]===3&&(!c||f[1]>c[0]&&f[1]<c[3])){i.label=f[1];break}if(f[0]===6&&i.label<c[1]){i.label=c[1],c=f;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(f);break}c[2]&&i.ops.pop(),i.trys.pop();continue}f=s.call(n,i)}catch(h){f=[6,h],a=0}finally{o=c=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Yg=function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&So(s,n,i)},So=Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]},Eo=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,i=s&&n[s],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},up=function(n,s){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var o=i.call(n),a,c=[],d;try{for(;(s===void 0||s-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(u){d={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(d)throw d.error}}return c},Xg=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(up(arguments[s]));return n},Qg=function(){for(var n=0,s=0,i=arguments.length;s<i;s++)n+=arguments[s].length;for(var o=Array(n),a=0,s=0;s<i;s++)for(var c=arguments[s],d=0,u=c.length;d<u;d++,a++)o[a]=c[d];return o},Zg=function(n,s,i){if(i||arguments.length===2)for(var o=0,a=s.length,c;o<a;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return n.concat(c||Array.prototype.slice.call(s))},Kr=function(n){return this instanceof Kr?(this.v=n,this):new Kr(n)},ew=function(n,s,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,s||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(y){o[y]&&(a[y]=function(g){return new Promise(function(b,q){c.push([y,g,b,q])>1||u(y,g)})})}function u(y,g){try{p(o[y](g))}catch(b){_(c[0][3],b)}}function p(y){y.value instanceof Kr?Promise.resolve(y.value.v).then(f,h):_(c[0][2],y)}function f(y){u("next",y)}function h(y){u("throw",y)}function _(y,g){y(g),c.shift(),c.length&&u(c[0][0],c[0][1])}},tw=function(n){var s,i;return s={},o("next"),o("throw",function(a){throw a}),o("return"),s[Symbol.iterator]=function(){return this},s;function o(a,c){s[a]=n[a]?function(d){return(i=!i)?{value:Kr(n[a](d)),done:a==="return"}:c?c(d):d}:c}},rw=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],i;return s?s.call(n):(n=typeof Eo=="function"?Eo(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(c){i[c]=n[c]&&function(d){return new Promise(function(u,p){d=n[c](d),a(u,p,d.done,d.value)})}}function a(c,d,u,p){Promise.resolve(p).then(function(f){c({value:f,done:u})},d)}},nw=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n};var r=Object.create?function(n,s){Object.defineProperty(n,"default",{enumerable:!0,value:s})}:function(n,s){n.default=s};sw=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var i in n)i!=="default"&&Object.prototype.hasOwnProperty.call(n,i)&&So(s,n,i);return r(s,n),s},iw=function(n){return n&&n.__esModule?n:{default:n}},ow=function(n,s,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?n!==s||!o:!s.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(n):o?o.value:s.get(n)},aw=function(n,s,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?n!==s||!a:!s.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(n,i):a?a.value=i:s.set(n,i),i},cw=function(n,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?s===n:n.has(s)},e("__extends",$g),e("__assign",Hg),e("__rest",Gg),e("__decorate",Bg),e("__param",Vg),e("__metadata",Wg),e("__awaiter",Kg),e("__generator",Jg),e("__exportStar",Yg),e("__createBinding",So),e("__values",Eo),e("__read",up),e("__spread",Xg),e("__spreadArrays",Qg),e("__spreadArray",Zg),e("__await",Kr),e("__asyncGenerator",ew),e("__asyncDelegator",tw),e("__asyncValues",rw),e("__makeTemplateObject",nw),e("__importStar",sw),e("__importDefault",iw),e("__classPrivateFieldGet",ow),e("__classPrivateFieldSet",aw),e("__classPrivateFieldIn",cw)})});var Po=l(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.toHex=Jr.fromHex=void 0;var dw={},fp={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),dw[e]=t,fp[t]=e}function cO(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in fp)t[r/2]=fp[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}Jr.fromHex=cO;function dO(e){let t="";for(let r=0;r<e.byteLength;r++)t+=dw[e[r]];return t}Jr.toHex=dO});var lw=l(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.normalizeProvider=void 0;var lO=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Io.normalizeProvider=lO});var Er=l(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});var uO=N();uO.__exportStar(lw(),pp)});var Sr=l(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.MAX_PRESIGNED_TTL=A.KEY_TYPE_IDENTIFIER=A.MAX_CACHE_SIZE=A.UNSIGNED_PAYLOAD=A.EVENT_ALGORITHM_IDENTIFIER=A.ALGORITHM_IDENTIFIER_V4A=A.ALGORITHM_IDENTIFIER=A.UNSIGNABLE_PATTERNS=A.SEC_HEADER_PATTERN=A.PROXY_HEADER_PATTERN=A.ALWAYS_UNSIGNABLE_HEADERS=A.HOST_HEADER=A.TOKEN_HEADER=A.SHA256_HEADER=A.SIGNATURE_HEADER=A.GENERATED_HEADERS=A.DATE_HEADER=A.AMZ_DATE_HEADER=A.AUTH_HEADER=A.REGION_SET_PARAM=A.TOKEN_QUERY_PARAM=A.SIGNATURE_QUERY_PARAM=A.EXPIRES_QUERY_PARAM=A.SIGNED_HEADERS_QUERY_PARAM=A.AMZ_DATE_QUERY_PARAM=A.CREDENTIAL_QUERY_PARAM=A.ALGORITHM_QUERY_PARAM=void 0;A.ALGORITHM_QUERY_PARAM="X-Amz-Algorithm";A.CREDENTIAL_QUERY_PARAM="X-Amz-Credential";A.AMZ_DATE_QUERY_PARAM="X-Amz-Date";A.SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders";A.EXPIRES_QUERY_PARAM="X-Amz-Expires";A.SIGNATURE_QUERY_PARAM="X-Amz-Signature";A.TOKEN_QUERY_PARAM="X-Amz-Security-Token";A.REGION_SET_PARAM="X-Amz-Region-Set";A.AUTH_HEADER="authorization";A.AMZ_DATE_HEADER=A.AMZ_DATE_QUERY_PARAM.toLowerCase();A.DATE_HEADER="date";A.GENERATED_HEADERS=[A.AUTH_HEADER,A.AMZ_DATE_HEADER,A.DATE_HEADER];A.SIGNATURE_HEADER=A.SIGNATURE_QUERY_PARAM.toLowerCase();A.SHA256_HEADER="x-amz-content-sha256";A.TOKEN_HEADER=A.TOKEN_QUERY_PARAM.toLowerCase();A.HOST_HEADER="host";A.ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0};A.PROXY_HEADER_PATTERN=/^proxy-/;A.SEC_HEADER_PATTERN=/^sec-/;A.UNSIGNABLE_PATTERNS=[/^proxy-/i,/^sec-/i];A.ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256";A.ALGORITHM_IDENTIFIER_V4A="AWS4-ECDSA-P256-SHA256";A.EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD";A.UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD";A.MAX_CACHE_SIZE=50;A.KEY_TYPE_IDENTIFIER="aws4_request";A.MAX_PRESIGNED_TTL=60*60*24*7});var hp=l(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.clearCredentialCache=Yt.getSigningKey=Yt.createScope=void 0;var fO=Po(),mp=Sr(),Yr={},Ao=[],pO=(e,t,r)=>`${e}/${t}/${r}/${mp.KEY_TYPE_IDENTIFIER}`;Yt.createScope=pO;var mO=async(e,t,r,n,s)=>{let i=await uw(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${(0,fO.toHex)(i)}:${t.sessionToken}`;if(o in Yr)return Yr[o];for(Ao.push(o);Ao.length>mp.MAX_CACHE_SIZE;)delete Yr[Ao.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,mp.KEY_TYPE_IDENTIFIER])a=await uw(e,a,c);return Yr[o]=a};Yt.getSigningKey=mO;var hO=()=>{Ao.length=0,Object.keys(Yr).forEach(e=>{delete Yr[e]})};Yt.clearCredentialCache=hO;var uw=(e,t,r)=>{let n=new e(t);return n.update(r),n.digest()}});var yp=l(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.getCanonicalHeaders=void 0;var _p=Sr(),_O=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in _p.ALWAYS_UNSIGNABLE_HEADERS||t?.has(i)||_p.PROXY_HEADER_PATTERN.test(i)||_p.SEC_HEADER_PATTERN.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n};Ro.getCanonicalHeaders=_O});var gp=l(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.escapeUri=void 0;var yO=e=>encodeURIComponent(e).replace(/[!'()*]/g,gO);Co.escapeUri=yO;var gO=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`});var fw=l(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.escapeUriPath=void 0;var wO=gp(),vO=e=>e.split("/").map(wO.escapeUri).join("/");To.escapeUriPath=vO});var wp=l(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});var pw=N();pw.__exportStar(gp(),xo);pw.__exportStar(fw(),xo)});var vp=l(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.getCanonicalQuery=void 0;var qo=wp(),EO=Sr(),SO=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===EO.SIGNATURE_HEADER)continue;t.push(n);let s=e[n];typeof s=="string"?r[n]=`${(0,qo.escapeUri)(n)}=${(0,qo.escapeUri)(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).sort().reduce((i,o)=>i.concat([`${(0,qo.escapeUri)(n)}=${(0,qo.escapeUri)(o)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};Oo.getCanonicalQuery=SO});var Ep=l(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.isArrayBuffer=void 0;var bO=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";No.isArrayBuffer=bO});var Sp=l(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.getPayloadHash=void 0;var PO=Ep(),IO=Po(),mw=Sr(),AO=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===mw.SHA256_HEADER)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,PO.isArrayBuffer)(t)){let n=new r;return n.update(t),(0,IO.toHex)(await n.digest())}return mw.UNSIGNED_PAYLOAD};Mo.getPayloadHash=AO});var hw=l(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.deleteHeader=Xt.getHeaderValue=Xt.hasHeader=void 0;var RO=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};Xt.hasHeader=RO;var CO=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return t[r]};Xt.getHeaderValue=CO;var TO=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))e===r.toLowerCase()&&delete t[r]};Xt.deleteHeader=TO});var bp=l(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.cloneQuery=br.cloneRequest=void 0;var xO=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?(0,br.cloneQuery)(t):void 0});br.cloneRequest=xO;var qO=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});br.cloneQuery=qO});var Pp=l(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.moveHeadersToQuery=void 0;var OO=bp(),NO=(e,t={})=>{var r;let{headers:n,query:s={}}=typeof e.clone=="function"?e.clone():(0,OO.cloneRequest)(e);for(let i of Object.keys(n)){let o=i.toLowerCase();o.slice(0,6)==="x-amz-"&&!(!((r=t.unhoistableHeaders)===null||r===void 0)&&r.has(o))&&(s[i]=n[i],delete n[i])}return{...e,headers:n,query:s}};ko.moveHeadersToQuery=NO});var Ip=l(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.prepareRequest=void 0;var MO=bp(),kO=Sr(),jO=e=>{e=typeof e.clone=="function"?e.clone():(0,MO.cloneRequest)(e);for(let t of Object.keys(e.headers))kO.GENERATED_HEADERS.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};jo.prepareRequest=jO});var _w=l(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.toDate=Pr.iso8601=void 0;var DO=e=>(0,Pr.toDate)(e).toISOString().replace(/\.\d{3}Z$/,"Z");Pr.iso8601=DO;var LO=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;Pr.toDate=LO});var Ew=l(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.SignatureV4=void 0;var Do=Po(),yw=Er(),ge=Sr(),Lo=hp(),gw=yp(),FO=vp(),Ap=Sp(),zO=hw(),UO=Pp(),ww=Ip(),$O=_w(),Rp=class{constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,yw.normalizeProvider)(n),this.credentialProvider=(0,yw.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,signingRegion:c,signingService:d}=r,u=await this.credentialProvider();this.validateResolvedCredentials(u);let p=c??await this.regionProvider(),{longDate:f,shortDate:h}=Fo(n);if(s>ge.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=(0,Lo.createScope)(h,p,d??this.service),y=(0,UO.moveHeadersToQuery)((0,ww.prepareRequest)(t),{unhoistableHeaders:o});u.sessionToken&&(y.query[ge.TOKEN_QUERY_PARAM]=u.sessionToken),y.query[ge.ALGORITHM_QUERY_PARAM]=ge.ALGORITHM_IDENTIFIER,y.query[ge.CREDENTIAL_QUERY_PARAM]=`${u.accessKeyId}/${_}`,y.query[ge.AMZ_DATE_QUERY_PARAM]=f,y.query[ge.EXPIRES_QUERY_PARAM]=s.toString(10);let g=(0,gw.getCanonicalHeaders)(y,i,a);return y.query[ge.SIGNED_HEADERS_QUERY_PARAM]=vw(g),y.query[ge.SIGNATURE_QUERY_PARAM]=await this.getSignature(f,_,this.getSigningKey(u,p,h,d),this.createCanonicalRequest(y,g,await(0,Ap.getPayloadHash)(t,this.sha256))),y}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){let a=i??await this.regionProvider(),{shortDate:c,longDate:d}=Fo(n),u=(0,Lo.createScope)(c,a,o??this.service),p=await(0,Ap.getPayloadHash)({headers:{},body:r},this.sha256),f=new this.sha256;f.update(t);let h=(0,Do.toHex)(await f.digest()),_=[ge.EVENT_ALGORITHM_IDENTIFIER,d,u,s,h,p].join(`
`);return this.signString(_,{signingDate:n,signingRegion:a,signingService:o})}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let o=n??await this.regionProvider(),{shortDate:a}=Fo(r),c=new this.sha256(await this.getSigningKey(i,o,a,s));return c.update(t),(0,Do.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),d=(0,ww.prepareRequest)(t),{longDate:u,shortDate:p}=Fo(r),f=(0,Lo.createScope)(p,c,o??this.service);d.headers[ge.AMZ_DATE_HEADER]=u,a.sessionToken&&(d.headers[ge.TOKEN_HEADER]=a.sessionToken);let h=await(0,Ap.getPayloadHash)(d,this.sha256);!(0,zO.hasHeader)(ge.SHA256_HEADER,d.headers)&&this.applyChecksum&&(d.headers[ge.SHA256_HEADER]=h);let _=(0,gw.getCanonicalHeaders)(d,s,n),y=await this.getSignature(u,f,this.getSigningKey(a,c,p,o),this.createCanonicalRequest(d,_,h));return d.headers[ge.AUTH_HEADER]=`${ge.ALGORITHM_IDENTIFIER} Credential=${a.accessKeyId}/${f}, SignedHeaders=${vw(_)}, Signature=${y}`,d}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${(0,FO.getCanonicalQuery)(t)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n){let s=new this.sha256;s.update(n);let i=await s.digest();return`${ge.ALGORITHM_IDENTIFIER}
${t}
${r}
${(0,Do.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,s){let i=await this.createStringToSign(t,r,s),o=new this.sha256(await n);return o.update(i),(0,Do.toHex)(await o.digest())}getSigningKey(t,r,n,s){return(0,Lo.getSigningKey)(this.sha256,t,n,r,s||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};zo.SignatureV4=Rp;var Fo=e=>{let t=(0,$O.iso8601)(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},vw=e=>Object.keys(e).sort().join(";")});var Cp=l(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.prepareRequest=Te.moveHeadersToQuery=Te.getPayloadHash=Te.getCanonicalQuery=Te.getCanonicalHeaders=void 0;var Sw=N();Sw.__exportStar(Ew(),Te);var HO=yp();Object.defineProperty(Te,"getCanonicalHeaders",{enumerable:!0,get:function(){return HO.getCanonicalHeaders}});var GO=vp();Object.defineProperty(Te,"getCanonicalQuery",{enumerable:!0,get:function(){return GO.getCanonicalQuery}});var BO=Sp();Object.defineProperty(Te,"getPayloadHash",{enumerable:!0,get:function(){return BO.getPayloadHash}});var VO=Pp();Object.defineProperty(Te,"moveHeadersToQuery",{enumerable:!0,get:function(){return VO.moveHeadersToQuery}});var WO=Ip();Object.defineProperty(Te,"prepareRequest",{enumerable:!0,get:function(){return WO.prepareRequest}});Sw.__exportStar(hp(),Te)});var Ho=l((qX,$o)=>{var bw,Pw,Iw,Aw,Rw,Cw,Tw,xw,qw,Uo,Tp,Ow,Nw,Xr,Mw,kw,jw,Dw,Lw,Fw,zw,Uw,$w;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof $o=="object"&&typeof $o.exports=="object"?e(r(t,r($o.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])};bw=function(r,n){t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)},Pw=Object.assign||function(r){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Iw=function(r,n){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&n.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(s[i[o]]=r[i[o]]);return s},Aw=function(r,n,s,i){var o=arguments.length,a=o<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,s):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,n,s,i);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(a=(o<3?c(a):o>3?c(n,s,a):c(n,s))||a);return o>3&&a&&Object.defineProperty(n,s,a),a},Rw=function(r,n){return function(s,i){n(s,i,r)}},Cw=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},Tw=function(r,n,s,i){function o(a){return a instanceof s?a:new s(function(c){c(a)})}return new(s||(s=Promise))(function(a,c){function d(f){try{p(i.next(f))}catch(h){c(h)}}function u(f){try{p(i.throw(f))}catch(h){c(h)}}function p(f){f.done?a(f.value):o(f.value).then(d,u)}p((i=i.apply(r,n||[])).next())})},xw=function(r,n){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(f){return u([p,f])}}function u(p){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,o=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){s.label=p[1];break}if(p[0]===6&&s.label<a[1]){s.label=a[1],a=p;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(p);break}a[2]&&s.ops.pop(),s.trys.pop();continue}p=n.call(r,s)}catch(f){p=[6,f],o=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},$w=function(r,n,s,i){i===void 0&&(i=s),r[i]=n[s]},qw=function(r,n){for(var s in r)s!=="default"&&!n.hasOwnProperty(s)&&(n[s]=r[s])},Uo=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&r[n],i=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Tp=function(r,n){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var i=s.call(r),o,a=[],c;try{for(;(n===void 0||n-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(c)throw c.error}}return a},Ow=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Tp(arguments[n]));return r},Nw=function(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;for(var i=Array(r),o=0,n=0;n<s;n++)for(var a=arguments[n],c=0,d=a.length;c<d;c++,o++)i[o]=a[c];return i},Xr=function(r){return this instanceof Xr?(this.v=r,this):new Xr(r)},Mw=function(r,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(r,n||[]),o,a=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(_){i[_]&&(o[_]=function(y){return new Promise(function(g,b){a.push([_,y,g,b])>1||d(_,y)})})}function d(_,y){try{u(i[_](y))}catch(g){h(a[0][3],g)}}function u(_){_.value instanceof Xr?Promise.resolve(_.value.v).then(p,f):h(a[0][2],_)}function p(_){d("next",_)}function f(_){d("throw",_)}function h(_,y){_(y),a.shift(),a.length&&d(a[0][0],a[0][1])}},kw=function(r){var n,s;return n={},i("next"),i("throw",function(o){throw o}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(o,a){n[o]=r[o]?function(c){return(s=!s)?{value:Xr(r[o](c)),done:o==="return"}:a?a(c):c}:a}},jw=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],s;return n?n.call(r):(r=typeof Uo=="function"?Uo(r):r[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(a){s[a]=r[a]&&function(c){return new Promise(function(d,u){c=r[a](c),o(d,u,c.done,c.value)})}}function o(a,c,d,u){Promise.resolve(u).then(function(p){a({value:p,done:d})},c)}},Dw=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},Lw=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var s in r)Object.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n.default=r,n},Fw=function(r){return r&&r.__esModule?r:{default:r}},zw=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},Uw=function(r,n,s){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,s),s},e("__extends",bw),e("__assign",Pw),e("__rest",Iw),e("__decorate",Aw),e("__param",Rw),e("__metadata",Cw),e("__awaiter",Tw),e("__generator",xw),e("__exportStar",qw),e("__createBinding",$w),e("__values",Uo),e("__read",Tp),e("__spread",Ow),e("__spreadArrays",Nw),e("__await",Xr),e("__asyncGenerator",Mw),e("__asyncDelegator",kw),e("__asyncValues",jw),e("__makeTemplateObject",Dw),e("__importStar",Lw),e("__importDefault",Fw),e("__classPrivateFieldGet",zw),e("__classPrivateFieldSet",Uw)})});var xp=l(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.MAX_HASHABLE_LENGTH=Ue.INIT=Ue.KEY=Ue.DIGEST_LENGTH=Ue.BLOCK_SIZE=void 0;Ue.BLOCK_SIZE=64;Ue.DIGEST_LENGTH=32;Ue.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Ue.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Ue.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var Hw=l(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.RawSha256=void 0;var $e=xp(),KO=function(){function e(){this.state=Int32Array.from($e.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>$e.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===$e.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%$e.BLOCK_SIZE>=$e.BLOCK_SIZE-8){for(var s=this.bufferLength;s<$e.BLOCK_SIZE;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<$e.BLOCK_SIZE-8;s++)r.setUint8(s,0);r.setUint32($e.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32($e.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array($e.DIGEST_LENGTH),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,s=n[0],i=n[1],o=n[2],a=n[3],c=n[4],d=n[5],u=n[6],p=n[7],f=0;f<$e.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(r[f*4]&255)<<24|(r[f*4+1]&255)<<16|(r[f*4+2]&255)<<8|r[f*4+3]&255;else{var h=this.temp[f-2],_=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[f-15];var y=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[f]=(_+this.temp[f-7]|0)+(y+this.temp[f-16]|0)}var g=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&d^~c&u)|0)+(p+($e.KEY[f]+this.temp[f]|0)|0)|0,b=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&o^i&o)|0;p=u,u=d,d=c,c=a+g|0,a=o,o=i,i=s,s=g+b|0}n[0]+=s,n[1]+=i,n[2]+=o,n[3]+=a,n[4]+=c,n[5]+=d,n[6]+=u,n[7]+=p},e}();Go.RawSha256=KO});var Gw=l(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.toUtf8=Qr.fromUtf8=void 0;var JO=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let s=e.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192,s&63|128);else if(r+1<e.length&&(s&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let i=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else t.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(t)};Qr.fromUtf8=JO;var YO=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let s=e[r];if(s<128)t+=String.fromCharCode(s);else if(192<=s&&s<224){let i=e[++r];t+=String.fromCharCode((s&31)<<6|i&63)}else if(240<=s&&s<365){let o="%"+[s,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((s&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};Qr.toUtf8=YO});var Bw=l(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.toUtf8=Zr.fromUtf8=void 0;function XO(e){return new TextEncoder().encode(e)}Zr.fromUtf8=XO;function QO(e){return new TextDecoder("utf-8").decode(e)}Zr.toUtf8=QO});var Kw=l(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.toUtf8=en.fromUtf8=void 0;var Vw=Gw(),Ww=Bw(),ZO=e=>typeof TextEncoder=="function"?(0,Ww.fromUtf8)(e):(0,Vw.fromUtf8)(e);en.fromUtf8=ZO;var eN=e=>typeof TextDecoder=="function"?(0,Ww.toUtf8)(e):(0,Vw.toUtf8)(e);en.toUtf8=eN});var Jw=l(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.convertToBuffer=void 0;var tN=Kw(),rN=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:tN.fromUtf8;function nN(e){return e instanceof Uint8Array?e:typeof e=="string"?rN(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Bo.convertToBuffer=nN});var Yw=l(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.isEmptyData=void 0;function sN(e){return typeof e=="string"?e.length===0:e.byteLength===0}Vo.isEmptyData=sN});var Xw=l(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.numToUint8=void 0;function iN(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Wo.numToUint8=iN});var Qw=l(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.uint32ArrayFrom=void 0;function oN(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}Ko.uint32ArrayFrom=oN});var Zw=l(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.uint32ArrayFrom=dt.numToUint8=dt.isEmptyData=dt.convertToBuffer=void 0;var aN=Jw();Object.defineProperty(dt,"convertToBuffer",{enumerable:!0,get:function(){return aN.convertToBuffer}});var cN=Yw();Object.defineProperty(dt,"isEmptyData",{enumerable:!0,get:function(){return cN.isEmptyData}});var dN=Xw();Object.defineProperty(dt,"numToUint8",{enumerable:!0,get:function(){return dN.numToUint8}});var lN=Qw();Object.defineProperty(dt,"uint32ArrayFrom",{enumerable:!0,get:function(){return lN.uint32ArrayFrom}})});var tv=l(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.Sha256=void 0;var ev=Ho(),Jo=xp(),qp=Hw(),Op=Zw(),uN=function(){function e(t){if(this.hash=new qp.RawSha256,t){this.outer=new qp.RawSha256;var r=fN(t),n=new Uint8Array(Jo.BLOCK_SIZE);n.set(r);for(var s=0;s<Jo.BLOCK_SIZE;s++)r[s]^=54,n[s]^=92;this.hash.update(r),this.outer.update(n);for(var s=0;s<r.byteLength;s++)r[s]=0}}return e.prototype.update=function(t){if(!((0,Op.isEmptyData)(t)||this.error))try{this.hash.update((0,Op.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return ev.__awaiter(this,void 0,void 0,function(){return ev.__generator(this,function(t){return[2,this.digestSync()]})})},e}();Yo.Sha256=uN;function fN(e){var t=(0,Op.convertToBuffer)(e);if(t.byteLength>Jo.BLOCK_SIZE){var r=new qp.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(Jo.BLOCK_SIZE);return n.set(t),n}});var rv=l(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});var pN=Ho();pN.__exportStar(tv(),Np)});var de=l((GX,Zo)=>{var nv,sv,iv,ov,av,cv,dv,lv,uv,Xo,Mp,fv,pv,mv,tn,hv,_v,yv,gv,wv,vv,Ev,Sv,bv,Qo;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof Zo=="object"&&typeof Zo.exports=="object"?e(r(t,r(Zo.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])};nv=function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(n,s);function i(){this.constructor=n}n.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)},sv=Object.assign||function(n){for(var s,i=1,o=arguments.length;i<o;i++){s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},iv=function(n,s){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(i[o[a]]=n[o[a]]);return i},ov=function(n,s,i,o){var a=arguments.length,c=a<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,s,i,o);else for(var u=n.length-1;u>=0;u--)(d=n[u])&&(c=(a<3?d(c):a>3?d(s,i,c):d(s,i))||c);return a>3&&c&&Object.defineProperty(s,i,c),c},av=function(n,s){return function(i,o){s(i,o,n)}},cv=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},dv=function(n,s,i,o){function a(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function u(h){try{f(o.next(h))}catch(_){d(_)}}function p(h){try{f(o.throw(h))}catch(_){d(_)}}function f(h){h.done?c(h.value):a(h.value).then(u,p)}f((o=o.apply(n,s||[])).next())})},lv=function(n,s){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(f){return function(h){return p([f,h])}}function p(f){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,a&&(c=f[0]&2?a.return:f[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,f[1])).done)return c;switch(a=0,c&&(f=[f[0]&2,c.value]),f[0]){case 0:case 1:c=f;break;case 4:return i.label++,{value:f[1],done:!1};case 5:i.label++,a=f[1],f=[0];continue;case 7:f=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(f[0]===6||f[0]===2)){i=0;continue}if(f[0]===3&&(!c||f[1]>c[0]&&f[1]<c[3])){i.label=f[1];break}if(f[0]===6&&i.label<c[1]){i.label=c[1],c=f;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(f);break}c[2]&&i.ops.pop(),i.trys.pop();continue}f=s.call(n,i)}catch(h){f=[6,h],a=0}finally{o=c=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},uv=function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&Qo(s,n,i)},Qo=Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]},Xo=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,i=s&&n[s],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},Mp=function(n,s){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var o=i.call(n),a,c=[],d;try{for(;(s===void 0||s-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(u){d={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(d)throw d.error}}return c},fv=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(Mp(arguments[s]));return n},pv=function(){for(var n=0,s=0,i=arguments.length;s<i;s++)n+=arguments[s].length;for(var o=Array(n),a=0,s=0;s<i;s++)for(var c=arguments[s],d=0,u=c.length;d<u;d++,a++)o[a]=c[d];return o},mv=function(n,s,i){if(i||arguments.length===2)for(var o=0,a=s.length,c;o<a;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return n.concat(c||Array.prototype.slice.call(s))},tn=function(n){return this instanceof tn?(this.v=n,this):new tn(n)},hv=function(n,s,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,s||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(y){o[y]&&(a[y]=function(g){return new Promise(function(b,q){c.push([y,g,b,q])>1||u(y,g)})})}function u(y,g){try{p(o[y](g))}catch(b){_(c[0][3],b)}}function p(y){y.value instanceof tn?Promise.resolve(y.value.v).then(f,h):_(c[0][2],y)}function f(y){u("next",y)}function h(y){u("throw",y)}function _(y,g){y(g),c.shift(),c.length&&u(c[0][0],c[0][1])}},_v=function(n){var s,i;return s={},o("next"),o("throw",function(a){throw a}),o("return"),s[Symbol.iterator]=function(){return this},s;function o(a,c){s[a]=n[a]?function(d){return(i=!i)?{value:tn(n[a](d)),done:a==="return"}:c?c(d):d}:c}},yv=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],i;return s?s.call(n):(n=typeof Xo=="function"?Xo(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(c){i[c]=n[c]&&function(d){return new Promise(function(u,p){d=n[c](d),a(u,p,d.done,d.value)})}}function a(c,d,u,p){Promise.resolve(p).then(function(f){c({value:f,done:u})},d)}},gv=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n};var r=Object.create?function(n,s){Object.defineProperty(n,"default",{enumerable:!0,value:s})}:function(n,s){n.default=s};wv=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var i in n)i!=="default"&&Object.prototype.hasOwnProperty.call(n,i)&&Qo(s,n,i);return r(s,n),s},vv=function(n){return n&&n.__esModule?n:{default:n}},Ev=function(n,s,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?n!==s||!o:!s.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(n):o?o.value:s.get(n)},Sv=function(n,s,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?n!==s||!a:!s.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(n,i):a?a.value=i:s.set(n,i),i},bv=function(n,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?s===n:n.has(s)},e("__extends",nv),e("__assign",sv),e("__rest",iv),e("__decorate",ov),e("__param",av),e("__metadata",cv),e("__awaiter",dv),e("__generator",lv),e("__exportStar",uv),e("__createBinding",Qo),e("__values",Xo),e("__read",Mp),e("__spread",fv),e("__spreadArrays",pv),e("__spreadArray",mv),e("__await",tn),e("__asyncGenerator",hv),e("__asyncDelegator",_v),e("__asyncValues",yv),e("__makeTemplateObject",gv),e("__importStar",wv),e("__importDefault",vv),e("__classPrivateFieldGet",Ev),e("__classPrivateFieldSet",Sv),e("__classPrivateFieldIn",bv)})});var Pv=l(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.booleanSelector=Ir.SelectorType=void 0;var mN;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(mN=Ir.SelectorType||(Ir.SelectorType={}));var hN=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};Ir.booleanSelector=hN});var jp=l(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});var _N=N();_N.__exportStar(Pv(),kp)});var Iv=l(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=He.DEFAULT_USE_DUALSTACK_ENDPOINT=He.CONFIG_USE_DUALSTACK_ENDPOINT=He.ENV_USE_DUALSTACK_ENDPOINT=void 0;var ea=jp();He.ENV_USE_DUALSTACK_ENDPOINT="AWS_USE_DUALSTACK_ENDPOINT";He.CONFIG_USE_DUALSTACK_ENDPOINT="use_dualstack_endpoint";He.DEFAULT_USE_DUALSTACK_ENDPOINT=!1;He.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>(0,ea.booleanSelector)(e,He.ENV_USE_DUALSTACK_ENDPOINT,ea.SelectorType.ENV),configFileSelector:e=>(0,ea.booleanSelector)(e,He.CONFIG_USE_DUALSTACK_ENDPOINT,ea.SelectorType.CONFIG),default:!1}});var Av=l(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=Ge.DEFAULT_USE_FIPS_ENDPOINT=Ge.CONFIG_USE_FIPS_ENDPOINT=Ge.ENV_USE_FIPS_ENDPOINT=void 0;var ta=jp();Ge.ENV_USE_FIPS_ENDPOINT="AWS_USE_FIPS_ENDPOINT";Ge.CONFIG_USE_FIPS_ENDPOINT="use_fips_endpoint";Ge.DEFAULT_USE_FIPS_ENDPOINT=!1;Ge.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>(0,ta.booleanSelector)(e,Ge.ENV_USE_FIPS_ENDPOINT,ta.SelectorType.ENV),configFileSelector:e=>(0,ta.booleanSelector)(e,Ge.CONFIG_USE_FIPS_ENDPOINT,ta.SelectorType.CONFIG),default:!1}});var Cv=l(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.resolveCustomEndpointsConfig=void 0;var Rv=Er(),yN=e=>{var t;let{endpoint:r,urlParser:n}=e;return{...e,tls:(t=e.tls)!==null&&t!==void 0?t:!0,endpoint:(0,Rv.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Rv.normalizeProvider)(e.useDualstackEndpoint)}};ra.resolveCustomEndpointsConfig=yN});var Tv=l(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.getEndpointFromRegion=void 0;var gN=async e=>{var t;let{tls:r=!0}=e,n=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw new Error("Invalid region in client config");let i=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:a}=(t=await e.regionInfoProvider(n,{useDualstackEndpoint:i,useFipsEndpoint:o}))!==null&&t!==void 0?t:{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${r?"https:":"http:"}//${a}`)};na.getEndpointFromRegion=gN});var qv=l(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.resolveEndpointsConfig=void 0;var xv=Er(),wN=Tv(),vN=e=>{var t;let r=(0,xv.normalizeProvider)(e.useDualstackEndpoint),{endpoint:n,useFipsEndpoint:s,urlParser:i}=e;return{...e,tls:(t=e.tls)!==null&&t!==void 0?t:!0,endpoint:n?(0,xv.normalizeProvider)(typeof n=="string"?i(n):n):()=>(0,wN.getEndpointFromRegion)({...e,useDualstackEndpoint:r,useFipsEndpoint:s}),isCustomEndpoint:!!n,useDualstackEndpoint:r}};sa.resolveEndpointsConfig=vN});var Ov=l(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});var ia=N();ia.__exportStar(Iv(),rn);ia.__exportStar(Av(),rn);ia.__exportStar(Cv(),rn);ia.__exportStar(qv(),rn)});var Nv=l(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.NODE_REGION_CONFIG_FILE_OPTIONS=Be.NODE_REGION_CONFIG_OPTIONS=Be.REGION_INI_NAME=Be.REGION_ENV_NAME=void 0;Be.REGION_ENV_NAME="AWS_REGION";Be.REGION_INI_NAME="region";Be.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:e=>e[Be.REGION_ENV_NAME],configFileSelector:e=>e[Be.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};Be.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var Dp=l(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.isFipsRegion=void 0;var EN=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));oa.isFipsRegion=EN});var Mv=l(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.getRealRegion=void 0;var SN=Dp(),bN=e=>(0,SN.isFipsRegion)(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;aa.getRealRegion=bN});var jv=l(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.resolveRegionConfig=void 0;var kv=Mv(),PN=Dp(),IN=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return(0,kv.getRealRegion)(t);let n=await t();return(0,kv.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return(0,PN.isFipsRegion)(n)?!0:typeof r=="boolean"?Promise.resolve(r):r()}}};ca.resolveRegionConfig=IN});var Lv=l(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var Dv=N();Dv.__exportStar(Nv(),da);Dv.__exportStar(jv(),da)});var zv=l(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0})});var $v=l(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0})});var Hv=l(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.getHostnameFromVariants=void 0;var AN=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:s})=>t===s.includes("fips")&&r===s.includes("dualstack")))===null||n===void 0?void 0:n.hostname};la.getHostnameFromVariants=AN});var Gv=l(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.getResolvedHostname=void 0;var RN=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0);ua.getResolvedHostname=RN});var Bv=l(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.getResolvedPartition=void 0;var CN=(e,{partitionHash:t})=>{var r;return(r=Object.keys(t||{}).find(n=>t[n].regions.includes(e)))!==null&&r!==void 0?r:"aws"};fa.getResolvedPartition=CN});var Vv=l(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.getResolvedSigningRegion=void 0;var TN=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}};pa.getResolvedSigningRegion=TN});var Kv=l(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.getRegionInfo=void 0;var Wv=Hv(),xN=Gv(),qN=Bv(),ON=Vv(),NN=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{var o,a,c,d,u,p;let f=(0,qN.getResolvedPartition)(e,{partitionHash:i}),h=e in s?e:(a=(o=i[f])===null||o===void 0?void 0:o.endpoint)!==null&&a!==void 0?a:e,_={useFipsEndpoint:t,useDualstackEndpoint:r},y=(0,Wv.getHostnameFromVariants)((c=s[h])===null||c===void 0?void 0:c.variants,_),g=(0,Wv.getHostnameFromVariants)((d=i[f])===null||d===void 0?void 0:d.variants,_),b=(0,xN.getResolvedHostname)(h,{regionHostname:y,partitionHostname:g});if(b===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:h,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let q=(0,ON.getResolvedSigningRegion)(b,{signingRegion:(u=s[h])===null||u===void 0?void 0:u.signingRegion,regionRegex:i[f].regionRegex,useFipsEndpoint:t});return{partition:f,signingService:n,hostname:b,...q&&{signingRegion:q},...((p=s[h])===null||p===void 0?void 0:p.signingService)&&{signingService:s[h].signingService}}};ma.getRegionInfo=NN});var Jv=l($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});var Lp=N();Lp.__exportStar(zv(),$n);Lp.__exportStar($v(),$n);Lp.__exportStar(Kv(),$n)});var Qt=l(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});var Fp=N();Fp.__exportStar(Ov(),Hn);Fp.__exportStar(Lv(),Hn);Fp.__exportStar(Jv(),Hn)});var Xv=l(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0})});var Qv=l(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.HttpRequest=void 0;var Gn=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new Gn({...this,headers:{...this.headers}});return t.query&&(t.query=MN(t.query)),t}};ha.HttpRequest=Gn;function MN(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}});var Zv=l(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.HttpResponse=void 0;var zp=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};_a.HttpResponse=zp});var eE=l(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.isValidHostname=void 0;function kN(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}ya.isValidHostname=kN});var ke=l(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var ga=N();ga.__exportStar(Xv(),nn);ga.__exportStar(Qv(),nn);ga.__exportStar(Zv(),nn);ga.__exportStar(eE(),nn)});var wa=l(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.getContentLengthPlugin=kt.contentLengthMiddlewareOptions=kt.contentLengthMiddleware=void 0;var jN=ke(),tE="content-length";function rE(e){return t=>async r=>{let n=r.request;if(jN.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(tE)===-1)try{let o=e(s);n.headers={...n.headers,[tE]:String(o)}}catch{}}return t({...r,request:n})}}kt.contentLengthMiddleware=rE;kt.contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0};var DN=e=>({applyToStack:t=>{t.add(rE(e.bodyLengthChecker),kt.contentLengthMiddlewareOptions)}});kt.getContentLengthPlugin=DN});var nE=l(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.isArnBucketName=xe.isDnsCompatibleBucketName=xe.S3_HOSTNAME_PATTERN=xe.DOT_PATTERN=xe.resolveParamsForS3=void 0;var LN=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(0,xe.isArnBucketName)(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!(0,xe.isDnsCompatibleBucketName)(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e};xe.resolveParamsForS3=LN;var FN=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,zN=/(\d+\.){3}\d+/,UN=/\.\./;xe.DOT_PATTERN=/\./;xe.S3_HOSTNAME_PATTERN=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./;var $N=e=>FN.test(e)&&!zN.test(e)&&!UN.test(e);xe.isDnsCompatibleBucketName=$N;var HN=e=>{let[t,r,n,s,i,o]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,c=[t,r,n,i,o].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!i&&!!o};xe.isArnBucketName=HN});var sE=l(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});var GN=N();GN.__exportStar(nE(),Up)});var iE=l(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.createConfigValueProvider=void 0;var BN=(e,t,r)=>{let n=async()=>{var s;let i=(s=r[e])!==null&&s!==void 0?s:r[t];return typeof i=="function"?i():i};return e==="endpoint"||t==="endpoint"?async()=>{let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n};va.createConfigValueProvider=BN});var $p=l(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.resolveParams=Ar.getEndpointFromInstructions=void 0;var VN=sE(),WN=iE(),KN=async(e,t,r,n)=>{let s=await(0,Ar.resolveParams)(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)};Ar.getEndpointFromInstructions=KN;var JN=async(e,t,r)=>{var n;let s={},i=((n=t?.getEndpointParameterInstructions)===null||n===void 0?void 0:n.call(t))||{};for(let[o,a]of Object.entries(i))switch(a.type){case"staticContextParams":s[o]=a.value;break;case"contextParams":s[o]=e[a.name];break;case"clientContextParams":case"builtInParams":s[o]=await(0,WN.createConfigValueProvider)(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(s,r),String(r.serviceId).toLowerCase()==="s3"&&await(0,VN.resolveParamsForS3)(s),s};Ar.resolveParams=JN});var oE=l(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.parseQueryString=void 0;function YN(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}Ea.parseQueryString=YN});var sn=l(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.parseUrl=void 0;var XN=oE(),QN=e=>{if(typeof e=="string")return(0,Bn.parseUrl)(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=(0,XN.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}};Bn.parseUrl=QN});var Hp=l(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.toEndpointV1=void 0;var aE=sn(),ZN=e=>typeof e=="object"?"url"in e?(0,aE.parseUrl)(e.url):e:(0,aE.parseUrl)(e);Sa.toEndpointV1=ZN});var dE=l(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});var cE=N();cE.__exportStar($p(),ba);cE.__exportStar(Hp(),ba)});var Gp=l(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.endpointMiddleware=void 0;var eM=$p(),tM=({config:e,instructions:t})=>(r,n)=>async s=>{var i,o;let a=await(0,eM.getEndpointFromInstructions)(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=a,n.authSchemes=(i=a.properties)===null||i===void 0?void 0:i.authSchemes;let c=(o=n.authSchemes)===null||o===void 0?void 0:o[0];return c&&(n.signing_region=c.signingRegion,n.signing_service=c.signingName),r({...s})};Pa.endpointMiddleware=tM});var Bp=l(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.deserializerMiddleware=void 0;var rM=(e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){throw Object.defineProperty(o,"$response",{value:i}),o}};Ia.deserializerMiddleware=rM});var Vp=l(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.serializerMiddleware=void 0;var nM=(e,t)=>(r,n)=>async s=>{var i;let o=((i=n.endpointV2)===null||i===void 0?void 0:i.url)&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})};Aa.serializerMiddleware=nM});var lE=l(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.getSerdePlugin=lt.serializerMiddlewareOption=lt.deserializerMiddlewareOption=void 0;var sM=Bp(),iM=Vp();lt.deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0};lt.serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function oM(e,t,r){return{applyToStack:n=>{n.add((0,sM.deserializerMiddleware)(e,r),lt.deserializerMiddlewareOption),n.add((0,iM.serializerMiddleware)(e,t),lt.serializerMiddlewareOption)}}}lt.getSerdePlugin=oM});var M=l(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var Wp=N();Wp.__exportStar(Bp(),Vn);Wp.__exportStar(lE(),Vn);Wp.__exportStar(Vp(),Vn)});var uE=l(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.getEndpointPlugin=Rr.endpointMiddlewareOptions=void 0;var aM=M(),cM=Gp();Rr.endpointMiddlewareOptions={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:aM.serializerMiddlewareOption.name};var dM=(e,t)=>({applyToStack:r=>{r.addRelativeTo((0,cM.endpointMiddleware)({config:e,instructions:t}),Rr.endpointMiddlewareOptions)}});Rr.getEndpointPlugin=dM});var fE=l(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.resolveEndpointConfig=void 0;var Kp=Er(),lM=Hp(),uM=e=>{var t,r,n;let s=(t=e.tls)!==null&&t!==void 0?t:!0,{endpoint:i}=e,o=i!=null?async()=>(0,lM.toEndpointV1)(await(0,Kp.normalizeProvider)(i)()):void 0;return{...e,endpoint:o,tls:s,isCustomEndpoint:!!i,useDualstackEndpoint:(0,Kp.normalizeProvider)((r=e.useDualstackEndpoint)!==null&&r!==void 0?r:!1),useFipsEndpoint:(0,Kp.normalizeProvider)((n=e.useFipsEndpoint)!==null&&n!==void 0?n:!1)}};Ra.resolveEndpointConfig=uM});var mE=l(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0})});var O=l(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});var Wn=N();Wn.__exportStar(dE(),Cr);Wn.__exportStar(Gp(),Cr);Wn.__exportStar(uE(),Cr);Wn.__exportStar(fE(),Cr);Wn.__exportStar(mE(),Cr)});var Ca=l(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.getHostHeaderPlugin=Ve.hostHeaderMiddlewareOptions=Ve.hostHeaderMiddleware=Ve.resolveHostHeaderConfig=void 0;var fM=ke();function pM(e){return e}Ve.resolveHostHeaderConfig=pM;var mM=e=>t=>async r=>{if(!fM.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};return s.indexOf("h2")>=0&&!n.headers[":authority"]?(delete n.headers.host,n.headers[":authority"]=""):n.headers.host||(n.headers.host=n.hostname),t(r)};Ve.hostHeaderMiddleware=mM;Ve.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};var hM=e=>({applyToStack:t=>{t.add((0,Ve.hostHeaderMiddleware)(e),Ve.hostHeaderMiddlewareOptions)}});Ve.getHostHeaderPlugin=hM});var hE=l(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.getLoggerPlugin=ut.loggerMiddlewareOptions=ut.loggerMiddleware=void 0;var _M=()=>(e,t)=>async r=>{let{clientName:n,commandName:s,inputFilterSensitiveLog:i,logger:o,outputFilterSensitiveLog:a}=t,c=await e(r);if(!o)return c;if(typeof o.info=="function"){let{$metadata:d,...u}=c.output;o.info({clientName:n,commandName:s,input:i(r.input),output:a(u),metadata:d})}return c};ut.loggerMiddleware=_M;ut.loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var yM=e=>({applyToStack:t=>{t.add((0,ut.loggerMiddleware)(),ut.loggerMiddlewareOptions)}});ut.getLoggerPlugin=yM});var Ta=l(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var gM=N();gM.__exportStar(hE(),Jp)});var xa=l(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.getRecursionDetectionPlugin=ft.addRecursionDetectionMiddlewareOptions=ft.recursionDetectionMiddleware=void 0;var wM=ke(),_E="X-Amzn-Trace-Id",vM="AWS_LAMBDA_FUNCTION_NAME",EM="_X_AMZN_TRACE_ID",SM=e=>t=>async r=>{let{request:n}=r;if(!wM.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(_E))return t(r);let s=process.env[vM],i=process.env[EM],o=a=>typeof a=="string"&&a.length>0;return o(s)&&o(i)&&(n.headers[_E]=i),t({...r,request:n})};ft.recursionDetectionMiddleware=SM;ft.addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var bM=e=>({applyToStack:t=>{t.add((0,ft.recursionDetectionMiddleware)(e),ft.addRecursionDetectionMiddlewareOptions)}});ft.getRecursionDetectionPlugin=bM});var Kn=l(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.DEFAULT_RETRY_MODE=jt.DEFAULT_MAX_ATTEMPTS=jt.RETRY_MODES=void 0;var yE;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(yE=jt.RETRY_MODES||(jt.RETRY_MODES={}));jt.DEFAULT_MAX_ATTEMPTS=3;jt.DEFAULT_RETRY_MODE=yE.STANDARD});var gE=l(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.NODEJS_TIMEOUT_ERROR_CODES=We.TRANSIENT_ERROR_STATUS_CODES=We.TRANSIENT_ERROR_CODES=We.THROTTLING_ERROR_CODES=We.CLOCK_SKEW_ERROR_CODES=void 0;We.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"];We.THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];We.TRANSIENT_ERROR_CODES=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"];We.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504];We.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var qa=l(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.isTransientError=pt.isThrottlingError=pt.isClockSkewError=pt.isRetryableByTrait=void 0;var Jn=gE(),PM=e=>e.$retryable!==void 0;pt.isRetryableByTrait=PM;var IM=e=>Jn.CLOCK_SKEW_ERROR_CODES.includes(e.name);pt.isClockSkewError=IM;var AM=e=>{var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||Jn.THROTTLING_ERROR_CODES.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0};pt.isThrottlingError=AM;var RM=e=>{var t;return Jn.TRANSIENT_ERROR_CODES.includes(e.name)||Jn.NODEJS_TIMEOUT_ERROR_CODES.includes(e?.code||"")||Jn.TRANSIENT_ERROR_STATUS_CODES.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)};pt.isTransientError=RM});var Xp=l(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.DefaultRateLimiter=void 0;var CM=qa(),Yp=class{constructor(t){var r,n,s,i,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r=t?.beta)!==null&&r!==void 0?r:.7,this.minCapacity=(n=t?.minCapacity)!==null&&n!==void 0?n:1,this.minFillRate=(s=t?.minFillRate)!==null&&s!==void 0?s:.5,this.scaleConstant=(i=t?.scaleConstant)!==null&&i!==void 0?i:.4,this.smooth=(o=t?.smooth)!==null&&o!==void 0?o:.8;let a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(!!this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,CM.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};Oa.DefaultRateLimiter=Yp});var Yn=l(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.REQUEST_HEADER=le.INVOCATION_ID_HEADER=le.NO_RETRY_INCREMENT=le.TIMEOUT_RETRY_COST=le.RETRY_COST=le.INITIAL_RETRY_TOKENS=le.THROTTLING_RETRY_DELAY_BASE=le.MAXIMUM_RETRY_DELAY=le.DEFAULT_RETRY_DELAY_BASE=void 0;le.DEFAULT_RETRY_DELAY_BASE=100;le.MAXIMUM_RETRY_DELAY=20*1e3;le.THROTTLING_RETRY_DELAY_BASE=500;le.INITIAL_RETRY_TOKENS=500;le.RETRY_COST=5;le.TIMEOUT_RETRY_COST=10;le.NO_RETRY_INCREMENT=1;le.INVOCATION_ID_HEADER="amz-sdk-invocation-id";le.REQUEST_HEADER="amz-sdk-request"});var wE=l(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.getDefaultRetryQuota=void 0;var Qp=Yn(),TM=(e,t)=>{var r,n,s;let i=e,o=(r=t?.noRetryIncrement)!==null&&r!==void 0?r:Qp.NO_RETRY_INCREMENT,a=(n=t?.retryCost)!==null&&n!==void 0?n:Qp.RETRY_COST,c=(s=t?.timeoutRetryCost)!==null&&s!==void 0?s:Qp.TIMEOUT_RETRY_COST,d=e,u=_=>_.name==="TimeoutError"?c:a,p=_=>u(_)<=d;return Object.freeze({hasRetryTokens:p,retrieveRetryTokens:_=>{if(!p(_))throw new Error("No retry token available");let y=u(_);return d-=y,y},releaseRetryTokens:_=>{d+=_??o,d=Math.min(d,i)}})};Na.getDefaultRetryQuota=TM});var Zp=l(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.defaultDelayDecider=void 0;var xM=Yn(),qM=(e,t)=>Math.floor(Math.min(xM.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e));Ma.defaultDelayDecider=qM});var em=l(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.defaultRetryDecider=void 0;var ka=qa(),OM=e=>e?(0,ka.isRetryableByTrait)(e)||(0,ka.isClockSkewError)(e)||(0,ka.isThrottlingError)(e)||(0,ka.isTransientError)(e):!1;ja.defaultRetryDecider=OM});var La=l(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.StandardRetryStrategy=void 0;var tm=ke(),NM=qa(),MM=Kf(),vE=Kn(),Xn=Yn(),kM=wE(),jM=Zp(),DM=em(),rm=class{constructor(t,r){var n,s,i;this.maxAttemptsProvider=t,this.mode=vE.RETRY_MODES.STANDARD,this.retryDecider=(n=r?.retryDecider)!==null&&n!==void 0?n:DM.defaultRetryDecider,this.delayDecider=(s=r?.delayDecider)!==null&&s!==void 0?s:jM.defaultDelayDecider,this.retryQuota=(i=r?.retryQuota)!==null&&i!==void 0?i:(0,kM.getDefaultRetryQuota)(Xn.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=vE.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,i=0,o=0,a=await this.getMaxAttempts(),{request:c}=r;for(tm.HttpRequest.isInstance(c)&&(c.headers[Xn.INVOCATION_ID_HEADER]=(0,MM.v4)());;)try{tm.HttpRequest.isInstance(c)&&(c.headers[Xn.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:u}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(s),u.$metadata.attempts=i+1,u.$metadata.totalRetryDelay=o,{response:d,output:u}}catch(d){let u=FM(d);if(i++,this.shouldRetry(u,i,a)){s=this.retryQuota.retrieveRetryTokens(u);let p=this.delayDecider((0,NM.isThrottlingError)(u)?Xn.THROTTLING_RETRY_DELAY_BASE:Xn.DEFAULT_RETRY_DELAY_BASE,i),f=LM(u.$response),h=Math.max(f||0,p);o+=h,await new Promise(_=>setTimeout(_,h));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=i,u.$metadata.totalRetryDelay=o,u}}};Da.StandardRetryStrategy=rm;var LM=e=>{if(!tm.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},FM=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`)});var sm=l(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.AdaptiveRetryStrategy=void 0;var zM=Kn(),UM=Xp(),$M=La(),nm=class extends $M.StandardRetryStrategy{constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new UM.DefaultRateLimiter,this.mode=zM.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};Fa.AdaptiveRetryStrategy=nm});var SE=l(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.NODE_RETRY_MODE_CONFIG_OPTIONS=se.CONFIG_RETRY_MODE=se.ENV_RETRY_MODE=se.resolveRetryConfig=se.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=se.CONFIG_MAX_ATTEMPTS=se.ENV_MAX_ATTEMPTS=void 0;var EE=Er(),HM=sm(),za=Kn(),GM=La();se.ENV_MAX_ATTEMPTS="AWS_MAX_ATTEMPTS";se.CONFIG_MAX_ATTEMPTS="max_attempts";se.NODE_MAX_ATTEMPT_CONFIG_OPTIONS={environmentVariableSelector:e=>{let t=e[se.ENV_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${se.ENV_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[se.CONFIG_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${se.CONFIG_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},default:za.DEFAULT_MAX_ATTEMPTS};var BM=e=>{var t;let r=(0,EE.normalizeProvider)((t=e.maxAttempts)!==null&&t!==void 0?t:za.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>e.retryStrategy?e.retryStrategy:await(0,EE.normalizeProvider)(e.retryMode)()===za.RETRY_MODES.ADAPTIVE?new HM.AdaptiveRetryStrategy(r):new GM.StandardRetryStrategy(r)}};se.resolveRetryConfig=BM;se.ENV_RETRY_MODE="AWS_RETRY_MODE";se.CONFIG_RETRY_MODE="retry_mode";se.NODE_RETRY_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[se.ENV_RETRY_MODE],configFileSelector:e=>e[se.CONFIG_RETRY_MODE],default:za.DEFAULT_RETRY_MODE}});var PE=l(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.getOmitRetryHeadersPlugin=mt.omitRetryHeadersMiddlewareOptions=mt.omitRetryHeadersMiddleware=void 0;var VM=ke(),bE=Yn(),WM=()=>e=>async t=>{let{request:r}=t;return VM.HttpRequest.isInstance(r)&&(delete r.headers[bE.INVOCATION_ID_HEADER],delete r.headers[bE.REQUEST_HEADER]),e(t)};mt.omitRetryHeadersMiddleware=WM;mt.omitRetryHeadersMiddlewareOptions={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0};var KM=e=>({applyToStack:t=>{t.addRelativeTo((0,mt.omitRetryHeadersMiddleware)(),mt.omitRetryHeadersMiddlewareOptions)}});mt.getOmitRetryHeadersPlugin=KM});var IE=l(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.getRetryPlugin=ht.retryMiddlewareOptions=ht.retryMiddleware=void 0;var JM=e=>(t,r)=>async n=>{let s=await e.retryStrategy();return s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)};ht.retryMiddleware=JM;ht.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0};var YM=e=>({applyToStack:t=>{t.add((0,ht.retryMiddleware)(e),ht.retryMiddlewareOptions)}});ht.getRetryPlugin=YM});var RE=l(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0})});var Tr=l(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});var _t=N();_t.__exportStar(sm(),Ke);_t.__exportStar(Xp(),Ke);_t.__exportStar(La(),Ke);_t.__exportStar(Kn(),Ke);_t.__exportStar(SE(),Ke);_t.__exportStar(Zp(),Ke);_t.__exportStar(PE(),Ke);_t.__exportStar(em(),Ke);_t.__exportStar(IE(),Ke);_t.__exportStar(RE(),Ke)});var Zn=l(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.ProviderError=void 0;var Qn=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,Qn.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Ua.ProviderError=Qn});var CE=l($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.CredentialsProviderError=void 0;var XM=Zn(),es=class extends XM.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,es.prototype)}};$a.CredentialsProviderError=es});var TE=l(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.TokenProviderError=void 0;var QM=Zn(),ts=class extends QM.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,ts.prototype)}};Ha.TokenProviderError=ts});var xE=l(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.chain=void 0;var ZM=Zn();function ek(...e){return()=>{let t=Promise.reject(new ZM.ProviderError("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n?.tryNextLink)return r();throw n});return t}}Ga.chain=ek});var qE=l(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.fromStatic=void 0;var tk=e=>()=>Promise.resolve(e);Ba.fromStatic=tk});var OE=l(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.memoize=void 0;var rk=(e,t,r)=>{let n,s,i,o=!1,a=async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))};Va.memoize=rk});var B=l(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});var on=N();on.__exportStar(CE(),Zt);on.__exportStar(Zn(),Zt);on.__exportStar(TE(),Zt);on.__exportStar(xE(),Zt);on.__exportStar(qE(),Zt);on.__exportStar(OE(),Zt)});var ME=l(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.resolveSigV4AuthConfig=cn.resolveAwsAuthConfig=void 0;var nk=B(),im=Cp(),an=Er(),sk=3e5,ik=e=>{let t=e.credentials?NE(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e,i;return e.signer?i=(0,an.normalizeProvider)(e.signer):e.regionInfoProvider?i=()=>(0,an.normalizeProvider)(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{let{signingRegion:c,signingService:d}=o;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let u={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},p=e.signerConstructor||im.SignatureV4;return new p(u)}):i=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,an.normalizeProvider)(e.region)(),properties:{}},o);let a=o.signingRegion,c=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},u=e.signerConstructor||im.SignatureV4;return new u(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}};cn.resolveAwsAuthConfig=ik;var ok=e=>{let t=e.credentials?NE(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e,i;return e.signer?i=(0,an.normalizeProvider)(e.signer):i=(0,an.normalizeProvider)(new im.SignatureV4({credentials:t,region:e.region,service:e.signingName,sha256:s,uriEscapePath:r})),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}};cn.resolveSigV4AuthConfig=ok;var NE=e=>typeof e=="function"?(0,nk.memoize)(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<sk,t=>t.expiration!==void 0):(0,an.normalizeProvider)(e)});var om=l(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.getSkewCorrectedDate=void 0;var ak=e=>new Date(Date.now()+e);Wa.getSkewCorrectedDate=ak});var kE=l(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.isClockSkewed=void 0;var ck=om(),dk=(e,t)=>Math.abs((0,ck.getSkewCorrectedDate)(t).getTime()-e)>=3e5;Ka.isClockSkewed=dk});var jE=l(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.getUpdatedSystemClockOffset=void 0;var lk=kE(),uk=(e,t)=>{let r=Date.parse(e);return(0,lk.isClockSkewed)(r,t)?r-Date.now():t};Ja.getUpdatedSystemClockOffset=uk});var zE=l(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.getSigV4AuthPlugin=je.getAwsAuthPlugin=je.awsAuthMiddlewareOptions=je.awsAuthMiddleware=void 0;var FE=ke(),fk=om(),DE=jE(),pk=e=>(t,r)=>async function(n){var s,i,o,a;if(!FE.HttpRequest.isInstance(n.request))return t(n);let c=(o=(i=(s=r.endpointV2)===null||s===void 0?void 0:s.properties)===null||i===void 0?void 0:i.authSchemes)===null||o===void 0?void 0:o[0],d=c?.name==="sigv4a"?(a=c?.signingRegionSet)===null||a===void 0?void 0:a.join(","):void 0,u=await e.signer(c),p=await t({...n,request:await u.sign(n.request,{signingDate:(0,fk.getSkewCorrectedDate)(e.systemClockOffset),signingRegion:d||r.signing_region,signingService:r.signing_service})}).catch(h=>{var _;let y=(_=h.ServerTime)!==null&&_!==void 0?_:LE(h.$response);throw y&&(e.systemClockOffset=(0,DE.getUpdatedSystemClockOffset)(y,e.systemClockOffset)),h}),f=LE(p.response);return f&&(e.systemClockOffset=(0,DE.getUpdatedSystemClockOffset)(f,e.systemClockOffset)),p};je.awsAuthMiddleware=pk;var LE=e=>{var t,r,n;return FE.HttpResponse.isInstance(e)?(r=(t=e.headers)===null||t===void 0?void 0:t.date)!==null&&r!==void 0?r:(n=e.headers)===null||n===void 0?void 0:n.Date:void 0};je.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};var mk=e=>({applyToStack:t=>{t.addRelativeTo((0,je.awsAuthMiddleware)(e),je.awsAuthMiddlewareOptions)}});je.getAwsAuthPlugin=mk;je.getSigV4AuthPlugin=je.getAwsAuthPlugin});var $=l(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});var UE=N();UE.__exportStar(ME(),Ya);UE.__exportStar(zE(),Ya)});var $E=l(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.resolveUserAgentConfig=void 0;function hk(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Xa.resolveUserAgentConfig=hk});var HE=l(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.UA_ESCAPE_REGEX=yt.SPACE=yt.X_AMZ_USER_AGENT=yt.USER_AGENT=void 0;yt.USER_AGENT="user-agent";yt.X_AMZ_USER_AGENT="x-amz-user-agent";yt.SPACE=" ";yt.UA_ESCAPE_REGEX=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g});var GE=l(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.getUserAgentPlugin=gt.getUserAgentMiddlewareOptions=gt.userAgentMiddleware=void 0;var _k=ke(),er=HE(),yk=e=>(t,r)=>async n=>{var s,i;let{request:o}=n;if(!_k.HttpRequest.isInstance(o))return t(n);let{headers:a}=o,c=((s=r?.userAgent)===null||s===void 0?void 0:s.map(am))||[],d=(await e.defaultUserAgentProvider()).map(am),u=((i=e?.customUserAgent)===null||i===void 0?void 0:i.map(am))||[],p=[...d,...c,...u].join(er.SPACE),f=[...d.filter(h=>h.startsWith("aws-sdk-")),...u].join(er.SPACE);return e.runtime!=="browser"?(f&&(a[er.X_AMZ_USER_AGENT]=a[er.X_AMZ_USER_AGENT]?`${a[er.USER_AGENT]} ${f}`:f),a[er.USER_AGENT]=p):a[er.X_AMZ_USER_AGENT]=p,t({...n,request:o})};gt.userAgentMiddleware=yk;var am=([e,t])=>{let r=e.indexOf("/"),n=e.substring(0,r),s=e.substring(r+1);return n==="api"&&(s=s.toLowerCase()),[n,s,t].filter(i=>i&&i.length>0).map(i=>i?.replace(er.UA_ESCAPE_REGEX,"_")).join("/")};gt.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var gk=e=>({applyToStack:t=>{t.add((0,gt.userAgentMiddleware)(e),gt.getUserAgentMiddlewareOptions)}});gt.getUserAgentPlugin=gk});var Za=l(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});var BE=N();BE.__exportStar($E(),Qa);BE.__exportStar(GE(),Qa)});var KE=l(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.constructStack=void 0;var wk=()=>{let e=[],t=[],r=new Set,n=u=>u.sort((p,f)=>VE[f.step]-VE[p.step]||WE[f.priority||"normal"]-WE[p.priority||"normal"]),s=u=>{let p=!1,f=h=>h.name&&h.name===u?(p=!0,r.delete(u),!1):!0;return e=e.filter(f),t=t.filter(f),p},i=u=>{let p=!1,f=h=>h.middleware===u?(p=!0,h.name&&r.delete(h.name),!1):!0;return e=e.filter(f),t=t.filter(f),p},o=u=>(e.forEach(p=>{u.add(p.middleware,{...p})}),t.forEach(p=>{u.addRelativeTo(p.middleware,{...p})}),u),a=u=>{let p=[];return u.before.forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...a(f))}),p.push(u),u.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...a(f))}),p},c=(u=!1)=>{let p=[],f=[],h={};return e.forEach(y=>{let g={...y,before:[],after:[]};g.name&&(h[g.name]=g),p.push(g)}),t.forEach(y=>{let g={...y,before:[],after:[]};g.name&&(h[g.name]=g),f.push(g)}),f.forEach(y=>{if(y.toMiddleware){let g=h[y.toMiddleware];if(g===void 0){if(u)return;throw new Error(`${y.toMiddleware} is not found when adding ${y.name||"anonymous"} middleware ${y.relation} ${y.toMiddleware}`)}y.relation==="after"&&g.after.push(y),y.relation==="before"&&g.before.push(y)}}),n(p).map(a).reduce((y,g)=>(y.push(...g),y),[])},d={add:(u,p={})=>{let{name:f,override:h}=p,_={step:"initialize",priority:"normal",middleware:u,...p};if(f){if(r.has(f)){if(!h)throw new Error(`Duplicate middleware name '${f}'`);let y=e.findIndex(b=>b.name===f),g=e[y];if(g.step!==_.step||g.priority!==_.priority)throw new Error(`"${f}" middleware with ${g.priority} priority in ${g.step} step cannot be overridden by same-name middleware with ${_.priority} priority in ${_.step} step.`);e.splice(y,1)}r.add(f)}e.push(_)},addRelativeTo:(u,p)=>{let{name:f,override:h}=p,_={middleware:u,...p};if(f){if(r.has(f)){if(!h)throw new Error(`Duplicate middleware name '${f}'`);let y=t.findIndex(b=>b.name===f),g=t[y];if(g.toMiddleware!==_.toMiddleware||g.relation!==_.relation)throw new Error(`"${f}" middleware ${g.relation} "${g.toMiddleware}" middleware cannot be overridden by same-name middleware ${_.relation} "${_.toMiddleware}" middleware.`);t.splice(y,1)}r.add(f)}t.push(_)},clone:()=>o((0,dn.constructStack)()),use:u=>{u.applyToStack(d)},remove:u=>typeof u=="string"?s(u):i(u),removeByTag:u=>{let p=!1,f=h=>{let{tags:_,name:y}=h;return _&&_.includes(u)?(y&&r.delete(y),p=!0,!1):!0};return e=e.filter(f),t=t.filter(f),p},concat:u=>{let p=o((0,dn.constructStack)());return p.use(u),p},applyToStack:o,identify:()=>c(!0).map(u=>u.name+": "+(u.tags||[]).join(",")),resolve:(u,p)=>{for(let f of c().map(h=>h.middleware).reverse())u=f(u,p);return u}};return d};dn.constructStack=wk;var VE={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},WE={high:3,normal:2,low:1}});var dm=l(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});var vk=N();vk.__exportStar(KE(),cm)});var JE=l(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.Client=void 0;var Ek=dm(),lm=class{constructor(t){this.middlewareStack=(0,Ek.constructStack)(),this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,s);if(i)o(t).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};ec.Client=lm});var YE=l(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.Command=void 0;var Sk=dm(),um=class{constructor(){this.middlewareStack=(0,Sk.constructStack)()}};tc.Command=um});var XE=l(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.SENSITIVE_STRING=void 0;rc.SENSITIVE_STRING="***SensitiveInformation***"});var pm=l(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.logger=I.strictParseByte=I.strictParseShort=I.strictParseInt32=I.strictParseInt=I.strictParseLong=I.limitedParseFloat32=I.limitedParseFloat=I.handleFloat=I.limitedParseDouble=I.strictParseFloat32=I.strictParseFloat=I.strictParseDouble=I.expectUnion=I.expectString=I.expectObject=I.expectNonNull=I.expectByte=I.expectShort=I.expectInt32=I.expectInt=I.expectLong=I.expectFloat32=I.expectNumber=I.expectBoolean=I.parseBoolean=void 0;var bk=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};I.parseBoolean=bk;var Pk=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&I.logger.warn(nc(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&I.logger.warn(nc(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}};I.expectBoolean=Pk;var Ik=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&I.logger.warn(nc(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}};I.expectNumber=Ik;var Ak=Math.ceil(2**127*(2-2**-23)),Rk=e=>{let t=(0,I.expectNumber)(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>Ak)throw new TypeError(`Expected 32-bit float, got ${e}`);return t};I.expectFloat32=Rk;var Ck=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};I.expectLong=Ck;I.expectInt=I.expectLong;var Tk=e=>fm(e,32);I.expectInt32=Tk;var xk=e=>fm(e,16);I.expectShort=xk;var qk=e=>fm(e,8);I.expectByte=qk;var fm=(e,t)=>{let r=(0,I.expectLong)(e);if(r!==void 0&&Ok(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Ok=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Nk=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e};I.expectNonNull=Nk;var Mk=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)};I.expectObject=Mk;var kk=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return I.logger.warn(nc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};I.expectString=kk;var jk=e=>{if(e==null)return;let t=(0,I.expectObject)(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t};I.expectUnion=jk;var Dk=e=>typeof e=="string"?(0,I.expectNumber)(ln(e)):(0,I.expectNumber)(e);I.strictParseDouble=Dk;I.strictParseFloat=I.strictParseDouble;var Lk=e=>typeof e=="string"?(0,I.expectFloat32)(ln(e)):(0,I.expectFloat32)(e);I.strictParseFloat32=Lk;var Fk=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ln=e=>{let t=e.match(Fk);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},zk=e=>typeof e=="string"?QE(e):(0,I.expectNumber)(e);I.limitedParseDouble=zk;I.handleFloat=I.limitedParseDouble;I.limitedParseFloat=I.limitedParseDouble;var Uk=e=>typeof e=="string"?QE(e):(0,I.expectFloat32)(e);I.limitedParseFloat32=Uk;var QE=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},$k=e=>typeof e=="string"?(0,I.expectLong)(ln(e)):(0,I.expectLong)(e);I.strictParseLong=$k;I.strictParseInt=I.strictParseLong;var Hk=e=>typeof e=="string"?(0,I.expectInt32)(ln(e)):(0,I.expectInt32)(e);I.strictParseInt32=Hk;var Gk=e=>typeof e=="string"?(0,I.expectShort)(ln(e)):(0,I.expectShort)(e);I.strictParseShort=Gk;var Bk=e=>typeof e=="string"?(0,I.expectByte)(ln(e)):(0,I.expectByte)(e);I.strictParseByte=Bk;var nc=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`);I.logger={warn:console.warn}});var ZE=l(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.parseEpochTimestamp=wt.parseRfc7231DateTime=wt.parseRfc3339DateTime=wt.dateToUtcString=void 0;var xr=pm(),Vk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],hm=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Wk(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,u=o<10?`0${o}`:`${o}`,p=a<10?`0${a}`:`${a}`;return`${Vk[n]}, ${c} ${hm[r]} ${t} ${d}:${u}:${p} GMT`}wt.dateToUtcString=Wk;var Kk=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Jk=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Kk.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,d]=t,u=(0,xr.strictParseShort)(rs(n)),p=tr(s,"month",1,12),f=tr(i,"day",1,31);return sc(u,p,f,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d})};wt.parseRfc3339DateTime=Jk;var Yk=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Xk=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Qk=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Zk=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Yk.exec(e);if(t){let[r,n,s,i,o,a,c,d]=t;return sc((0,xr.strictParseShort)(rs(i)),mm(s),tr(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=Xk.exec(e),t){let[r,n,s,i,o,a,c,d]=t;return nj(sc(tj(i),mm(s),tr(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=Qk.exec(e),t){let[r,n,s,i,o,a,c,d]=t;return sc((0,xr.strictParseShort)(rs(d)),mm(n),tr(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")};wt.parseRfc7231DateTime=Zk;var ej=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=(0,xr.strictParseDouble)(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))};wt.parseEpochTimestamp=ej;var sc=(e,t,r,n)=>{let s=t-1;return ij(e,s,r),new Date(Date.UTC(e,s,r,tr(n.hours,"hour",0,23),tr(n.minutes,"minute",0,59),tr(n.seconds,"seconds",0,60),aj(n.fractionalMilliseconds)))},tj=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+(0,xr.strictParseShort)(rs(e));return r<t?r+100:r},rj=50*365*24*60*60*1e3,nj=e=>e.getTime()-new Date().getTime()>rj?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,mm=e=>{let t=hm.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},sj=[31,28,31,30,31,30,31,31,30,31,30,31],ij=(e,t,r)=>{let n=sj[t];if(t===1&&oj(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${hm[t]} in ${e}: ${r}`)},oj=e=>e%4===0&&(e%100!==0||e%400===0),tr=(e,t,r,n)=>{let s=(0,xr.strictParseByte)(rs(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},aj=e=>e==null?0:(0,xr.strictParseFloat32)("0."+e)*1e3,rs=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var _m=l(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.decorateServiceException=un.ServiceException=void 0;var ns=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,ns.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};un.ServiceException=ns;var cj=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};un.decorateServiceException=cj});var eS=l(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.throwDefaultError=void 0;var dj=_m(),lj=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=uj(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t.code||t.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw(0,dj.decorateServiceException)(o,t)};ic.throwDefaultError=lj;var uj=e=>{var t;return{httpStatusCode:e.statusCode,requestId:(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}});var tS=l(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.loadConfigsForDefaultMode=void 0;var fj=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};oc.loadConfigsForDefaultMode=fj});var nS=l(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.emitWarningIfUnsupportedVersion=void 0;var rS=!1,pj=e=>{e&&!rS&&parseInt(e.substring(1,e.indexOf(".")))<14&&(rS=!0)};ac.emitWarningIfUnsupportedVersion=pj});var ym=l(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.extendedEncodeURIComponent=void 0;function mj(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}cc.extendedEncodeURIComponent=mj});var sS=l(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.getArrayIfSingleItem=void 0;var hj=e=>Array.isArray(e)?e:[e];dc.getArrayIfSingleItem=hj});var iS=l(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.getValueFromTextNode=void 0;var _j=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=(0,ss.getValueFromTextNode)(e[r]));return e};ss.getValueFromTextNode=_j});var oS=l(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.LazyJsonString=vt.StringWrapper=void 0;var yj=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};vt.StringWrapper=yj;vt.StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:vt.StringWrapper,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(vt.StringWrapper,String);var qr=class extends vt.StringWrapper{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof qr?t:t instanceof String||typeof t=="string"?new qr(t):new qr(JSON.stringify(t))}};vt.LazyJsonString=qr});var cS=l(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.convertMap=fn.map=void 0;function aS(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,wj(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}let[a,c]=i[o];if(typeof c=="function"){let d,u=a===void 0&&(d=c())!=null,p=typeof a=="function"&&!!a(void 0)||typeof a!="function"&&!!a;u?n[o]=d:p&&(n[o]=c())}else{let d=a===void 0&&c!=null,u=typeof a=="function"&&!!a(c)||typeof a!="function"&&!!a;(d||u)&&(n[o]=c)}}return n}fn.map=aS;var gj=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t};fn.convertMap=gj;var wj=(e,t,r)=>aS(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{}))});var lS=l(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.resolvedPath=void 0;var dS=ym(),vj=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>(0,dS.extendedEncodeURIComponent)(a)).join("/"):(0,dS.extendedEncodeURIComponent)(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};lc.resolvedPath=vj});var uS=l(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.serializeFloat=void 0;var Ej=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};uc.serializeFloat=Ej});var fS=l(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.splitEvery=void 0;function Sj(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}fc.splitEvery=Sj});var x=l(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});var we=N();we.__exportStar(JE(),me);we.__exportStar(YE(),me);we.__exportStar(XE(),me);we.__exportStar(ZE(),me);we.__exportStar(eS(),me);we.__exportStar(tS(),me);we.__exportStar(nS(),me);we.__exportStar(_m(),me);we.__exportStar(ym(),me);we.__exportStar(sS(),me);we.__exportStar(iS(),me);we.__exportStar(oS(),me);we.__exportStar(cS(),me);we.__exportStar(pm(),me);we.__exportStar(lS(),me);we.__exportStar(uS(),me);we.__exportStar(fS(),me)});var pS=l(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.resolveClientEndpointParameters=void 0;var bj=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"});pc.resolveClientEndpointParameters=bj});var mS=l((FQ,Pj)=>{Pj.exports={name:"@aws-sdk/client-cognito-identity",description:"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",version:"3.202.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"2.0.0","@aws-crypto/sha256-js":"2.0.0","@aws-sdk/client-sts":"3.202.0","@aws-sdk/config-resolver":"3.201.0","@aws-sdk/credential-provider-node":"3.202.0","@aws-sdk/fetch-http-handler":"3.201.0","@aws-sdk/hash-node":"3.201.0","@aws-sdk/invalid-dependency":"3.201.0","@aws-sdk/middleware-content-length":"3.201.0","@aws-sdk/middleware-endpoint":"3.201.0","@aws-sdk/middleware-host-header":"3.201.0","@aws-sdk/middleware-logger":"3.201.0","@aws-sdk/middleware-recursion-detection":"3.201.0","@aws-sdk/middleware-retry":"3.201.0","@aws-sdk/middleware-serde":"3.201.0","@aws-sdk/middleware-signing":"3.201.0","@aws-sdk/middleware-stack":"3.201.0","@aws-sdk/middleware-user-agent":"3.201.0","@aws-sdk/node-config-provider":"3.201.0","@aws-sdk/node-http-handler":"3.201.0","@aws-sdk/protocol-http":"3.201.0","@aws-sdk/smithy-client":"3.201.0","@aws-sdk/types":"3.201.0","@aws-sdk/url-parser":"3.201.0","@aws-sdk/util-base64-browser":"3.188.0","@aws-sdk/util-base64-node":"3.201.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.201.0","@aws-sdk/util-defaults-mode-browser":"3.201.0","@aws-sdk/util-defaults-mode-node":"3.201.0","@aws-sdk/util-endpoints":"3.202.0","@aws-sdk/util-user-agent-browser":"3.201.0","@aws-sdk/util-user-agent-node":"3.201.0","@aws-sdk/util-utf8-browser":"3.188.0","@aws-sdk/util-utf8-node":"3.201.0",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/client-iam":"3.202.0","@aws-sdk/service-client-documentation-generator":"3.188.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"}}});var hc=l(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.STSServiceException=void 0;var Ij=x(),is=class extends Ij.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,is.prototype)}};mc.STSServiceException=is});var nt=l(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.GetSessionTokenResponseFilterSensitiveLog=C.GetSessionTokenRequestFilterSensitiveLog=C.GetFederationTokenResponseFilterSensitiveLog=C.FederatedUserFilterSensitiveLog=C.GetFederationTokenRequestFilterSensitiveLog=C.GetCallerIdentityResponseFilterSensitiveLog=C.GetCallerIdentityRequestFilterSensitiveLog=C.GetAccessKeyInfoResponseFilterSensitiveLog=C.GetAccessKeyInfoRequestFilterSensitiveLog=C.DecodeAuthorizationMessageResponseFilterSensitiveLog=C.DecodeAuthorizationMessageRequestFilterSensitiveLog=C.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=C.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=C.AssumeRoleWithSAMLResponseFilterSensitiveLog=C.AssumeRoleWithSAMLRequestFilterSensitiveLog=C.AssumeRoleResponseFilterSensitiveLog=C.CredentialsFilterSensitiveLog=C.AssumeRoleRequestFilterSensitiveLog=C.TagFilterSensitiveLog=C.PolicyDescriptorTypeFilterSensitiveLog=C.AssumedRoleUserFilterSensitiveLog=C.InvalidAuthorizationMessageException=C.IDPCommunicationErrorException=C.InvalidIdentityTokenException=C.IDPRejectedClaimException=C.RegionDisabledException=C.PackedPolicyTooLargeException=C.MalformedPolicyDocumentException=C.ExpiredTokenException=void 0;var rr=hc(),os=class extends rr.STSServiceException{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,os.prototype)}};C.ExpiredTokenException=os;var as=class extends rr.STSServiceException{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,as.prototype)}};C.MalformedPolicyDocumentException=as;var cs=class extends rr.STSServiceException{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,cs.prototype)}};C.PackedPolicyTooLargeException=cs;var ds=class extends rr.STSServiceException{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,ds.prototype)}};C.RegionDisabledException=ds;var ls=class extends rr.STSServiceException{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,ls.prototype)}};C.IDPRejectedClaimException=ls;var us=class extends rr.STSServiceException{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,us.prototype)}};C.InvalidIdentityTokenException=us;var fs=class extends rr.STSServiceException{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,fs.prototype)}};C.IDPCommunicationErrorException=fs;var ps=class extends rr.STSServiceException{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,ps.prototype)}};C.InvalidAuthorizationMessageException=ps;var Aj=e=>({...e});C.AssumedRoleUserFilterSensitiveLog=Aj;var Rj=e=>({...e});C.PolicyDescriptorTypeFilterSensitiveLog=Rj;var Cj=e=>({...e});C.TagFilterSensitiveLog=Cj;var Tj=e=>({...e});C.AssumeRoleRequestFilterSensitiveLog=Tj;var xj=e=>({...e});C.CredentialsFilterSensitiveLog=xj;var qj=e=>({...e});C.AssumeRoleResponseFilterSensitiveLog=qj;var Oj=e=>({...e});C.AssumeRoleWithSAMLRequestFilterSensitiveLog=Oj;var Nj=e=>({...e});C.AssumeRoleWithSAMLResponseFilterSensitiveLog=Nj;var Mj=e=>({...e});C.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=Mj;var kj=e=>({...e});C.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=kj;var jj=e=>({...e});C.DecodeAuthorizationMessageRequestFilterSensitiveLog=jj;var Dj=e=>({...e});C.DecodeAuthorizationMessageResponseFilterSensitiveLog=Dj;var Lj=e=>({...e});C.GetAccessKeyInfoRequestFilterSensitiveLog=Lj;var Fj=e=>({...e});C.GetAccessKeyInfoResponseFilterSensitiveLog=Fj;var zj=e=>({...e});C.GetCallerIdentityRequestFilterSensitiveLog=zj;var Uj=e=>({...e});C.GetCallerIdentityResponseFilterSensitiveLog=Uj;var $j=e=>({...e});C.GetFederationTokenRequestFilterSensitiveLog=$j;var Hj=e=>({...e});C.FederatedUserFilterSensitiveLog=Hj;var Gj=e=>({...e});C.GetFederationTokenResponseFilterSensitiveLog=Gj;var Bj=e=>({...e});C.GetSessionTokenRequestFilterSensitiveLog=Bj;var Vj=e=>({...e});C.GetSessionTokenResponseFilterSensitiveLog=Vj});var gm=l(Dt=>{"use strict";var hS=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Wj=hS+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",_S="["+hS+"]["+Wj+"]*",Kj=new RegExp("^"+_S+"$"),Jj=function(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let o=0;o<i;o++)s.push(n[o]);r.push(s),n=t.exec(e)}return r},Yj=function(e){let t=Kj.exec(e);return!(t===null||typeof t>"u")};Dt.isExist=function(e){return typeof e<"u"};Dt.isEmptyObject=function(e){return Object.keys(e).length===0};Dt.merge=function(e,t,r){if(t){let n=Object.keys(t),s=n.length;for(let i=0;i<s;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};Dt.getValue=function(e){return Dt.isExist(e)?e:""};Dt.isName=Yj;Dt.getAllMatches=Jj;Dt.nameRegexp=_S});var vm=l(ES=>{"use strict";var wm=gm(),Xj={allowBooleanAttributes:!1,unpairedTags:[]};ES.validate=function(e,t){t=Object.assign({},Xj,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=gS(e,i),i.err)return i}else if(e[i]==="<"){let o=i;if(i++,e[i]==="!"){i=wS(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!iD(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",ue("InvalidTag",p,qe(e,i))}let d=eD(e,i);if(d===!1)return ue("InvalidAttr","Attributes for '"+c+"' have open quote.",qe(e,i));let u=d.value;if(i=d.index,u[u.length-1]==="/"){let p=i-u.length;u=u.substring(0,u.length-1);let f=vS(u,t);if(f===!0)n=!0;else return ue(f.err.code,f.err.msg,qe(e,p+f.err.line))}else if(a)if(d.tagClosed){if(u.trim().length>0)return ue("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",qe(e,o));{let p=r.pop();if(c!==p.tagName){let f=qe(e,p.tagStartPos);return ue("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",qe(e,o))}r.length==0&&(s=!0)}}else return ue("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",qe(e,i));else{let p=vS(u,t);if(p!==!0)return ue(p.err.code,p.err.msg,qe(e,i-u.length+p.err.line));if(s===!0)return ue("InvalidXml","Multiple possible root nodes found.",qe(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=wS(e,i);continue}else if(e[i+1]==="?"){if(i=gS(e,++i),i.err)return i}else break;else if(e[i]==="&"){let p=nD(e,i);if(p==-1)return ue("InvalidChar","char '&' is not expected.",qe(e,i));i=p}else if(s===!0&&!yS(e[i]))return ue("InvalidXml","Extra text at the end",qe(e,i));e[i]==="<"&&i--}}else{if(yS(e[i]))continue;return ue("InvalidChar","char '"+e[i]+"' is not expected.",qe(e,i))}if(n){if(r.length==1)return ue("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",qe(e,r[0].tagStartPos));if(r.length>0)return ue("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ue("InvalidXml","Start tag expected.",1);return!0};function yS(e){return e===" "||e==="	"||e===`
`||e==="\r"}function gS(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ue("InvalidXml","XML declaration allowed only at the start of the document.",qe(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function wS(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var Qj='"',Zj="'";function eD(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===Qj||e[t]===Zj)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}var tD=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function vS(e,t){let r=wm.getAllMatches(e,tD),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return ue("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",ms(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return ue("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",ms(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return ue("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",ms(r[s]));let i=r[s][2];if(!sD(i))return ue("InvalidAttr","Attribute '"+i+"' is an invalid name.",ms(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return ue("InvalidAttr","Attribute '"+i+"' is repeated.",ms(r[s]))}return!0}function rD(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function nD(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,rD(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ue(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function sD(e){return wm.isName(e)}function iD(e){return wm.isName(e)}function qe(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ms(e){return e.startIndex+e[1].length}});var bS=l(Em=>{var SS={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1},oD=function(e){return Object.assign({},SS,e)};Em.buildOptions=oD;Em.defaultOptions=SS});var IS=l((BQ,PS)=>{"use strict";var Sm=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){this.child.push({[t]:r})}addChild(t){t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};PS.exports=Sm});var RS=l((VQ,AS)=>{function aD(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,i=!1,o=!1,a="";for(;t<e.length;t++)if(e[t]==="<"){if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,i=!0;else if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")o=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(o)if(e[t-1]==="-"&&e[t-2]==="-")o=!1;else throw new Error("Invalid XML comment in DOCTYPE");else i&&(dD(a,r),i=!1);if(n--,n===0)break}else e[t]==="["?s=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}var cD=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function dD(e,t){let r=cD.exec(e);r&&(t[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}AS.exports=aD});var TS=l((WQ,CS)=>{var lD=/^[-+]?0x[a-fA-F0-9]+$/,uD=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var fD={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function pD(e,t={}){if(t=Object.assign({},fD,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&lD.test(r))return Number.parseInt(r,16);{let n=uD.exec(r);if(n){let s=n[1],i=n[2],o=mD(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&i.length>0&&s&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!s&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&o===""||d===o||s&&d==="-"+o?c:e:i?o===d||s+o===d?c:e:r===d||r===s+d?c:e}}else return e}}function mD(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}CS.exports=pD});var qS=l((JQ,xS)=>{"use strict";var Am=gm(),hs=IS(),hD=RS(),_D=TS(),KQ="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Am.nameRegexp),bm=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=yD,this.parseXml=SD,this.parseTextData=gD,this.resolveNameSpace=wD,this.buildAttributesMap=ED,this.isItStopNode=ID,this.replaceEntitiesValue=bD,this.readStopNodeData=RD,this.saveTextToParentTag=PD}};function yD(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function gD(e,t,r,n,s,i,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Im(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Im(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function wD(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var vD=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function ED(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let r=Am.getAllMatches(e,vD),n=r.length,s={};for(let i=0;i<n;i++){let o=this.resolveNameSpace(r[i][1]),a=r[i][4],c=this.options.attributeNamePrefix+o;if(o.length)if(a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(o,a,t);d==null?s[c]=a:typeof d!=typeof a||d!==a?s[c]=d:s[c]=Im(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}var SD=function(e){e=e.replace(/\r\n?/g,`
`);let t=new hs("!xml"),r=t,n="",s="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=Or(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s)),s=s.substr(0,s.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=Pm(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new hs(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s)),r.addChild(c)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=Or(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=hD(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=Or(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,s,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}i=a+2}else{let a=Pm(e,i,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,u=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1)),c!==t.tagname&&(s+=s?"."+c:c);let f=r;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,c)){let h="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let y=this.readStopNodeData(e,c,p+1);if(!y)throw new Error(`Unexpected end of ${c}`);i=y.i,h=y.tagContent}let _=new hs(c);c!==d&&u&&(_[":@"]=this.buildAttributesMap(d,s)),h&&(h=this.parseTextData(h,c,s,!0,u,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),_.add(this.options.textNodeName,h),r.addChild(_)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let h=new hs(c);c!==d&&u&&(h[":@"]=this.buildAttributesMap(d,s)),s=s.substr(0,s.lastIndexOf(".")),r.addChild(h)}else{let h=new hs(c);this.tagsNodeStack.push(r),c!==d&&u&&(h[":@"]=this.buildAttributesMap(d,s)),r.addChild(h),r=h}n="",i=p}}else n+=e[i];return t.child},bD=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function PD(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function ID(e,t,r){let n="*."+r;for(let s in e){let i=e[s];if(n===i||t===i)return!0}return!1}function AD(e,t,r=">"){let n,s="";for(let i=t;i<e.length;i++){let o=e[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function Or(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function Pm(e,t,r,n=">"){let s=AD(e,t+1,n);if(!s)return;let i=s.data,o=s.index,a=i.search(/\s/),c=i,d=!0;if(a!==-1&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1),d=c!==s.data.substr(u+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:d}}function RD(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=Or(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=Or(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Or(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Or(e,"]]>",r,"StopNode is not closed.")-2;else{let i=Pm(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function Im(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:_D(e,r)}else return Am.isExist(e)?e:""}xS.exports=bm});var MS=l(NS=>{"use strict";function CD(e,t){return OS(e,t)}function OS(e,t,r){let n,s={};for(let i=0;i<e.length;i++){let o=e[i],a=TD(o),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let d=OS(o[a],t,c),u=qD(d,t);o[":@"]?xD(d,o[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(d)):t.isArray(a,c,u)?s[a]=[d]:s[a]=d}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function TD(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function xD(e,t,r,n){if(t){let s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){let a=s[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function qD(e,t){let r=Object.keys(e).length;return!!(r===0||r===1&&e[t.textNodeName])}NS.prettify=CD});var jS=l((XQ,kS)=>{var{buildOptions:OD}=bS(),ND=qS(),{prettify:MD}=MS(),kD=vm(),Rm=class{constructor(t){this.externalEntities={},this.options=OD(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=kD.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new ND(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:MD(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};kS.exports=Rm});var US=l((QQ,zS)=>{var jD=`
`;function DD(e,t){return LS(e,t,"",0)}function LS(e,t,r,n){let s="",i="";t.format&&t.indentBy.length>0&&(i=jD+""+t.indentBy.repeat(n));for(let o=0;o<e.length;o++){let a=e[o],c=LD(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let h=a[c];FD(d,t)||(h=t.tagValueProcessor(c,h),h=FS(h,t)),s+=i+h;continue}else if(c===t.cdataPropName){s+=i+`<![CDATA[${a[c][0][t.textNodeName]}]]>`;continue}else if(c===t.commentPropName){s+=i+`<!--${a[c][0][t.textNodeName]}-->`;continue}else if(c[0]==="?"){let h=DS(a[":@"],t),_=c==="?xml"?"":i,y=a[c][0][t.textNodeName];y=y.length!==0?" "+y:"",s+=_+`<${c}${y}${h}?>`;continue}let u=DS(a[":@"],t),p=i+`<${c}${u}`,f=LS(a[c],t,d,n+1);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?s+=p+">":s+=p+"/>":(!f||f.length===0)&&t.suppressEmptyNode?s+=p+"/>":s+=p+`>${f}${i}</${c}>`}return s}function LD(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function DS(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let s=t.attributeValueProcessor(n,e[n]);s=FS(s,t),s===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${s}"`}return r}function FD(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function FS(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}zS.exports=DD});var BS=l((ZQ,GS)=>{"use strict";var zD=US(),UD={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],transformTagName:!1};function Cm(e){this.options=Object.assign({},UD,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=KD),this.processTextOrObjNode=HD,this.options.format?(this.indentate=WD,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=VD,this.buildObjNode=GD):(this.buildTextNode=HS,this.buildObjNode=$S),this.buildTextValNode=HS,this.buildObjectNode=$S,this.replaceEntitiesValue=BD,this.buildAttrPairStr=$D}Cm.prototype.build=function(e){return this.options.preserveOrder?zD(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Cm.prototype.j2x=function(e,t){let r="",n="";for(let s in e)if(!(typeof e[s]>"u"))if(e[s]===null)s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)n+=this.buildTextNode(e[s],s,"",t);else if(typeof e[s]!="object"){let i=this.isAttribute(s);if(i)r+=this.buildAttrPairStr(i,""+e[s]);else if(s===this.options.textNodeName){let o=this.options.tagValueProcessor(s,""+e[s]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextNode(e[s],s,"",t)}else if(Array.isArray(e[s])){let i=e[s].length;for(let o=0;o<i;o++){let a=e[s][o];typeof a>"u"||(a===null?s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,s,t):n+=this.buildTextNode(a,s,"",t))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let i=Object.keys(e[s]),o=i.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(i[a],""+e[s][i[a]])}else n+=this.processTextOrObjNode(e[s],s,t);return{attrStr:r,val:n}};function $D(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'}function HD(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjNode(n.val,t,n.attrStr,r)}function $S(e,t,r,n){let s="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",s=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+s:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+s}function GD(e,t,r,n){return e!==""?this.buildObjectNode(e,t,r,n):t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+"/"+this.tagEndChar}function HS(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),s===""&&this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode?this.indentate(n)+"<"+t+this.tagEndChar:this.indentate(n)+"<"+t+"/"+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+s+"</"+t+this.tagEndChar}}function BD(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e}function VD(e,t,r,n){return e===""&&this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode?this.indentate(n)+"<"+t+this.tagEndChar:this.indentate(n)+"<"+t+"/"+this.tagEndChar:e!==""?this.buildTextValNode(e,t,r,n):t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+"/"+this.tagEndChar}function WD(e){return this.options.indentBy.repeat(e)}function KD(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}GS.exports=Cm});var WS=l((eZ,VS)=>{"use strict";var JD=vm(),YD=jS(),XD=BS();VS.exports={XMLParser:YD,XMLValidator:JD,XMLBuilder:XD}});var Ft=l(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.deserializeAws_queryGetSessionTokenCommand=k.deserializeAws_queryGetFederationTokenCommand=k.deserializeAws_queryGetCallerIdentityCommand=k.deserializeAws_queryGetAccessKeyInfoCommand=k.deserializeAws_queryDecodeAuthorizationMessageCommand=k.deserializeAws_queryAssumeRoleWithWebIdentityCommand=k.deserializeAws_queryAssumeRoleWithSAMLCommand=k.deserializeAws_queryAssumeRoleCommand=k.serializeAws_queryGetSessionTokenCommand=k.serializeAws_queryGetFederationTokenCommand=k.serializeAws_queryGetCallerIdentityCommand=k.serializeAws_queryGetAccessKeyInfoCommand=k.serializeAws_queryDecodeAuthorizationMessageCommand=k.serializeAws_queryAssumeRoleWithWebIdentityCommand=k.serializeAws_queryAssumeRoleWithSAMLCommand=k.serializeAws_queryAssumeRoleCommand=void 0;var QD=ke(),T=x(),ZD=WS(),nr=nt(),sr=hc(),eL=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=ar({...AL(e,t),Action:"AssumeRole",Version:"2011-06-15"}),ir(t,r,"/",void 0,n)};k.serializeAws_queryAssumeRoleCommand=eL;var tL=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=ar({...RL(e,t),Action:"AssumeRoleWithSAML",Version:"2011-06-15"}),ir(t,r,"/",void 0,n)};k.serializeAws_queryAssumeRoleWithSAMLCommand=tL;var rL=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=ar({...CL(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),ir(t,r,"/",void 0,n)};k.serializeAws_queryAssumeRoleWithWebIdentityCommand=rL;var nL=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=ar({...TL(e,t),Action:"DecodeAuthorizationMessage",Version:"2011-06-15"}),ir(t,r,"/",void 0,n)};k.serializeAws_queryDecodeAuthorizationMessageCommand=nL;var sL=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=ar({...xL(e,t),Action:"GetAccessKeyInfo",Version:"2011-06-15"}),ir(t,r,"/",void 0,n)};k.serializeAws_queryGetAccessKeyInfoCommand=sL;var iL=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=ar({...qL(e,t),Action:"GetCallerIdentity",Version:"2011-06-15"}),ir(t,r,"/",void 0,n)};k.serializeAws_queryGetCallerIdentityCommand=iL;var oL=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=ar({...OL(e,t),Action:"GetFederationToken",Version:"2011-06-15"}),ir(t,r,"/",void 0,n)};k.serializeAws_queryGetFederationTokenCommand=oL;var aL=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=ar({...NL(e,t),Action:"GetSessionToken",Version:"2011-06-15"}),ir(t,r,"/",void 0,n)};k.serializeAws_queryGetSessionTokenCommand=aL;var cL=async(e,t)=>{if(e.statusCode>=300)return dL(e,t);let r=await Lt(e.body,t),n={};n=DL(r.AssumeRoleResult,t);let s={$metadata:Ee(e),...n};return Promise.resolve(s)};k.deserializeAws_queryAssumeRoleCommand=cL;var dL=async(e,t)=>{let r={...e,body:await or(e.body,t)},n=cr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Tm(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await _c(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await yc(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await _s(r,t);default:let s=r.body;(0,T.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:sr.STSServiceException,errorCode:n})}},lL=async(e,t)=>{if(e.statusCode>=300)return uL(e,t);let r=await Lt(e.body,t),n={};n=LL(r.AssumeRoleWithSAMLResult,t);let s={$metadata:Ee(e),...n};return Promise.resolve(s)};k.deserializeAws_queryAssumeRoleWithSAMLCommand=lL;var uL=async(e,t)=>{let r={...e,body:await or(e.body,t)},n=cr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Tm(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await KS(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await JS(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await _c(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await yc(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await _s(r,t);default:let s=r.body;(0,T.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:sr.STSServiceException,errorCode:n})}},fL=async(e,t)=>{if(e.statusCode>=300)return pL(e,t);let r=await Lt(e.body,t),n={};n=FL(r.AssumeRoleWithWebIdentityResult,t);let s={$metadata:Ee(e),...n};return Promise.resolve(s)};k.deserializeAws_queryAssumeRoleWithWebIdentityCommand=fL;var pL=async(e,t)=>{let r={...e,body:await or(e.body,t)},n=cr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Tm(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await PL(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await KS(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await JS(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await _c(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await yc(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await _s(r,t);default:let s=r.body;(0,T.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:sr.STSServiceException,errorCode:n})}},mL=async(e,t)=>{if(e.statusCode>=300)return hL(e,t);let r=await Lt(e.body,t),n={};n=zL(r.DecodeAuthorizationMessageResult,t);let s={$metadata:Ee(e),...n};return Promise.resolve(s)};k.deserializeAws_queryDecodeAuthorizationMessageCommand=mL;var hL=async(e,t)=>{let r={...e,body:await or(e.body,t)},n=cr(e,r.body);switch(n){case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await IL(r,t);default:let s=r.body;(0,T.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:sr.STSServiceException,errorCode:n})}},_L=async(e,t)=>{if(e.statusCode>=300)return yL(e,t);let r=await Lt(e.body,t),n={};n=HL(r.GetAccessKeyInfoResult,t);let s={$metadata:Ee(e),...n};return Promise.resolve(s)};k.deserializeAws_queryGetAccessKeyInfoCommand=_L;var yL=async(e,t)=>{let r={...e,body:await or(e.body,t)},n=cr(e,r.body),s=r.body;(0,T.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:sr.STSServiceException,errorCode:n})},gL=async(e,t)=>{if(e.statusCode>=300)return wL(e,t);let r=await Lt(e.body,t),n={};n=GL(r.GetCallerIdentityResult,t);let s={$metadata:Ee(e),...n};return Promise.resolve(s)};k.deserializeAws_queryGetCallerIdentityCommand=gL;var wL=async(e,t)=>{let r={...e,body:await or(e.body,t)},n=cr(e,r.body),s=r.body;(0,T.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:sr.STSServiceException,errorCode:n})},vL=async(e,t)=>{if(e.statusCode>=300)return EL(e,t);let r=await Lt(e.body,t),n={};n=BL(r.GetFederationTokenResult,t);let s={$metadata:Ee(e),...n};return Promise.resolve(s)};k.deserializeAws_queryGetFederationTokenCommand=vL;var EL=async(e,t)=>{let r={...e,body:await or(e.body,t)},n=cr(e,r.body);switch(n){case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await _c(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await yc(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await _s(r,t);default:let s=r.body;(0,T.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:sr.STSServiceException,errorCode:n})}},SL=async(e,t)=>{if(e.statusCode>=300)return bL(e,t);let r=await Lt(e.body,t),n={};n=VL(r.GetSessionTokenResult,t);let s={$metadata:Ee(e),...n};return Promise.resolve(s)};k.deserializeAws_queryGetSessionTokenCommand=SL;var bL=async(e,t)=>{let r={...e,body:await or(e.body,t)},n=cr(e,r.body);switch(n){case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await _s(r,t);default:let s=r.body;(0,T.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:sr.STSServiceException,errorCode:n})}},Tm=async(e,t)=>{let r=e.body,n=UL(r.Error,t),s=new nr.ExpiredTokenException({$metadata:Ee(e),...n});return(0,T.decorateServiceException)(s,r)},PL=async(e,t)=>{let r=e.body,n=WL(r.Error,t),s=new nr.IDPCommunicationErrorException({$metadata:Ee(e),...n});return(0,T.decorateServiceException)(s,r)},KS=async(e,t)=>{let r=e.body,n=KL(r.Error,t),s=new nr.IDPRejectedClaimException({$metadata:Ee(e),...n});return(0,T.decorateServiceException)(s,r)},IL=async(e,t)=>{let r=e.body,n=JL(r.Error,t),s=new nr.InvalidAuthorizationMessageException({$metadata:Ee(e),...n});return(0,T.decorateServiceException)(s,r)},JS=async(e,t)=>{let r=e.body,n=YL(r.Error,t),s=new nr.InvalidIdentityTokenException({$metadata:Ee(e),...n});return(0,T.decorateServiceException)(s,r)},_c=async(e,t)=>{let r=e.body,n=XL(r.Error,t),s=new nr.MalformedPolicyDocumentException({$metadata:Ee(e),...n});return(0,T.decorateServiceException)(s,r)},yc=async(e,t)=>{let r=e.body,n=QL(r.Error,t),s=new nr.PackedPolicyTooLargeException({$metadata:Ee(e),...n});return(0,T.decorateServiceException)(s,r)},_s=async(e,t)=>{let r=e.body,n=ZL(r.Error,t),s=new nr.RegionDisabledException({$metadata:Ee(e),...n});return(0,T.decorateServiceException)(s,r)},AL=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let n=gc(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let n=YS(e.Tags,t);e.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e.TransitiveTagKeys!=null){let n=jL(e.TransitiveTagKeys,t);e.TransitiveTagKeys?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}return e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),r},RL=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.PrincipalArn!=null&&(r.PrincipalArn=e.PrincipalArn),e.SAMLAssertion!=null&&(r.SAMLAssertion=e.SAMLAssertion),e.PolicyArns!=null){let n=gc(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r},CL=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let n=gc(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r},TL=(e,t)=>{let r={};return e.EncodedMessage!=null&&(r.EncodedMessage=e.EncodedMessage),r},xL=(e,t)=>{let r={};return e.AccessKeyId!=null&&(r.AccessKeyId=e.AccessKeyId),r},qL=(e,t)=>({}),OL=(e,t)=>{let r={};if(e.Name!=null&&(r.Name=e.Name),e.Policy!=null&&(r.Policy=e.Policy),e.PolicyArns!=null){let n=gc(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let n=YS(e.Tags,t);e.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return r},NL=(e,t)=>{let r={};return e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),r},gc=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=ML(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},ML=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},kL=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},jL=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},YS=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=kL(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},xm=(e,t)=>{let r={AssumedRoleId:void 0,Arn:void 0};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=(0,T.expectString)(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=(0,T.expectString)(e.Arn)),r},DL=(e,t)=>{let r={Credentials:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,SourceIdentity:void 0};return e.Credentials!==void 0&&(r.Credentials=ys(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=xm(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,T.strictParseInt32)(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,T.expectString)(e.SourceIdentity)),r},LL=(e,t)=>{let r={Credentials:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,Subject:void 0,SubjectType:void 0,Issuer:void 0,Audience:void 0,NameQualifier:void 0,SourceIdentity:void 0};return e.Credentials!==void 0&&(r.Credentials=ys(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=xm(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,T.strictParseInt32)(e.PackedPolicySize)),e.Subject!==void 0&&(r.Subject=(0,T.expectString)(e.Subject)),e.SubjectType!==void 0&&(r.SubjectType=(0,T.expectString)(e.SubjectType)),e.Issuer!==void 0&&(r.Issuer=(0,T.expectString)(e.Issuer)),e.Audience!==void 0&&(r.Audience=(0,T.expectString)(e.Audience)),e.NameQualifier!==void 0&&(r.NameQualifier=(0,T.expectString)(e.NameQualifier)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,T.expectString)(e.SourceIdentity)),r},FL=(e,t)=>{let r={Credentials:void 0,SubjectFromWebIdentityToken:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,Provider:void 0,Audience:void 0,SourceIdentity:void 0};return e.Credentials!==void 0&&(r.Credentials=ys(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=(0,T.expectString)(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=xm(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,T.strictParseInt32)(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=(0,T.expectString)(e.Provider)),e.Audience!==void 0&&(r.Audience=(0,T.expectString)(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,T.expectString)(e.SourceIdentity)),r},ys=(e,t)=>{let r={AccessKeyId:void 0,SecretAccessKey:void 0,SessionToken:void 0,Expiration:void 0};return e.AccessKeyId!==void 0&&(r.AccessKeyId=(0,T.expectString)(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=(0,T.expectString)(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=(0,T.expectString)(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=(0,T.expectNonNull)((0,T.parseRfc3339DateTime)(e.Expiration))),r},zL=(e,t)=>{let r={DecodedMessage:void 0};return e.DecodedMessage!==void 0&&(r.DecodedMessage=(0,T.expectString)(e.DecodedMessage)),r},UL=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,T.expectString)(e.message)),r},$L=(e,t)=>{let r={FederatedUserId:void 0,Arn:void 0};return e.FederatedUserId!==void 0&&(r.FederatedUserId=(0,T.expectString)(e.FederatedUserId)),e.Arn!==void 0&&(r.Arn=(0,T.expectString)(e.Arn)),r},HL=(e,t)=>{let r={Account:void 0};return e.Account!==void 0&&(r.Account=(0,T.expectString)(e.Account)),r},GL=(e,t)=>{let r={UserId:void 0,Account:void 0,Arn:void 0};return e.UserId!==void 0&&(r.UserId=(0,T.expectString)(e.UserId)),e.Account!==void 0&&(r.Account=(0,T.expectString)(e.Account)),e.Arn!==void 0&&(r.Arn=(0,T.expectString)(e.Arn)),r},BL=(e,t)=>{let r={Credentials:void 0,FederatedUser:void 0,PackedPolicySize:void 0};return e.Credentials!==void 0&&(r.Credentials=ys(e.Credentials,t)),e.FederatedUser!==void 0&&(r.FederatedUser=$L(e.FederatedUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,T.strictParseInt32)(e.PackedPolicySize)),r},VL=(e,t)=>{let r={Credentials:void 0};return e.Credentials!==void 0&&(r.Credentials=ys(e.Credentials,t)),r},WL=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,T.expectString)(e.message)),r},KL=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,T.expectString)(e.message)),r},JL=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,T.expectString)(e.message)),r},YL=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,T.expectString)(e.message)),r},XL=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,T.expectString)(e.message)),r},QL=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,T.expectString)(e.message)),r},ZL=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,T.expectString)(e.message)),r},Ee=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),eF=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),tF=(e,t)=>eF(e,t).then(r=>t.utf8Encoder(r)),ir=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),d={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new QD.HttpRequest(d)},Lt=(e,t)=>tF(e,t).then(r=>{if(r.length){let n=new ZD.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,T.getValueFromTextNode)(a)}return{}}),or=async(e,t)=>{let r=await Lt(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},ar=e=>Object.entries(e).map(([t,r])=>(0,T.extendedEncodeURIComponent)(t)+"="+(0,T.extendedEncodeURIComponent)(r)).join("&"),cr=(e,t)=>{if(t.Error.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var vc=l(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.AssumeRoleCommand=void 0;var rF=O(),nF=M(),sF=$(),iF=x(),XS=nt(),QS=Ft(),gs=class extends iF.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,nF.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,rF.getEndpointPlugin)(r,gs.getEndpointParameterInstructions())),this.middlewareStack.use((0,sF.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:XS.AssumeRoleRequestFilterSensitiveLog,outputFilterSensitiveLog:XS.AssumeRoleResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,QS.serializeAws_queryAssumeRoleCommand)(t,r)}deserialize(t,r){return(0,QS.deserializeAws_queryAssumeRoleCommand)(t,r)}};wc.AssumeRoleCommand=gs});var qm=l(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.AssumeRoleWithSAMLCommand=void 0;var oF=O(),aF=M(),cF=x(),ZS=nt(),e0=Ft(),ws=class extends cF.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,aF.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,oF.getEndpointPlugin)(r,ws.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleWithSAMLCommand",inputFilterSensitiveLog:ZS.AssumeRoleWithSAMLRequestFilterSensitiveLog,outputFilterSensitiveLog:ZS.AssumeRoleWithSAMLResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,e0.serializeAws_queryAssumeRoleWithSAMLCommand)(t,r)}deserialize(t,r){return(0,e0.deserializeAws_queryAssumeRoleWithSAMLCommand)(t,r)}};Ec.AssumeRoleWithSAMLCommand=ws});var bc=l(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.AssumeRoleWithWebIdentityCommand=void 0;var dF=O(),lF=M(),uF=x(),t0=nt(),r0=Ft(),vs=class extends uF.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,lF.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,dF.getEndpointPlugin)(r,vs.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:t0.AssumeRoleWithWebIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:t0.AssumeRoleWithWebIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,r0.serializeAws_queryAssumeRoleWithWebIdentityCommand)(t,r)}deserialize(t,r){return(0,r0.deserializeAws_queryAssumeRoleWithWebIdentityCommand)(t,r)}};Sc.AssumeRoleWithWebIdentityCommand=vs});var Om=l(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.DecodeAuthorizationMessageCommand=void 0;var fF=O(),pF=M(),mF=$(),hF=x(),n0=nt(),s0=Ft(),Es=class extends hF.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,pF.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,fF.getEndpointPlugin)(r,Es.getEndpointParameterInstructions())),this.middlewareStack.use((0,mF.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"DecodeAuthorizationMessageCommand",inputFilterSensitiveLog:n0.DecodeAuthorizationMessageRequestFilterSensitiveLog,outputFilterSensitiveLog:n0.DecodeAuthorizationMessageResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,s0.serializeAws_queryDecodeAuthorizationMessageCommand)(t,r)}deserialize(t,r){return(0,s0.deserializeAws_queryDecodeAuthorizationMessageCommand)(t,r)}};Pc.DecodeAuthorizationMessageCommand=Es});var Nm=l(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.GetAccessKeyInfoCommand=void 0;var _F=O(),yF=M(),gF=$(),wF=x(),i0=nt(),o0=Ft(),Ss=class extends wF.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,yF.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,_F.getEndpointPlugin)(r,Ss.getEndpointParameterInstructions())),this.middlewareStack.use((0,gF.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetAccessKeyInfoCommand",inputFilterSensitiveLog:i0.GetAccessKeyInfoRequestFilterSensitiveLog,outputFilterSensitiveLog:i0.GetAccessKeyInfoResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,o0.serializeAws_queryGetAccessKeyInfoCommand)(t,r)}deserialize(t,r){return(0,o0.deserializeAws_queryGetAccessKeyInfoCommand)(t,r)}};Ic.GetAccessKeyInfoCommand=Ss});var Mm=l(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.GetCallerIdentityCommand=void 0;var vF=O(),EF=M(),SF=$(),bF=x(),a0=nt(),c0=Ft(),bs=class extends bF.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,EF.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,vF.getEndpointPlugin)(r,bs.getEndpointParameterInstructions())),this.middlewareStack.use((0,SF.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:a0.GetCallerIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:a0.GetCallerIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,c0.serializeAws_queryGetCallerIdentityCommand)(t,r)}deserialize(t,r){return(0,c0.deserializeAws_queryGetCallerIdentityCommand)(t,r)}};Ac.GetCallerIdentityCommand=bs});var km=l(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.GetFederationTokenCommand=void 0;var PF=O(),IF=M(),AF=$(),RF=x(),d0=nt(),l0=Ft(),Ps=class extends RF.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,IF.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,PF.getEndpointPlugin)(r,Ps.getEndpointParameterInstructions())),this.middlewareStack.use((0,AF.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetFederationTokenCommand",inputFilterSensitiveLog:d0.GetFederationTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:d0.GetFederationTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,l0.serializeAws_queryGetFederationTokenCommand)(t,r)}deserialize(t,r){return(0,l0.deserializeAws_queryGetFederationTokenCommand)(t,r)}};Rc.GetFederationTokenCommand=Ps});var jm=l(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.GetSessionTokenCommand=void 0;var CF=O(),TF=M(),xF=$(),qF=x(),u0=nt(),f0=Ft(),Is=class extends qF.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,TF.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,CF.getEndpointPlugin)(r,Is.getEndpointParameterInstructions())),this.middlewareStack.use((0,xF.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetSessionTokenCommand",inputFilterSensitiveLog:u0.GetSessionTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:u0.GetSessionTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,f0.serializeAws_queryGetSessionTokenCommand)(t,r)}deserialize(t,r){return(0,f0.deserializeAws_queryGetSessionTokenCommand)(t,r)}};Cc.GetSessionTokenCommand=Is});var p0=l(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.resolveStsAuthConfig=void 0;var OF=$(),NF=(e,{stsClientCtor:t})=>(0,OF.resolveAwsAuthConfig)({...e,stsClientCtor:t});Tc.resolveStsAuthConfig=NF});var m0=l(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.resolveClientEndpointParameters=void 0;var MF=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});xc.resolveClientEndpointParameters=MF});var h0=l((fZ,kF)=>{kF.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.202.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"2.0.0","@aws-crypto/sha256-js":"2.0.0","@aws-sdk/config-resolver":"3.201.0","@aws-sdk/credential-provider-node":"3.202.0","@aws-sdk/fetch-http-handler":"3.201.0","@aws-sdk/hash-node":"3.201.0","@aws-sdk/invalid-dependency":"3.201.0","@aws-sdk/middleware-content-length":"3.201.0","@aws-sdk/middleware-endpoint":"3.201.0","@aws-sdk/middleware-host-header":"3.201.0","@aws-sdk/middleware-logger":"3.201.0","@aws-sdk/middleware-recursion-detection":"3.201.0","@aws-sdk/middleware-retry":"3.201.0","@aws-sdk/middleware-sdk-sts":"3.201.0","@aws-sdk/middleware-serde":"3.201.0","@aws-sdk/middleware-signing":"3.201.0","@aws-sdk/middleware-stack":"3.201.0","@aws-sdk/middleware-user-agent":"3.201.0","@aws-sdk/node-config-provider":"3.201.0","@aws-sdk/node-http-handler":"3.201.0","@aws-sdk/protocol-http":"3.201.0","@aws-sdk/smithy-client":"3.201.0","@aws-sdk/types":"3.201.0","@aws-sdk/url-parser":"3.201.0","@aws-sdk/util-base64-browser":"3.188.0","@aws-sdk/util-base64-node":"3.201.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.201.0","@aws-sdk/util-defaults-mode-browser":"3.201.0","@aws-sdk/util-defaults-mode-node":"3.201.0","@aws-sdk/util-endpoints":"3.202.0","@aws-sdk/util-user-agent-browser":"3.201.0","@aws-sdk/util-user-agent-node":"3.201.0","@aws-sdk/util-utf8-browser":"3.188.0","@aws-sdk/util-utf8-node":"3.201.0","fast-xml-parser":"4.0.11",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.188.0","@tsconfig/node14":"1.0.3","@types/node":"^12.7.5",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var Dm=l(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.decorateDefaultCredentialProvider=Et.getDefaultRoleAssumerWithWebIdentity=Et.getDefaultRoleAssumer=void 0;var jF=vc(),DF=bc(),_0="us-east-1",y0=e=>typeof e!="function"?e===void 0?_0:e:async()=>{try{return await e()}catch{return _0}},LF=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:y0(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:o}=await r.send(new jF.AssumeRoleCommand(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}};Et.getDefaultRoleAssumer=LF;var FF=(e,t)=>{let r;return async n=>{if(!r){let{logger:i,region:o,requestHandler:a}=e;r=new t({logger:i,region:y0(o||e.region),...a?{requestHandler:a}:{}})}let{Credentials:s}=await r.send(new DF.AssumeRoleWithWebIdentityCommand(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};Et.getDefaultRoleAssumerWithWebIdentity=FF;var zF=e=>t=>e({roleAssumer:(0,Et.getDefaultRoleAssumer)(t,t.stsClientCtor),roleAssumerWithWebIdentity:(0,Et.getDefaultRoleAssumerWithWebIdentity)(t,t.stsClientCtor),...t});Et.decorateDefaultCredentialProvider=zF});var g0=l(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.fromEnv=Se.ENV_EXPIRATION=Se.ENV_SESSION=Se.ENV_SECRET=Se.ENV_KEY=void 0;var UF=B();Se.ENV_KEY="AWS_ACCESS_KEY_ID";Se.ENV_SECRET="AWS_SECRET_ACCESS_KEY";Se.ENV_SESSION="AWS_SESSION_TOKEN";Se.ENV_EXPIRATION="AWS_CREDENTIAL_EXPIRATION";var $F=()=>async()=>{let e=process.env[Se.ENV_KEY],t=process.env[Se.ENV_SECRET],r=process.env[Se.ENV_SESSION],n=process.env[Se.ENV_EXPIRATION];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new UF.CredentialsProviderError("Unable to find environment variable credentials.")};Se.fromEnv=$F});var qc=l(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});var HF=N();HF.__exportStar(g0(),Lm)});var As=l(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.getHomeDir=void 0;var GF=require("os"),BF=require("path"),VF=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${BF.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,GF.homedir)())};Oc.getHomeDir=VF});var w0=l(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.getProfileName=St.DEFAULT_PROFILE=St.ENV_PROFILE=void 0;St.ENV_PROFILE="AWS_PROFILE";St.DEFAULT_PROFILE="default";var WF=e=>e.profile||process.env[St.ENV_PROFILE]||St.DEFAULT_PROFILE;St.getProfileName=WF});var Fm=l(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.getSSOTokenFilepath=void 0;var KF=require("crypto"),JF=require("path"),YF=As(),XF=e=>{let r=(0,KF.createHash)("sha1").update(e).digest("hex");return(0,JF.join)((0,YF.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Nc.getSSOTokenFilepath=XF});var v0=l(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.getSSOTokenFromFile=void 0;var QF=require("fs"),ZF=Fm(),{readFile:ez}=QF.promises,tz=async e=>{let t=(0,ZF.getSSOTokenFilepath)(e),r=await ez(t,"utf8");return JSON.parse(r)};Mc.getSSOTokenFromFile=tz});var zm=l(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.getConfigFilepath=Nr.ENV_CONFIG_PATH=void 0;var rz=require("path"),nz=As();Nr.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var sz=()=>process.env[Nr.ENV_CONFIG_PATH]||(0,rz.join)((0,nz.getHomeDir)(),".aws","config");Nr.getConfigFilepath=sz});var E0=l(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.getCredentialsFilepath=Mr.ENV_CREDENTIALS_PATH=void 0;var iz=require("path"),oz=As();Mr.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var az=()=>process.env[Mr.ENV_CREDENTIALS_PATH]||(0,iz.join)((0,oz.getHomeDir)(),".aws","credentials");Mr.getCredentialsFilepath=az});var b0=l(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.getProfileData=void 0;var S0=/^profile\s(["'])?([^\1]+)\1$/,cz=e=>Object.entries(e).filter(([t])=>S0.test(t)).reduce((t,[r,n])=>({...t,[S0.exec(r)[2]]:n}),{...e.default&&{default:e.default}});kc.getProfileData=cz});var Um=l(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.parseIni=void 0;var dz=["__proto__","profile __proto__"],lz=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),dz.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let i=n.indexOf("="),o=0,a=n.length-1;if(i!==-1&&i!==o&&i!==a){let[d,u]=[n.substring(0,i).trim(),n.substring(i+1).trim()];t[r]=t[r]||{},t[r][d]=u}}return t};jc.parseIni=lz});var Hm=l(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.slurpFile=void 0;var uz=require("fs"),{readFile:fz}=uz.promises,$m={},pz=e=>($m[e]||($m[e]=fz(e,"utf8")),$m[e]);Dc.slurpFile=pz});var Gm=l(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.loadSharedConfigFiles=void 0;var mz=zm(),hz=E0(),_z=b0(),P0=Um(),I0=Hm(),A0=()=>({}),yz=async(e={})=>{let{filepath:t=(0,hz.getCredentialsFilepath)(),configFilepath:r=(0,mz.getConfigFilepath)()}=e,n=await Promise.all([(0,I0.slurpFile)(r).then(P0.parseIni).then(_z.getProfileData).catch(A0),(0,I0.slurpFile)(t).then(P0.parseIni).catch(A0)]);return{configFile:n[0],credentialsFile:n[1]}};Lc.loadSharedConfigFiles=yz});var C0=l(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.getSsoSessionData=void 0;var R0=/^sso-session\s(["'])?([^\1]+)\1$/,gz=e=>Object.entries(e).filter(([t])=>R0.test(t)).reduce((t,[r,n])=>({...t,[R0.exec(r)[2]]:n}),{});Fc.getSsoSessionData=gz});var T0=l(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.loadSsoSessionData=void 0;var wz=zm(),vz=C0(),Ez=Um(),Sz=Hm(),bz=()=>({}),Pz=async(e={})=>{var t;return(0,Sz.slurpFile)((t=e.configFilepath)!==null&&t!==void 0?t:(0,wz.getConfigFilepath)()).then(Ez.parseIni).then(vz.getSsoSessionData).catch(bz)};zc.loadSsoSessionData=Pz});var x0=l(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.parseKnownFiles=void 0;var Iz=Gm(),Az=async e=>{let t=await(0,Iz.loadSharedConfigFiles)(e);return{...t.configFile,...t.credentialsFile}};Uc.parseKnownFiles=Az});var O0=l(q0=>{"use strict";Object.defineProperty(q0,"__esModule",{value:!0})});var lr=l(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var dr=N();dr.__exportStar(As(),bt);dr.__exportStar(w0(),bt);dr.__exportStar(Fm(),bt);dr.__exportStar(v0(),bt);dr.__exportStar(Gm(),bt);dr.__exportStar(T0(),bt);dr.__exportStar(x0(),bt);dr.__exportStar(O0(),bt)});var Hc=l($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.httpRequest=void 0;var Bm=B(),Rz=require("buffer"),Cz=require("http");function Tz(e){return new Promise((t,r)=>{var n;let s=(0,Cz.request)({method:"GET",...e,hostname:(n=e.hostname)===null||n===void 0?void 0:n.replace(/^\[(.+)\]$/,"$1")});s.on("error",i=>{r(Object.assign(new Bm.ProviderError("Unable to connect to instance metadata service"),i)),s.destroy()}),s.on("timeout",()=>{r(new Bm.ProviderError("TimeoutError from instance metadata service")),s.destroy()}),s.on("response",i=>{let{statusCode:o=400}=i;(o<200||300<=o)&&(r(Object.assign(new Bm.ProviderError("Error response received from instance metadata service"),{statusCode:o})),s.destroy());let a=[];i.on("data",c=>{a.push(c)}),i.on("end",()=>{t(Rz.Buffer.concat(a)),s.destroy()})}),s.end()})}$c.httpRequest=Tz});var Vm=l(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.fromImdsCredentials=pn.isImdsCredentials=void 0;var xz=e=>Boolean(e)&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string";pn.isImdsCredentials=xz;var qz=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});pn.fromImdsCredentials=qz});var Gc=l(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.providerConfigFromInit=Pt.DEFAULT_MAX_RETRIES=Pt.DEFAULT_TIMEOUT=void 0;Pt.DEFAULT_TIMEOUT=1e3;Pt.DEFAULT_MAX_RETRIES=0;var Oz=({maxRetries:e=Pt.DEFAULT_MAX_RETRIES,timeout:t=Pt.DEFAULT_TIMEOUT})=>({maxRetries:e,timeout:t});Pt.providerConfigFromInit=Oz});var Wm=l(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.retry=void 0;var Nz=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r};Bc.retry=Nz});var M0=l(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.fromContainerMetadata=he.ENV_CMDS_AUTH_TOKEN=he.ENV_CMDS_RELATIVE_URI=he.ENV_CMDS_FULL_URI=void 0;var Vc=B(),Mz=require("url"),kz=Hc(),N0=Vm(),jz=Gc(),Dz=Wm();he.ENV_CMDS_FULL_URI="AWS_CONTAINER_CREDENTIALS_FULL_URI";he.ENV_CMDS_RELATIVE_URI="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI";he.ENV_CMDS_AUTH_TOKEN="AWS_CONTAINER_AUTHORIZATION_TOKEN";var Lz=(e={})=>{let{timeout:t,maxRetries:r}=(0,jz.providerConfigFromInit)(e);return()=>(0,Dz.retry)(async()=>{let n=await Hz(),s=JSON.parse(await Fz(t,n));if(!(0,N0.isImdsCredentials)(s))throw new Vc.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,N0.fromImdsCredentials)(s)},r)};he.fromContainerMetadata=Lz;var Fz=async(e,t)=>(process.env[he.ENV_CMDS_AUTH_TOKEN]&&(t.headers={...t.headers,Authorization:process.env[he.ENV_CMDS_AUTH_TOKEN]}),(await(0,kz.httpRequest)({...t,timeout:e})).toString()),zz="169.254.170.2",Uz={localhost:!0,"127.0.0.1":!0},$z={"http:":!0,"https:":!0},Hz=async()=>{if(process.env[he.ENV_CMDS_RELATIVE_URI])return{hostname:zz,path:process.env[he.ENV_CMDS_RELATIVE_URI]};if(process.env[he.ENV_CMDS_FULL_URI]){let e=(0,Mz.parse)(process.env[he.ENV_CMDS_FULL_URI]);if(!e.hostname||!(e.hostname in Uz))throw new Vc.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in $z))throw new Vc.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Vc.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${he.ENV_CMDS_RELATIVE_URI} or ${he.ENV_CMDS_FULL_URI} environment variable is set`,!1)}});var k0=l(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.fromEnv=void 0;var Gz=B(),Bz=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new Gz.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}};Wc.fromEnv=Bz});var D0=l(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.fromSharedConfigFiles=void 0;var Vz=B(),j0=lr(),Wz=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,j0.getProfileName)(r),{configFile:s,credentialsFile:i}=await(0,j0.loadSharedConfigFiles)(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let d=e(c);if(d===void 0)throw new Error;return d}catch(d){throw new Vz.CredentialsProviderError(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};Kc.fromSharedConfigFiles=Wz});var L0=l(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.fromStatic=void 0;var Kz=B(),Jz=e=>typeof e=="function",Yz=e=>Jz(e)?async()=>await e():(0,Kz.fromStatic)(e);Jc.fromStatic=Yz});var z0=l(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.loadConfig=void 0;var F0=B(),Xz=k0(),Qz=D0(),Zz=L0(),eU=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,F0.memoize)((0,F0.chain)((0,Xz.fromEnv)(e),(0,Qz.fromSharedConfigFiles)(t,n),(0,Zz.fromStatic)(r)));Yc.loadConfig=eU});var kr=l(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});var tU=N();tU.__exportStar(z0(),Km)});var U0=l(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.Endpoint=void 0;var rU;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(rU=Rs.Endpoint||(Rs.Endpoint={}))});var $0=l(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.ENDPOINT_CONFIG_OPTIONS=It.CONFIG_ENDPOINT_NAME=It.ENV_ENDPOINT_NAME=void 0;It.ENV_ENDPOINT_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT";It.CONFIG_ENDPOINT_NAME="ec2_metadata_service_endpoint";It.ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>e[It.ENV_ENDPOINT_NAME],configFileSelector:e=>e[It.CONFIG_ENDPOINT_NAME],default:void 0}});var Jm=l(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.EndpointMode=void 0;var nU;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(nU=Cs.EndpointMode||(Cs.EndpointMode={}))});var H0=l(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.ENDPOINT_MODE_CONFIG_OPTIONS=At.CONFIG_ENDPOINT_MODE_NAME=At.ENV_ENDPOINT_MODE_NAME=void 0;var sU=Jm();At.ENV_ENDPOINT_MODE_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE";At.CONFIG_ENDPOINT_MODE_NAME="ec2_metadata_service_endpoint_mode";At.ENDPOINT_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[At.ENV_ENDPOINT_MODE_NAME],configFileSelector:e=>e[At.CONFIG_ENDPOINT_MODE_NAME],default:sU.EndpointMode.IPv4}});var Xm=l(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.getInstanceMetadataEndpoint=void 0;var B0=kr(),iU=sn(),G0=U0(),oU=$0(),Ym=Jm(),aU=H0(),cU=async()=>(0,iU.parseUrl)(await dU()||await lU());Xc.getInstanceMetadataEndpoint=cU;var dU=async()=>(0,B0.loadConfig)(oU.ENDPOINT_CONFIG_OPTIONS)(),lU=async()=>{let e=await(0,B0.loadConfig)(aU.ENDPOINT_MODE_CONFIG_OPTIONS)();switch(e){case Ym.EndpointMode.IPv4:return G0.Endpoint.IPv4;case Ym.EndpointMode.IPv6:return G0.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Ym.EndpointMode)}`)}}});var V0=l(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.getExtendedInstanceMetadataCredentials=void 0;var uU=5*60,fU=5*60,pU="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",mU=(e,t)=>{var r;let n=uU+Math.floor(Math.random()*fU),s=new Date(Date.now()+n*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+pU);let i=(r=e.originalExpiration)!==null&&r!==void 0?r:e.expiration;return{...e,...i?{originalExpiration:i}:{},expiration:s}};Qc.getExtendedInstanceMetadataCredentials=mU});var K0=l(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.staticStabilityProvider=void 0;var W0=V0(),hU=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=(0,W0.getExtendedInstanceMetadataCredentials)(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=(0,W0.getExtendedInstanceMetadataCredentials)(n,r);else throw i}return n=s,s}};Zc.staticStabilityProvider=hU});var Q0=l(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.fromInstanceMetadata=void 0;var _U=B(),Qm=Hc(),J0=Vm(),yU=Gc(),Y0=Wm(),gU=Xm(),wU=K0(),X0="/latest/meta-data/iam/security-credentials/",vU="/latest/api/token",EU=(e={})=>(0,wU.staticStabilityProvider)(SU(e),{logger:e.logger});ed.fromInstanceMetadata=EU;var SU=e=>{let t=!1,{timeout:r,maxRetries:n}=(0,yU.providerConfigFromInit)(e),s=async(i,o)=>{let a=(await(0,Y0.retry)(async()=>{let c;try{c=await PU(o)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},i)).trim();return(0,Y0.retry)(async()=>{let c;try{c=await IU(a,o)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},i)};return async()=>{let i=await(0,gU.getInstanceMetadataEndpoint)();if(t)return s(n,{...i,timeout:r});{let o;try{o=(await bU({...i,timeout:r})).toString()}catch(a){if(a?.statusCode===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(t=!0),s(n,{...i,timeout:r})}return s(n,{...i,headers:{"x-aws-ec2-metadata-token":o},timeout:r})}}},bU=async e=>(0,Qm.httpRequest)({...e,path:vU,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),PU=async e=>(await(0,Qm.httpRequest)({...e,path:X0})).toString(),IU=async(e,t)=>{let r=JSON.parse((await(0,Qm.httpRequest)({...t,path:X0+e})).toString());if(!(0,J0.isImdsCredentials)(r))throw new _U.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,J0.fromImdsCredentials)(r)}});var eb=l(Z0=>{"use strict";Object.defineProperty(Z0,"__esModule",{value:!0})});var mn=l(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.getInstanceMetadataEndpoint=Rt.httpRequest=void 0;var td=N();td.__exportStar(M0(),Rt);td.__exportStar(Q0(),Rt);td.__exportStar(Gc(),Rt);td.__exportStar(eb(),Rt);var AU=Hc();Object.defineProperty(Rt,"httpRequest",{enumerable:!0,get:function(){return AU.httpRequest}});var RU=Xm();Object.defineProperty(Rt,"getInstanceMetadataEndpoint",{enumerable:!0,get:function(){return RU.getInstanceMetadataEndpoint}})});var rb=l(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.resolveCredentialSource=void 0;var CU=qc(),tb=mn(),TU=B(),xU=(e,t)=>{let r={EcsContainer:tb.fromContainerMetadata,Ec2InstanceMetadata:tb.fromInstanceMetadata,Environment:CU.fromEnv};if(e in r)return r[e]();throw new TU.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};rd.resolveCredentialSource=xU});var nb=l(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.resolveAssumeRoleCredentials=hn.isAssumeRoleProfile=void 0;var Zm=B(),qU=lr(),OU=rb(),NU=eh(),MU=e=>Boolean(e)&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(kU(e)||jU(e));hn.isAssumeRoleProfile=MU;var kU=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",jU=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",DU=async(e,t,r,n={})=>{let s=t[e];if(!r.roleAssumer)throw new Zm.CredentialsProviderError(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:i}=s;if(i&&i in n)throw new Zm.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,qU.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let o=i?(0,NU.resolveProfileData)(i,t,r,{...n,[i]:!0}):(0,OU.resolveCredentialSource)(s.credential_source,e)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:c}=s;if(c){if(!r.mfaCodeProvider)throw new Zm.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await o;return r.roleAssumer(d,a)};hn.resolveAssumeRoleCredentials=DU});var th=l(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.isSsoProfile=void 0;var LU=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");nd.isSsoProfile=LU});var id=l(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.SSOServiceException=void 0;var FU=x(),Ts=class extends FU.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Ts.prototype)}};sd.SSOServiceException=Ts});var jr=l(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.LogoutRequestFilterSensitiveLog=F.ListAccountsResponseFilterSensitiveLog=F.ListAccountsRequestFilterSensitiveLog=F.ListAccountRolesResponseFilterSensitiveLog=F.RoleInfoFilterSensitiveLog=F.ListAccountRolesRequestFilterSensitiveLog=F.GetRoleCredentialsResponseFilterSensitiveLog=F.RoleCredentialsFilterSensitiveLog=F.GetRoleCredentialsRequestFilterSensitiveLog=F.AccountInfoFilterSensitiveLog=F.UnauthorizedException=F.TooManyRequestsException=F.ResourceNotFoundException=F.InvalidRequestException=void 0;var _n=x(),od=id(),xs=class extends od.SSOServiceException{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,xs.prototype)}};F.InvalidRequestException=xs;var qs=class extends od.SSOServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,qs.prototype)}};F.ResourceNotFoundException=qs;var Os=class extends od.SSOServiceException{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Os.prototype)}};F.TooManyRequestsException=Os;var Ns=class extends od.SSOServiceException{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,Ns.prototype)}};F.UnauthorizedException=Ns;var zU=e=>({...e});F.AccountInfoFilterSensitiveLog=zU;var UU=e=>({...e,...e.accessToken&&{accessToken:_n.SENSITIVE_STRING}});F.GetRoleCredentialsRequestFilterSensitiveLog=UU;var $U=e=>({...e,...e.secretAccessKey&&{secretAccessKey:_n.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:_n.SENSITIVE_STRING}});F.RoleCredentialsFilterSensitiveLog=$U;var HU=e=>({...e,...e.roleCredentials&&{roleCredentials:(0,F.RoleCredentialsFilterSensitiveLog)(e.roleCredentials)}});F.GetRoleCredentialsResponseFilterSensitiveLog=HU;var GU=e=>({...e,...e.accessToken&&{accessToken:_n.SENSITIVE_STRING}});F.ListAccountRolesRequestFilterSensitiveLog=GU;var BU=e=>({...e});F.RoleInfoFilterSensitiveLog=BU;var VU=e=>({...e});F.ListAccountRolesResponseFilterSensitiveLog=VU;var WU=e=>({...e,...e.accessToken&&{accessToken:_n.SENSITIVE_STRING}});F.ListAccountsRequestFilterSensitiveLog=WU;var KU=e=>({...e});F.ListAccountsResponseFilterSensitiveLog=KU;var JU=e=>({...e,...e.accessToken&&{accessToken:_n.SENSITIVE_STRING}});F.LogoutRequestFilterSensitiveLog=JU});var Ms=l(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.deserializeAws_restJson1LogoutCommand=_e.deserializeAws_restJson1ListAccountsCommand=_e.deserializeAws_restJson1ListAccountRolesCommand=_e.deserializeAws_restJson1GetRoleCredentialsCommand=_e.serializeAws_restJson1LogoutCommand=_e.serializeAws_restJson1ListAccountsCommand=_e.serializeAws_restJson1ListAccountRolesCommand=_e.serializeAws_restJson1GetRoleCredentialsCommand=void 0;var ad=ke(),z=x(),cd=jr(),dd=id(),YU=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=Ie({},pd,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/federation/credentials`,c=Ie({role_name:[,e.roleName],account_id:[,e.accountId]}),d;return new ad.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:o,path:a,query:c,body:d})};_e.serializeAws_restJson1GetRoleCredentialsCommand=YU;var XU=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=Ie({},pd,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/assignment/roles`,c=Ie({next_token:[,e.nextToken],max_result:[()=>e.maxResults!==void 0,()=>e.maxResults.toString()],account_id:[,e.accountId]}),d;return new ad.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:o,path:a,query:c,body:d})};_e.serializeAws_restJson1ListAccountRolesCommand=XU;var QU=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=Ie({},pd,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/assignment/accounts`,c=Ie({next_token:[,e.nextToken],max_result:[()=>e.maxResults!==void 0,()=>e.maxResults.toString()]}),d;return new ad.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:o,path:a,query:c,body:d})};_e.serializeAws_restJson1ListAccountsCommand=QU;var ZU=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=Ie({},pd,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/logout`,c;return new ad.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:o,path:a,body:c})};_e.serializeAws_restJson1LogoutCommand=ZU;var e$=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return t$(e,t);let r=Ie({$metadata:ur(e)}),n=(0,z.expectNonNull)((0,z.expectObject)(await md(e.body,t)),"body");return n.roleCredentials!=null&&(r.roleCredentials=l$(n.roleCredentials,t)),r};_e.deserializeAws_restJson1GetRoleCredentialsCommand=e$;var t$=async(e,t)=>{let r={...e,body:await hd(e.body,t)},n=_d(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await ld(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await rh(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ud(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await fd(r,t);default:let s=r.body;(0,z.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:dd.SSOServiceException,errorCode:n})}},r$=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return n$(e,t);let r=Ie({$metadata:ur(e)}),n=(0,z.expectNonNull)((0,z.expectObject)(await md(e.body,t)),"body");return n.nextToken!=null&&(r.nextToken=(0,z.expectString)(n.nextToken)),n.roleList!=null&&(r.roleList=f$(n.roleList,t)),r};_e.deserializeAws_restJson1ListAccountRolesCommand=r$;var n$=async(e,t)=>{let r={...e,body:await hd(e.body,t)},n=_d(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await ld(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await rh(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ud(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await fd(r,t);default:let s=r.body;(0,z.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:dd.SSOServiceException,errorCode:n})}},s$=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return i$(e,t);let r=Ie({$metadata:ur(e)}),n=(0,z.expectNonNull)((0,z.expectObject)(await md(e.body,t)),"body");return n.accountList!=null&&(r.accountList=d$(n.accountList,t)),n.nextToken!=null&&(r.nextToken=(0,z.expectString)(n.nextToken)),r};_e.deserializeAws_restJson1ListAccountsCommand=s$;var i$=async(e,t)=>{let r={...e,body:await hd(e.body,t)},n=_d(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await ld(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await rh(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ud(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await fd(r,t);default:let s=r.body;(0,z.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:dd.SSOServiceException,errorCode:n})}},o$=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return a$(e,t);let r=Ie({$metadata:ur(e)});return await sb(e.body,t),r};_e.deserializeAws_restJson1LogoutCommand=o$;var a$=async(e,t)=>{let r={...e,body:await hd(e.body,t)},n=_d(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await ld(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ud(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await fd(r,t);default:let s=r.body;(0,z.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:dd.SSOServiceException,errorCode:n})}},Ie=z.map,ld=async(e,t)=>{let r=Ie({}),n=e.body;n.message!=null&&(r.message=(0,z.expectString)(n.message));let s=new cd.InvalidRequestException({$metadata:ur(e),...r});return(0,z.decorateServiceException)(s,e.body)},rh=async(e,t)=>{let r=Ie({}),n=e.body;n.message!=null&&(r.message=(0,z.expectString)(n.message));let s=new cd.ResourceNotFoundException({$metadata:ur(e),...r});return(0,z.decorateServiceException)(s,e.body)},ud=async(e,t)=>{let r=Ie({}),n=e.body;n.message!=null&&(r.message=(0,z.expectString)(n.message));let s=new cd.TooManyRequestsException({$metadata:ur(e),...r});return(0,z.decorateServiceException)(s,e.body)},fd=async(e,t)=>{let r=Ie({}),n=e.body;n.message!=null&&(r.message=(0,z.expectString)(n.message));let s=new cd.UnauthorizedException({$metadata:ur(e),...r});return(0,z.decorateServiceException)(s,e.body)},c$=(e,t)=>({accountId:(0,z.expectString)(e.accountId),accountName:(0,z.expectString)(e.accountName),emailAddress:(0,z.expectString)(e.emailAddress)}),d$=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:c$(n,t)),l$=(e,t)=>({accessKeyId:(0,z.expectString)(e.accessKeyId),expiration:(0,z.expectLong)(e.expiration),secretAccessKey:(0,z.expectString)(e.secretAccessKey),sessionToken:(0,z.expectString)(e.sessionToken)}),u$=(e,t)=>({accountId:(0,z.expectString)(e.accountId),roleName:(0,z.expectString)(e.roleName)}),f$=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:u$(n,t)),ur=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),sb=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),p$=(e,t)=>sb(e,t).then(r=>t.utf8Encoder(r)),pd=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),md=(e,t)=>p$(e,t).then(r=>r.length?JSON.parse(r):{}),hd=async(e,t)=>{let r=await md(e,t);return r.message=r.message??r.Message,r},_d=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var nh=l(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.GetRoleCredentialsCommand=void 0;var m$=O(),h$=M(),_$=x(),ib=jr(),ob=Ms(),ks=class extends _$.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,h$.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,m$.getEndpointPlugin)(r,ks.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:ib.GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:ib.GetRoleCredentialsResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,ob.serializeAws_restJson1GetRoleCredentialsCommand)(t,r)}deserialize(t,r){return(0,ob.deserializeAws_restJson1GetRoleCredentialsCommand)(t,r)}};yd.GetRoleCredentialsCommand=ks});var wd=l(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.ListAccountRolesCommand=void 0;var y$=O(),g$=M(),w$=x(),ab=jr(),cb=Ms(),js=class extends w$.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,g$.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,y$.getEndpointPlugin)(r,js.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"ListAccountRolesCommand",inputFilterSensitiveLog:ab.ListAccountRolesRequestFilterSensitiveLog,outputFilterSensitiveLog:ab.ListAccountRolesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,cb.serializeAws_restJson1ListAccountRolesCommand)(t,r)}deserialize(t,r){return(0,cb.deserializeAws_restJson1ListAccountRolesCommand)(t,r)}};gd.ListAccountRolesCommand=js});var Ed=l(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.ListAccountsCommand=void 0;var v$=O(),E$=M(),S$=x(),db=jr(),lb=Ms(),Ds=class extends S$.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,E$.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,v$.getEndpointPlugin)(r,Ds.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:db.ListAccountsRequestFilterSensitiveLog,outputFilterSensitiveLog:db.ListAccountsResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,lb.serializeAws_restJson1ListAccountsCommand)(t,r)}deserialize(t,r){return(0,lb.deserializeAws_restJson1ListAccountsCommand)(t,r)}};vd.ListAccountsCommand=Ds});var sh=l(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.LogoutCommand=void 0;var b$=O(),P$=M(),I$=x(),A$=jr(),ub=Ms(),Ls=class extends I$.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,P$.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,b$.getEndpointPlugin)(r,Ls.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"LogoutCommand",inputFilterSensitiveLog:A$.LogoutRequestFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,ub.serializeAws_restJson1LogoutCommand)(t,r)}deserialize(t,r){return(0,ub.deserializeAws_restJson1LogoutCommand)(t,r)}};Sd.LogoutCommand=Ls});var fb=l(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.resolveClientEndpointParameters=void 0;var R$=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});bd.resolveClientEndpointParameters=R$});var pb=l((cee,C$)=>{C$.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.202.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"2.0.0","@aws-crypto/sha256-js":"2.0.0","@aws-sdk/config-resolver":"3.201.0","@aws-sdk/fetch-http-handler":"3.201.0","@aws-sdk/hash-node":"3.201.0","@aws-sdk/invalid-dependency":"3.201.0","@aws-sdk/middleware-content-length":"3.201.0","@aws-sdk/middleware-endpoint":"3.201.0","@aws-sdk/middleware-host-header":"3.201.0","@aws-sdk/middleware-logger":"3.201.0","@aws-sdk/middleware-recursion-detection":"3.201.0","@aws-sdk/middleware-retry":"3.201.0","@aws-sdk/middleware-serde":"3.201.0","@aws-sdk/middleware-stack":"3.201.0","@aws-sdk/middleware-user-agent":"3.201.0","@aws-sdk/node-config-provider":"3.201.0","@aws-sdk/node-http-handler":"3.201.0","@aws-sdk/protocol-http":"3.201.0","@aws-sdk/smithy-client":"3.201.0","@aws-sdk/types":"3.201.0","@aws-sdk/url-parser":"3.201.0","@aws-sdk/util-base64-browser":"3.188.0","@aws-sdk/util-base64-node":"3.201.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.201.0","@aws-sdk/util-defaults-mode-browser":"3.201.0","@aws-sdk/util-defaults-mode-node":"3.201.0","@aws-sdk/util-endpoints":"3.202.0","@aws-sdk/util-user-agent-browser":"3.201.0","@aws-sdk/util-user-agent-node":"3.201.0","@aws-sdk/util-utf8-browser":"3.188.0","@aws-sdk/util-utf8-node":"3.201.0",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.188.0","@tsconfig/node14":"1.0.3","@types/node":"^12.7.5",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Pd=l(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.fromString=yn.fromArrayBuffer=void 0;var T$=Ep(),ih=require("buffer"),x$=(e,t=0,r=e.byteLength-t)=>{if(!(0,T$.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return ih.Buffer.from(e,t,r)};yn.fromArrayBuffer=x$;var q$=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?ih.Buffer.from(e,t):ih.Buffer.from(e)};yn.fromString=q$});var Ad=l(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.Hash=void 0;var oh=Pd(),O$=require("buffer"),mb=require("crypto"),ah=class{constructor(t,r){this.hash=r?(0,mb.createHmac)(t,hb(r)):(0,mb.createHash)(t)}update(t,r){this.hash.update(hb(t,r))}digest(){return Promise.resolve(this.hash.digest())}};Id.Hash=ah;function hb(e,t){return O$.Buffer.isBuffer(e)?e:typeof e=="string"?(0,oh.fromString)(e,t):ArrayBuffer.isView(e)?(0,oh.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,oh.fromArrayBuffer)(e)}});var dh=l(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.buildQueryString=void 0;var ch=wp();function N$(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,ch.escapeUri)(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${(0,ch.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,ch.escapeUri)(n)}`),t.push(s)}}return t.join("&")}Rd.buildQueryString=N$});var _b=l(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.NODEJS_TIMEOUT_ERROR_CODES=void 0;Cd.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var lh=l(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.getTransformedHeaders=void 0;var M$=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};Td.getTransformedHeaders=M$});var yb=l(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.setConnectionTimeout=void 0;var k$=(e,t,r=0)=>{!r||e.on("socket",n=>{if(n.connecting){let s=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);n.on("connect",()=>{clearTimeout(s)})}})};xd.setConnectionTimeout=k$});var gb=l(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.setSocketTimeout=void 0;var j$=(e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})};qd.setSocketTimeout=j$});var uh=l(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.writeRequestBody=void 0;var D$=require("stream");function L$(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{wb(e,t.body)}):wb(e,t.body)}Od.writeRequestBody=L$;function wb(e,t){t instanceof D$.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}});var Sb=l(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.NodeHttpHandler=void 0;var F$=ke(),z$=dh(),vb=require("http"),Eb=require("https"),U$=_b(),$$=lh(),H$=yb(),G$=gb(),B$=uh(),fh=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{connectionTimeout:r,socketTimeout:n,httpAgent:s,httpsAgent:i}=t||{},o=!0,a=50;return{connectionTimeout:r,socketTimeout:n,httpAgent:s||new vb.Agent({keepAlive:o,maxSockets:a}),httpsAgent:i||new Eb.Agent({keepAlive:o,maxSockets:a})}}destroy(){var t,r,n,s;(r=(t=this.config)===null||t===void 0?void 0:t.httpAgent)===null||r===void 0||r.destroy(),(s=(n=this.config)===null||n===void 0?void 0:n.httpsAgent)===null||s===void 0||s.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let u=new Error("Request aborted");u.name="AbortError",s(u);return}let i=t.protocol==="https:",o=(0,z$.buildQueryString)(t.query||{}),a={headers:t.headers,host:t.hostname,method:t.method,path:o?`${t.path}?${o}`:t.path,port:t.port,agent:i?this.config.httpsAgent:this.config.httpAgent},d=(i?Eb.request:vb.request)(a,u=>{let p=new F$.HttpResponse({statusCode:u.statusCode||-1,headers:(0,$$.getTransformedHeaders)(u.headers),body:u});n({response:p})});d.on("error",u=>{U$.NODEJS_TIMEOUT_ERROR_CODES.includes(u.code)?s(Object.assign(u,{name:"TimeoutError"})):s(u)}),(0,H$.setConnectionTimeout)(d,s,this.config.connectionTimeout),(0,G$.setSocketTimeout)(d,s,this.config.socketTimeout),r&&(r.onabort=()=>{d.abort();let u=new Error("Request aborted");u.name="AbortError",s(u)}),(0,B$.writeRequestBody)(d,t)})}};Nd.NodeHttpHandler=fh});var bb=l(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.NodeHttp2Handler=void 0;var V$=ke(),W$=dh(),ph=require("http2"),K$=lh(),J$=uh(),mh=class{constructor(t){this.metadata={handlerProtocol:"h2"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})}),this.sessionCache=new Map}destroy(){for(let t of this.sessionCache.values())t.forEach(r=>this.destroySession(r));this.sessionCache.clear()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let{requestTimeout:n,disableConcurrentStreams:s}=this.config;return new Promise((i,o)=>{let a=!1;if(r?.aborted){a=!0;let D=new Error("Request aborted");D.name="AbortError",o(D);return}let{hostname:c,method:d,port:u,protocol:p,path:f,query:h}=t,_=`${p}//${c}${u?`:${u}`:""}`,y=this.getSession(_,s||!1),g=D=>{s&&this.destroySession(y),a=!0,o(D)},b=(0,W$.buildQueryString)(h||{}),q=y.request({...t.headers,[ph.constants.HTTP2_HEADER_PATH]:b?`${f}?${b}`:f,[ph.constants.HTTP2_HEADER_METHOD]:d});y.ref(),q.on("response",D=>{let Me=new V$.HttpResponse({statusCode:D[":status"]||-1,headers:(0,K$.getTransformedHeaders)(D),body:q});a=!0,i({response:Me}),s&&(y.close(),this.deleteSessionFromCache(_,y))}),n&&q.setTimeout(n,()=>{q.close();let D=new Error(`Stream timed out because of no activity for ${n} ms`);D.name="TimeoutError",g(D)}),r&&(r.onabort=()=>{q.close();let D=new Error("Request aborted");D.name="AbortError",g(D)}),q.on("frameError",(D,Me,Vt)=>{g(new Error(`Frame type id ${D} in stream id ${Vt} has failed with code ${Me}.`))}),q.on("error",g),q.on("aborted",()=>{g(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${q.rstCode}.`))}),q.on("close",()=>{y.unref(),s&&y.destroy(),a||g(new Error("Unexpected error: http2 request did not get a response"))}),(0,J$.writeRequestBody)(q,t)})}getSession(t,r){var n;let s=this.sessionCache,i=s.get(t)||[];if(i.length>0&&!r)return i[0];let o=(0,ph.connect)(t);o.unref();let a=()=>{this.destroySession(o),this.deleteSessionFromCache(t,o)};return o.on("goaway",a),o.on("error",a),o.on("frameError",a),o.on("close",()=>this.deleteSessionFromCache(t,o)),!((n=this.config)===null||n===void 0)&&n.sessionTimeout&&o.setTimeout(this.config.sessionTimeout,a),i.push(o),s.set(t,i),o}destroySession(t){t.destroyed||t.destroy()}deleteSessionFromCache(t,r){let n=this.sessionCache.get(t)||[];!n.includes(r)||this.sessionCache.set(t,n.filter(s=>s!==r))}};Md.NodeHttp2Handler=mh});var Pb=l(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.Collector=void 0;var Y$=require("stream"),hh=class extends Y$.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};kd.Collector=hh});var Ib=l(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.streamCollector=void 0;var X$=Pb(),Q$=e=>new Promise((t,r)=>{let n=new X$.Collector;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})});jd.streamCollector=Q$});var Dd=l(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var _h=N();_h.__exportStar(Sb(),Fs);_h.__exportStar(bb(),Fs);_h.__exportStar(Ib(),Fs)});var Ld=l(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.toBase64=gn.fromBase64=void 0;var Ab=Pd(),Z$=/^[A-Za-z0-9+/]*={0,2}$/;function eH(e){if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Z$.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Ab.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}gn.fromBase64=eH;function tH(e){return(0,Ab.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("base64")}gn.toBase64=tH});var Cb=l(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.calculateBodyLength=void 0;var Rb=require("fs"),rH=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Rb.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Rb.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};Fd.calculateBodyLength=rH});var zd=l(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var nH=N();nH.__exportStar(Cb(),yh)});var Tb=l((Ud,gh)=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.isCrtAvailable=void 0;var sH=()=>{try{return typeof require=="function"&&typeof gh<"u"&&gh.require&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};Ud.isCrtAvailable=sH});var $d=l(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.defaultUserAgent=Ct.UA_APP_ID_INI_NAME=Ct.UA_APP_ID_ENV_NAME=void 0;var iH=kr(),xb=require("os"),wh=require("process"),oH=Tb();Ct.UA_APP_ID_ENV_NAME="AWS_SDK_UA_APP_ID";Ct.UA_APP_ID_INI_NAME="sdk-ua-app-id";var aH=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],[`os/${(0,xb.platform)()}`,(0,xb.release)()],["lang/js"],["md/nodejs",`${wh.versions.node}`]],n=(0,oH.isCrtAvailable)();n&&r.push(n),e&&r.push([`api/${e}`,t]),wh.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${wh.env.AWS_EXECUTION_ENV}`]);let s=(0,iH.loadConfig)({environmentVariableSelector:o=>o[Ct.UA_APP_ID_ENV_NAME],configFileSelector:o=>o[Ct.UA_APP_ID_INI_NAME],default:void 0})(),i;return async()=>{if(!i){let o=await s;i=o?[...r,[`app/${o}`]]:[...r]}return i}};Ct.defaultUserAgent=aH});var Hd=l(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.toUtf8=wn.fromUtf8=void 0;var qb=Pd(),cH=e=>{let t=(0,qb.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};wn.fromUtf8=cH;var dH=e=>(0,qb.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8");wn.toUtf8=dH});var Ob=l((Ree,lH)=>{lH.exports={version:"1.1",partitions:[{id:"aws",regionRegex:"^(us|eu|ap|sa|ca|me|af)-\\w+-\\d+$",regions:{"af-south-1":{},"af-east-1":{},"ap-northeast-1":{},"ap-northeast-2":{},"ap-northeast-3":{},"ap-south-1":{},"ap-southeast-1":{},"ap-southeast-2":{},"ap-southeast-3":{},"ca-central-1":{},"eu-central-1":{},"eu-north-1":{},"eu-south-1":{},"eu-west-1":{},"eu-west-2":{},"eu-west-3":{},"me-south-1":{},"sa-east-1":{},"us-east-1":{},"us-east-2":{},"us-west-1":{},"us-west-2":{},"aws-global":{}},outputs:{name:"aws",dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",supportsFIPS:!0,supportsDualStack:!0}},{id:"aws-us-gov",regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"us-gov-west-1":{},"us-gov-east-1":{},"aws-us-gov-global":{}},outputs:{name:"aws-us-gov",dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",supportsFIPS:!0,supportsDualStack:!0}},{id:"aws-cn",regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"cn-north-1":{},"cn-northwest-1":{},"aws-cn-global":{}},outputs:{name:"aws-cn",dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",supportsFIPS:!0,supportsDualStack:!0}},{id:"aws-iso",regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",outputs:{name:"aws-iso",dnsSuffix:"c2s.ic.gov",supportsFIPS:!0,supportsDualStack:!1,dualStackDnsSuffix:"c2s.ic.gov"},regions:{"aws-iso-global":{}}},{id:"aws-iso-b",regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",outputs:{name:"aws-iso-b",dnsSuffix:"sc2s.sgov.gov",supportsFIPS:!0,supportsDualStack:!1,dualStackDnsSuffix:"sc2s.sgov.gov"},regions:{"aws-iso-b-global":{}}}]}});var Eh=l(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.partition=void 0;var uH=N(),fH=uH.__importDefault(Ob()),{partitions:vh}=fH.default,Nb=vh.find(e=>e.id==="aws"),pH=e=>{for(let t of vh){let{regions:r,outputs:n}=t;for(let[s,i]of Object.entries(r))if(s===e)return{...n,...i}}for(let t of vh){let{regionRegex:r,outputs:n}=t;if(new RegExp(r).test(e))return{...n}}if(!Nb)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...Nb.outputs}};Gd.partition=pH});var Mb=l(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.debugId=void 0;Bd.debugId="endpoints"});var kb=l(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.toDebugString=void 0;function Sh(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Sh(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Sh).join(", ")})`:JSON.stringify(e,null,2)}Vd.toDebugString=Sh});var zs=l(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});var jb=N();jb.__exportStar(Mb(),Wd);jb.__exportStar(kb(),Wd)});var Db=l(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.EndpointError=void 0;var bh=class extends Error{constructor(t){super(t),this.name="EndpointError"}};Kd.EndpointError=bh});var Fb=l(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0})});var Ub=l(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0})});var Hb=l($b=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0})});var Bb=l(Gb=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0})});var Wb=l(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0})});var Je=l(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});var vn=N();vn.__exportStar(Db(),fr);vn.__exportStar(Fb(),fr);vn.__exportStar(Ub(),fr);vn.__exportStar(Hb(),fr);vn.__exportStar(Bb(),fr);vn.__exportStar(Wb(),fr)});var Ph=l(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.isIpAddress=void 0;var mH=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),hH=e=>mH.test(e)||e.startsWith("[")&&e.endsWith("]");Jd.isIpAddress=hH});var Ih=l(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.isValidHostLabel=void 0;var _H=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),yH=(e,t=!1)=>{if(!t)return _H.test(e);let r=e.split(".");for(let n of r)if(!(0,Us.isValidHostLabel)(n))return!1;return!0};Us.isValidHostLabel=yH});var Kb=l($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.isVirtualHostableS3Bucket=void 0;var gH=Ph(),wH=Ih(),vH=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!(0,$s.isVirtualHostableS3Bucket)(r))return!1;return!0}return!(!(0,wH.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,gH.isIpAddress)(e))};$s.isVirtualHostableS3Bucket=vH});var Jb=l(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.parseArn=void 0;var EH=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,s,i,o,...a]=t;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:i,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}};Yd.parseArn=EH});var Yb=l(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});var Ah=N();Ah.__exportStar(Kb(),Hs);Ah.__exportStar(Jb(),Hs);Ah.__exportStar(Eh(),Hs)});var Xb=l(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.booleanEquals=void 0;var SH=(e,t)=>e===t;Xd.booleanEquals=SH});var Zb=l(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.getAttrPathList=void 0;var Qb=Je(),bH=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Qb.EndpointError(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Qb.EndpointError(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r};Qd.getAttrPathList=bH});var eP=l(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.getAttr=void 0;var PH=Je(),IH=Zb(),AH=(e,t)=>(0,IH.getAttrPathList)(t).reduce((r,n)=>{if(typeof r!="object")throw new PH.EndpointError(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);Zd.getAttr=AH});var tP=l(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.isSet=void 0;var RH=e=>e!=null;el.isSet=RH});var rP=l(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.not=void 0;var CH=e=>!e;tl.not=CH});var sP=l(nP=>{"use strict";Object.defineProperty(nP,"__esModule",{value:!0})});var oP=l(iP=>{"use strict";Object.defineProperty(iP,"__esModule",{value:!0})});var cP=l(aP=>{"use strict";Object.defineProperty(aP,"__esModule",{value:!0})});var lP=l(dP=>{"use strict";Object.defineProperty(dP,"__esModule",{value:!0})});var fP=l(uP=>{"use strict";Object.defineProperty(uP,"__esModule",{value:!0})});var mP=l(pP=>{"use strict";Object.defineProperty(pP,"__esModule",{value:!0})});var hP=l(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.EndpointURLScheme=void 0;var TH;(function(e){e.HTTP="http",e.HTTPS="https"})(TH=Gs.EndpointURLScheme||(Gs.EndpointURLScheme={}))});var yP=l(_P=>{"use strict";Object.defineProperty(_P,"__esModule",{value:!0})});var wP=l(gP=>{"use strict";Object.defineProperty(gP,"__esModule",{value:!0})});var EP=l(vP=>{"use strict";Object.defineProperty(vP,"__esModule",{value:!0})});var bP=l(SP=>{"use strict";Object.defineProperty(SP,"__esModule",{value:!0})});var IP=l(PP=>{"use strict";Object.defineProperty(PP,"__esModule",{value:!0})});var RP=l(AP=>{"use strict";Object.defineProperty(AP,"__esModule",{value:!0})});var TP=l(CP=>{"use strict";Object.defineProperty(CP,"__esModule",{value:!0})});var qP=l(xP=>{"use strict";Object.defineProperty(xP,"__esModule",{value:!0})});var NP=l(OP=>{"use strict";Object.defineProperty(OP,"__esModule",{value:!0})});var kP=l(MP=>{"use strict";Object.defineProperty(MP,"__esModule",{value:!0})});var DP=l(jP=>{"use strict";Object.defineProperty(jP,"__esModule",{value:!0})});var FP=l(LP=>{"use strict";Object.defineProperty(LP,"__esModule",{value:!0})});var UP=l(zP=>{"use strict";Object.defineProperty(zP,"__esModule",{value:!0})});var HP=l($P=>{"use strict";Object.defineProperty($P,"__esModule",{value:!0})});var BP=l(GP=>{"use strict";Object.defineProperty(GP,"__esModule",{value:!0})});var VP=l(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});var ie=Ho();ie.__exportStar(sP(),K);ie.__exportStar(oP(),K);ie.__exportStar(cP(),K);ie.__exportStar(lP(),K);ie.__exportStar(fP(),K);ie.__exportStar(mP(),K);ie.__exportStar(hP(),K);ie.__exportStar(yP(),K);ie.__exportStar(wP(),K);ie.__exportStar(EP(),K);ie.__exportStar(bP(),K);ie.__exportStar(IP(),K);ie.__exportStar(RP(),K);ie.__exportStar(TP(),K);ie.__exportStar(qP(),K);ie.__exportStar(NP(),K);ie.__exportStar(kP(),K);ie.__exportStar(DP(),K);ie.__exportStar(FP(),K);ie.__exportStar(UP(),K);ie.__exportStar(HP(),K);ie.__exportStar(BP(),K)});var WP=l(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.parseURL=void 0;var Ch=VP(),xH=Ph(),Rh={[Ch.EndpointURLScheme.HTTP]:80,[Ch.EndpointURLScheme.HTTPS]:443},qH=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:h,protocol:_="",path:y="",query:g={}}=e,b=new URL(`${_}//${f}${h?`:${h}`:""}${y}`);return b.search=Object.entries(g).map(([q,D])=>`${q}=${D}`).join("&"),b}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(Ch.EndpointURLScheme).includes(c))return null;let d=(0,xH.isIpAddress)(s),u=r.includes(`${n}:${Rh[c]}`)||typeof e=="string"&&e.includes(`${n}:${Rh[c]}`),p=`${n}${u?`:${Rh[c]}`:""}`;return{scheme:c,authority:p,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:d}};rl.parseURL=qH});var KP=l(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.stringEquals=void 0;var OH=(e,t)=>e===t;nl.stringEquals=OH});var JP=l(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.substring=void 0;var NH=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);sl.substring=NH});var YP=l(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.uriEncode=void 0;var MH=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);il.uriEncode=MH});var Th=l(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.aws=void 0;var Tt=N();De.aws=Tt.__importStar(Yb());Tt.__exportStar(Xb(),De);Tt.__exportStar(eP(),De);Tt.__exportStar(tP(),De);Tt.__exportStar(Ih(),De);Tt.__exportStar(rP(),De);Tt.__exportStar(WP(),De);Tt.__exportStar(KP(),De);Tt.__exportStar(JP(),De);Tt.__exportStar(YP(),De)});var xh=l(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.evaluateTemplate=void 0;var kH=Th(),jH=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,d]=a.split("#");r.push((0,kH.getAttr)(n[c],d))}else r.push(n[a]);s=o+1}return r.join("")};ol.evaluateTemplate=jH});var XP=l(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.getReferenceValue=void 0;var DH=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];al.getReferenceValue=DH});var Bs=l(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.evaluateExpression=void 0;var LH=Je(),FH=qh(),zH=xh(),UH=XP(),$H=(e,t,r)=>{if(typeof e=="string")return(0,zH.evaluateTemplate)(e,r);if(e.fn)return(0,FH.callFunction)(e,r);if(e.ref)return(0,UH.getReferenceValue)(e,r);throw new LH.EndpointError(`'${t}': ${String(e)} is not a string, function or reference.`)};cl.evaluateExpression=$H});var qh=l(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.callFunction=void 0;var HH=N(),GH=HH.__importStar(Th()),BH=Bs(),VH=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:(0,BH.evaluateExpression)(s,"arg",r));return e.split(".").reduce((s,i)=>s[i],GH)(...n)};dl.callFunction=VH});var QP=l(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.evaluateCondition=void 0;var Oh=zs(),WH=Je(),KH=qh(),JH=({assign:e,...t},r)=>{var n,s;if(e&&e in r.referenceRecord)throw new WH.EndpointError(`'${e}' is already defined in Reference Record.`);let i=(0,KH.callFunction)(t,r);return(s=(n=r.logger)===null||n===void 0?void 0:n.debug)===null||s===void 0||s.call(n,Oh.debugId,`evaluateCondition: ${(0,Oh.toDebugString)(t)} = ${(0,Oh.toDebugString)(i)}`),{result:i===""?!0:!!i,...e!=null&&{toAssign:{name:e,value:i}}}};ll.evaluateCondition=JH});var fl=l(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.evaluateConditions=void 0;var ZP=zs(),YH=QP(),XH=(e=[],t)=>{var r,n;let s={};for(let i of e){let{result:o,toAssign:a}=(0,YH.evaluateCondition)(i,{...t,referenceRecord:{...t.referenceRecord,...s}});if(!o)return{result:o};a&&(s[a.name]=a.value,(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,ZP.debugId,`assign: ${a.name} := ${(0,ZP.toDebugString)(a.value)}`))}return{result:!0,referenceRecord:s}};ul.evaluateConditions=XH});var eI=l(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.getEndpointHeaders=void 0;var QH=Je(),ZH=Bs(),eG=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=(0,ZH.evaluateExpression)(i,"Header value entry",t);if(typeof o!="string")throw new QH.EndpointError(`Header '${n}' value '${o}' is not a string`);return o})}),{});pl.getEndpointHeaders=eG});var rI=l(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.getEndpointProperty=void 0;var tI=Je(),tG=xh(),rG=Nh(),nG=(e,t)=>{if(Array.isArray(e))return e.map(r=>(0,Vs.getEndpointProperty)(r,t));switch(typeof e){case"string":return(0,tG.evaluateTemplate)(e,t);case"object":if(e===null)throw new tI.EndpointError(`Unexpected endpoint property: ${e}`);return(0,rG.getEndpointProperties)(e,t);case"boolean":return e;default:throw new tI.EndpointError(`Unexpected endpoint property type: ${typeof e}`)}};Vs.getEndpointProperty=nG});var Nh=l(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.getEndpointProperties=void 0;var sG=rI(),iG=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:(0,sG.getEndpointProperty)(s,t)}),{});ml.getEndpointProperties=iG});var nI=l(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.getEndpointUrl=void 0;var oG=Je(),aG=Bs(),cG=(e,t)=>{let r=(0,aG.evaluateExpression)(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new oG.EndpointError(`Endpoint URL must be a string, got ${typeof r}`)};hl.getEndpointUrl=cG});var iI=l(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.evaluateEndpointRule=void 0;var sI=zs(),dG=fl(),lG=eI(),uG=Nh(),fG=nI(),pG=(e,t)=>{var r,n;let{conditions:s,endpoint:i}=e,{result:o,referenceRecord:a}=(0,dG.evaluateConditions)(s,t);if(!o)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:d,properties:u,headers:p}=i;return(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,sI.debugId,`Resolving endpoint from template: ${(0,sI.toDebugString)(i)}`),{...p!=null&&{headers:(0,lG.getEndpointHeaders)(p,c)},...u!=null&&{properties:(0,uG.getEndpointProperties)(u,c)},url:(0,fG.getEndpointUrl)(d,c)}};_l.evaluateEndpointRule=pG});var oI=l(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.evaluateErrorRule=void 0;var mG=Je(),hG=fl(),_G=Bs(),yG=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=(0,hG.evaluateConditions)(r,t);if(!!s)throw new mG.EndpointError((0,_G.evaluateExpression)(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))};yl.evaluateErrorRule=yG});var aI=l(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.evaluateTreeRule=void 0;var gG=fl(),wG=Mh(),vG=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=(0,gG.evaluateConditions)(r,t);if(!!s)return(0,wG.evaluateRules)(n,{...t,referenceRecord:{...t.referenceRecord,...i}})};gl.evaluateTreeRule=vG});var Mh=l(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.evaluateRules=void 0;var cI=Je(),EG=iI(),SG=oI(),bG=aI(),PG=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=(0,EG.evaluateEndpointRule)(r,t);if(n)return n}else if(r.type==="error")(0,SG.evaluateErrorRule)(r,t);else if(r.type==="tree"){let n=(0,bG.evaluateTreeRule)(r,t);if(n)return n}else throw new cI.EndpointError(`Unknown endpoint rule: ${r}`);throw new cI.EndpointError("Rules evaluation failed")};wl.evaluateRules=PG});var dI=l(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});var IG=N();IG.__exportStar(Mh(),kh)});var lI=l(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.resolveEndpoint=void 0;var vl=zs(),AG=Je(),RG=dI(),CG=(e,t)=>{var r,n,s,i,o,a;let{endpointParams:c,logger:d}=t,{parameters:u,rules:p}=e;(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,vl.debugId,`Initial EndpointParams: ${(0,vl.toDebugString)(c)}`);let f=Object.entries(u).filter(([,y])=>y.default!=null).map(([y,g])=>[y,g.default]);if(f.length>0)for(let[y,g]of f)c[y]=(s=c[y])!==null&&s!==void 0?s:g;let h=Object.entries(u).filter(([,y])=>y.required).map(([y])=>y);for(let y of h)if(c[y]==null)throw new AG.EndpointError(`Missing required parameter: '${y}'`);let _=(0,RG.evaluateRules)(p,{endpointParams:c,logger:d,referenceRecord:{}});if(!((i=t.endpointParams)===null||i===void 0)&&i.Endpoint)try{let y=new URL(t.endpointParams.Endpoint),{protocol:g,port:b}=y;_.url.protocol=g,_.url.port=b}catch{}return(a=(o=t.logger)===null||o===void 0?void 0:o.debug)===null||a===void 0||a.call(o,vl.debugId,`Resolved endpoint: ${(0,vl.toDebugString)(_)}`),_};El.resolveEndpoint=CG});var Sl=l(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});var jh=N();jh.__exportStar(Eh(),Ws);jh.__exportStar(lI(),Ws);jh.__exportStar(Je(),Ws)});var uI=l(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.ruleSet=void 0;bl.ruleSet={version:"1.0",parameters:{Region:{builtIn:"AWS::Region",required:!1,documentation:"The AWS region used to dispatch the request.",type:"String"},UseDualStack:{builtIn:"AWS::UseDualStack",required:!0,default:!1,documentation:"When true, use the dual-stack endpoint. If the configured endpoint does not support dual-stack, dispatching the request MAY return an error.",type:"Boolean"},UseFIPS:{builtIn:"AWS::UseFIPS",required:!0,default:!1,documentation:"When true, send this request to the FIPS-compliant regional endpoint. If the configured endpoint does not have a FIPS compliant endpoint, dispatching the request will return an error.",type:"Boolean"},Endpoint:{builtIn:"SDK::Endpoint",required:!1,documentation:"Override the endpoint used to send this request",type:"String"}},rules:[{conditions:[{fn:"aws.partition",argv:[{ref:"Region"}],assign:"PartitionResult"}],type:"tree",rules:[{conditions:[{fn:"isSet",argv:[{ref:"Endpoint"}]},{fn:"parseURL",argv:[{ref:"Endpoint"}],assign:"url"}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[{ref:"UseFIPS"},!0]}],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:"error"},{conditions:[],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[{ref:"UseDualStack"},!0]}],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:"error"},{conditions:[],endpoint:{url:{ref:"Endpoint"},properties:{},headers:{}},type:"endpoint"}]}]},{conditions:[{fn:"booleanEquals",argv:[{ref:"UseFIPS"},!0]},{fn:"booleanEquals",argv:[{ref:"UseDualStack"},!0]}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsFIPS"]}]},{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsDualStack"]}]}],type:"tree",rules:[{conditions:[],endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:{},headers:{}},type:"endpoint"}]},{conditions:[],error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:"error"}]},{conditions:[{fn:"booleanEquals",argv:[{ref:"UseFIPS"},!0]}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsFIPS"]}]}],type:"tree",rules:[{conditions:[],type:"tree",rules:[{conditions:[],endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:{},headers:{}},type:"endpoint"}]}]},{conditions:[],error:"FIPS is enabled but this partition does not support FIPS",type:"error"}]},{conditions:[{fn:"booleanEquals",argv:[{ref:"UseDualStack"},!0]}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsDualStack"]}]}],type:"tree",rules:[{conditions:[],endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:{},headers:{}},type:"endpoint"}]},{conditions:[],error:"DualStack is enabled but this partition does not support DualStack",type:"error"}]},{conditions:[],endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:{},headers:{}},type:"endpoint"}]}]}});var fI=l(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.defaultEndpointResolver=void 0;var TG=Sl(),xG=uI(),qG=(e,t={})=>(0,TG.resolveEndpoint)(xG.ruleSet,{endpointParams:e,logger:t.logger});Pl.defaultEndpointResolver=qG});var pI=l(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.getRuntimeConfig=void 0;var OG=sn(),NG=fI(),MG=e=>({apiVersion:"2019-06-10",disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??NG.defaultEndpointResolver,logger:e?.logger??{},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??OG.parseUrl});Il.getRuntimeConfig=MG});var mI=l(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.IMDS_REGION_PATH=Oe.DEFAULTS_MODE_OPTIONS=Oe.ENV_IMDS_DISABLED=Oe.AWS_DEFAULT_REGION_ENV=Oe.AWS_REGION_ENV=Oe.AWS_EXECUTION_ENV=void 0;Oe.AWS_EXECUTION_ENV="AWS_EXECUTION_ENV";Oe.AWS_REGION_ENV="AWS_REGION";Oe.AWS_DEFAULT_REGION_ENV="AWS_DEFAULT_REGION";Oe.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";Oe.DEFAULTS_MODE_OPTIONS=["in-region","cross-region","mobile","standard","legacy"];Oe.IMDS_REGION_PATH="/latest/meta-data/placement/region"});var hI=l(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.NODE_DEFAULTS_MODE_CONFIG_OPTIONS=void 0;var kG="AWS_DEFAULTS_MODE",jG="defaults_mode";Al.NODE_DEFAULTS_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[kG],configFileSelector:e=>e[jG],default:"legacy"}});var gI=l(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.resolveDefaultsModeConfig=void 0;var DG=Qt(),_I=mn(),yI=kr(),LG=B(),pr=mI(),FG=hI(),zG=({region:e=(0,yI.loadConfig)(DG.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,yI.loadConfig)(FG.NODE_DEFAULTS_MODE_CONFIG_OPTIONS)}={})=>(0,LG.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return UG(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${pr.DEFAULTS_MODE_OPTIONS.join(", ")}, got ${r}`)}});Rl.resolveDefaultsModeConfig=zG;var UG=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await $G();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},$G=async()=>{var e;if(process.env[pr.AWS_EXECUTION_ENV]&&(process.env[pr.AWS_REGION_ENV]||process.env[pr.AWS_DEFAULT_REGION_ENV]))return(e=process.env[pr.AWS_REGION_ENV])!==null&&e!==void 0?e:process.env[pr.AWS_DEFAULT_REGION_ENV];if(!process.env[pr.ENV_IMDS_DISABLED])try{let t=await(0,_I.getInstanceMetadataEndpoint)();return(await(0,_I.httpRequest)({...t,path:pr.IMDS_REGION_PATH})).toString()}catch{}}});var Cl=l(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});var HG=N();HG.__exportStar(gI(),Dh)});var SI=l(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.getRuntimeConfig=void 0;var GG=de(),BG=GG.__importDefault(pb()),Tl=Qt(),VG=Ad(),Lh=Tr(),Ks=kr(),wI=Dd(),vI=Ld(),WG=zd(),KG=$d(),EI=Hd(),JG=pI(),YG=x(),XG=Cl(),QG=x(),ZG=e=>{(0,QG.emitWarningIfUnsupportedVersion)(process.version);let t=(0,XG.resolveDefaultsModeConfig)(e),r=()=>t().then(YG.loadConfigsForDefaultMode),n=(0,JG.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,base64Decoder:e?.base64Decoder??vI.fromBase64,base64Encoder:e?.base64Encoder??vI.toBase64,bodyLengthChecker:e?.bodyLengthChecker??WG.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,KG.defaultUserAgent)({serviceId:n.serviceId,clientVersion:BG.default.version}),maxAttempts:e?.maxAttempts??(0,Ks.loadConfig)(Lh.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Ks.loadConfig)(Tl.NODE_REGION_CONFIG_OPTIONS,Tl.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new wI.NodeHttpHandler(r),retryMode:e?.retryMode??(0,Ks.loadConfig)({...Lh.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Lh.DEFAULT_RETRY_MODE}),sha256:e?.sha256??VG.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??wI.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ks.loadConfig)(Tl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Ks.loadConfig)(Tl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS),utf8Decoder:e?.utf8Decoder??EI.fromUtf8,utf8Encoder:e?.utf8Encoder??EI.toUtf8}};xl.getRuntimeConfig=ZG});var Js=l(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.SSOClient=void 0;var e2=Qt(),t2=wa(),r2=O(),bI=Ca(),n2=Ta(),s2=xa(),PI=Tr(),II=Za(),i2=x(),o2=fb(),a2=SI(),Fh=class extends i2.Client{constructor(t){let r=(0,a2.getRuntimeConfig)(t),n=(0,o2.resolveClientEndpointParameters)(r),s=(0,e2.resolveRegionConfig)(n),i=(0,r2.resolveEndpointConfig)(s),o=(0,PI.resolveRetryConfig)(i),a=(0,bI.resolveHostHeaderConfig)(o),c=(0,II.resolveUserAgentConfig)(a);super(c),this.config=c,this.middlewareStack.use((0,PI.getRetryPlugin)(this.config)),this.middlewareStack.use((0,t2.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,bI.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,n2.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,s2.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,II.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};ql.SSOClient=Fh});var Nl=l(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.SSO=void 0;var c2=nh(),d2=wd(),l2=Ed(),u2=sh(),f2=Js(),zh=class extends f2.SSOClient{getRoleCredentials(t,r,n){let s=new c2.GetRoleCredentialsCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listAccountRoles(t,r,n){let s=new d2.ListAccountRolesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listAccounts(t,r,n){let s=new l2.ListAccountsCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}logout(t,r,n){let s=new u2.LogoutCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};Ol.SSO=zh});var AI=l(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var Ml=de();Ml.__exportStar(nh(),En);Ml.__exportStar(wd(),En);Ml.__exportStar(Ed(),En);Ml.__exportStar(sh(),En)});var RI=l(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});var p2=de();p2.__exportStar(jr(),Uh)});var TI=l(CI=>{"use strict";Object.defineProperty(CI,"__esModule",{value:!0})});var xI=l(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.paginateListAccountRoles=void 0;var m2=wd(),h2=Nl(),_2=Js(),y2=async(e,t,...r)=>await e.send(new m2.ListAccountRolesCommand(t),...r),g2=async(e,t,...r)=>await e.listAccountRoles(t,...r);async function*w2(e,t,...r){let n=e.startingToken||void 0,s=!0,i;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof h2.SSO)i=await g2(e.client,t,...r);else if(e.client instanceof _2.SSOClient)i=await y2(e.client,t,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield i;let o=n;n=i.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==o))}return void 0}kl.paginateListAccountRoles=w2});var qI=l(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.paginateListAccounts=void 0;var v2=Ed(),E2=Nl(),S2=Js(),b2=async(e,t,...r)=>await e.send(new v2.ListAccountsCommand(t),...r),P2=async(e,t,...r)=>await e.listAccounts(t,...r);async function*I2(e,t,...r){let n=e.startingToken||void 0,s=!0,i;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof E2.SSO)i=await P2(e.client,t,...r);else if(e.client instanceof S2.SSOClient)i=await b2(e.client,t,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield i;let o=n;n=i.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==o))}return void 0}jl.paginateListAccounts=I2});var OI=l(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});var $h=de();$h.__exportStar(TI(),Ys);$h.__exportStar(xI(),Ys);$h.__exportStar(qI(),Ys)});var Hh=l(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.SSOServiceException=void 0;var Xs=de();Xs.__exportStar(Nl(),zt);Xs.__exportStar(Js(),zt);Xs.__exportStar(AI(),zt);Xs.__exportStar(RI(),zt);Xs.__exportStar(OI(),zt);var A2=id();Object.defineProperty(zt,"SSOServiceException",{enumerable:!0,get:function(){return A2.SSOServiceException}})});var MI=l(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.resolveSSOCredentials=void 0;var NI=Hh(),Dl=B(),R2=lr(),C2=15*60*1e3,Ll=!1,T2=async({ssoStartUrl:e,ssoAccountId:t,ssoRegion:r,ssoRoleName:n,ssoClient:s})=>{let i,o="To refresh this SSO session run aws sso login with the corresponding profile.";try{i=await(0,R2.getSSOTokenFromFile)(e)}catch{throw new Dl.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${o}`,Ll)}if(new Date(i.expiresAt).getTime()-Date.now()<=C2)throw new Dl.CredentialsProviderError(`The SSO session associated with this profile has expired. ${o}`,Ll);let{accessToken:a}=i,c=s||new NI.SSOClient({region:r}),d;try{d=await c.send(new NI.GetRoleCredentialsCommand({accountId:t,roleName:n,accessToken:a}))}catch(_){throw Dl.CredentialsProviderError.from(_,Ll)}let{roleCredentials:{accessKeyId:u,secretAccessKey:p,sessionToken:f,expiration:h}={}}=d;if(!u||!p||!f||!h)throw new Dl.CredentialsProviderError("SSO returns an invalid temporary credential.",Ll);return{accessKeyId:u,secretAccessKey:p,sessionToken:f,expiration:new Date(h)}};Fl.resolveSSOCredentials=T2});var Gh=l(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.validateSsoProfile=void 0;var x2=B(),q2=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:s}=e;if(!t||!r||!n||!s)throw new x2.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};zl.validateSsoProfile=q2});var LI=l(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.fromSSO=void 0;var kI=B(),jI=lr(),O2=th(),DI=MI(),N2=Gh(),M2=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i}=e;if(!t&&!r&&!n&&!s){let o=await(0,jI.parseKnownFiles)(e),a=(0,jI.getProfileName)(e),c=o[a];if(!(0,O2.isSsoProfile)(c))throw new kI.CredentialsProviderError(`Profile ${a} is not configured with SSO credentials.`);let{sso_start_url:d,sso_account_id:u,sso_region:p,sso_role_name:f}=(0,N2.validateSsoProfile)(c);return(0,DI.resolveSSOCredentials)({ssoStartUrl:d,ssoAccountId:u,ssoRegion:p,ssoRoleName:f,ssoClient:i})}else{if(!t||!r||!n||!s)throw new kI.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return(0,DI.resolveSSOCredentials)({ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i})}};Ul.fromSSO=M2});var zI=l(FI=>{"use strict";Object.defineProperty(FI,"__esModule",{value:!0})});var Qs=l(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});var $l=de();$l.__exportStar(LI(),Sn);$l.__exportStar(th(),Sn);$l.__exportStar(zI(),Sn);$l.__exportStar(Gh(),Sn)});var $I=l(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.resolveSsoCredentials=bn.isSsoProfile=void 0;var UI=Qs(),k2=Qs();Object.defineProperty(bn,"isSsoProfile",{enumerable:!0,get:function(){return k2.isSsoProfile}});var j2=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:s}=(0,UI.validateSsoProfile)(e);return(0,UI.fromSSO)({ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s})()};bn.resolveSsoCredentials=j2});var HI=l(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.resolveStaticCredentials=Pn.isStaticCredsProfile=void 0;var D2=e=>Boolean(e)&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1;Pn.isStaticCredsProfile=D2;var L2=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});Pn.resolveStaticCredentials=L2});var Bh=l(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.fromWebToken=void 0;var F2=B(),z2=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:s,policyArns:i,policy:o,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new F2.CredentialsProviderError(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:i,Policy:o,DurationSeconds:a})};Hl.fromWebToken=z2});var GI=l(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.fromTokenFile=void 0;var U2=B(),$2=require("fs"),H2=Bh(),G2="AWS_WEB_IDENTITY_TOKEN_FILE",B2="AWS_ROLE_ARN",V2="AWS_ROLE_SESSION_NAME",W2=(e={})=>async()=>K2(e);Gl.fromTokenFile=W2;var K2=e=>{var t,r,n;let s=(t=e?.webIdentityTokenFile)!==null&&t!==void 0?t:process.env[G2],i=(r=e?.roleArn)!==null&&r!==void 0?r:process.env[B2],o=(n=e?.roleSessionName)!==null&&n!==void 0?n:process.env[V2];if(!s||!i)throw new U2.CredentialsProviderError("Web identity configuration not specified");return(0,H2.fromWebToken)({...e,webIdentityToken:(0,$2.readFileSync)(s,{encoding:"ascii"}),roleArn:i,roleSessionName:o})()}});var Zs=l(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});var BI=N();BI.__exportStar(GI(),Bl);BI.__exportStar(Bh(),Bl)});var VI=l(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.resolveWebIdentityCredentials=In.isWebIdentityProfile=void 0;var J2=Zs(),Y2=e=>Boolean(e)&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1;In.isWebIdentityProfile=Y2;var X2=async(e,t)=>(0,J2.fromTokenFile)({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();In.resolveWebIdentityCredentials=X2});var eh=l(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.resolveProfileData=void 0;var Q2=B(),WI=nb(),KI=$I(),Vl=HI(),JI=VI(),Z2=async(e,t,r,n={})=>{let s=t[e];if(Object.keys(n).length>0&&(0,Vl.isStaticCredsProfile)(s))return(0,Vl.resolveStaticCredentials)(s);if((0,WI.isAssumeRoleProfile)(s))return(0,WI.resolveAssumeRoleCredentials)(e,t,r,n);if((0,Vl.isStaticCredsProfile)(s))return(0,Vl.resolveStaticCredentials)(s);if((0,JI.isWebIdentityProfile)(s))return(0,JI.resolveWebIdentityCredentials)(s,r);if((0,KI.isSsoProfile)(s))return(0,KI.resolveSsoCredentials)(s);throw new Q2.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)};Wl.resolveProfileData=Z2});var XI=l(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.fromIni=void 0;var YI=lr(),e3=eh(),t3=(e={})=>async()=>{let t=await(0,YI.parseKnownFiles)(e);return(0,e3.resolveProfileData)((0,YI.getProfileName)(e),t,e)};Kl.fromIni=t3});var Wh=l(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});var r3=de();r3.__exportStar(XI(),Vh)});var QI=l(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.getValidatedProcessCredentials=void 0;var n3=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};Jl.getValidatedProcessCredentials=n3});var ZI=l(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.resolveProcessCredentials=void 0;var Kh=B(),s3=require("child_process"),i3=require("util"),o3=QI(),a3=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let s=(0,i3.promisify)(s3.exec);try{let{stdout:i}=await s(n),o;try{o=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return(0,o3.getValidatedProcessCredentials)(e,o)}catch(i){throw new Kh.CredentialsProviderError(i.message)}}else throw new Kh.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new Kh.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)};Yl.resolveProcessCredentials=a3});var tA=l(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.fromProcess=void 0;var eA=lr(),c3=ZI(),d3=(e={})=>async()=>{let t=await(0,eA.parseKnownFiles)(e);return(0,c3.resolveProcessCredentials)((0,eA.getProfileName)(e),t)};Xl.fromProcess=d3});var Yh=l(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});var l3=N();l3.__exportStar(tA(),Jh)});var rA=l(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.remoteProvider=Dr.ENV_IMDS_DISABLED=void 0;var Ql=mn(),u3=B();Dr.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";var f3=e=>process.env[Ql.ENV_CMDS_RELATIVE_URI]||process.env[Ql.ENV_CMDS_FULL_URI]?(0,Ql.fromContainerMetadata)(e):process.env[Dr.ENV_IMDS_DISABLED]?async()=>{throw new u3.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:(0,Ql.fromInstanceMetadata)(e);Dr.remoteProvider=f3});var nA=l(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.defaultProvider=void 0;var p3=qc(),m3=Wh(),h3=Yh(),_3=Qs(),y3=Zs(),Xh=B(),g3=lr(),w3=rA(),v3=(e={})=>(0,Xh.memoize)((0,Xh.chain)(...e.profile||process.env[g3.ENV_PROFILE]?[]:[(0,p3.fromEnv)()],(0,_3.fromSSO)(e),(0,m3.fromIni)(e),(0,h3.fromProcess)(e),(0,y3.fromTokenFile)(e),(0,w3.remoteProvider)(e),async()=>{throw new Xh.CredentialsProviderError("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Zl.defaultProvider=v3});var eu=l(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});var E3=de();E3.__exportStar(nA(),Qh)});var sA=l(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.ruleSet=void 0;tu.ruleSet={version:"1.0",parameters:{Region:{builtIn:"AWS::Region",required:!1,documentation:"The AWS region used to dispatch the request.",type:"String"},UseDualStack:{builtIn:"AWS::UseDualStack",required:!0,default:!1,documentation:"When true, use the dual-stack endpoint. If the configured endpoint does not support dual-stack, dispatching the request MAY return an error.",type:"Boolean"},UseFIPS:{builtIn:"AWS::UseFIPS",required:!0,default:!1,documentation:"When true, send this request to the FIPS-compliant regional endpoint. If the configured endpoint does not have a FIPS compliant endpoint, dispatching the request will return an error.",type:"Boolean"},Endpoint:{builtIn:"SDK::Endpoint",required:!1,documentation:"Override the endpoint used to send this request",type:"String"},UseGlobalEndpoint:{builtIn:"AWS::STS::UseGlobalEndpoint",required:!0,default:!1,documentation:"Whether the global endpoint should be used, rather then the regional endpoint for us-east-1.",type:"Boolean"}},rules:[{conditions:[{fn:"aws.partition",argv:[{ref:"Region"}],assign:"PartitionResult"}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[{ref:"UseGlobalEndpoint"},!0]},{fn:"booleanEquals",argv:[{ref:"UseFIPS"},!1]},{fn:"booleanEquals",argv:[{ref:"UseDualStack"},!1]},{fn:"not",argv:[{fn:"isSet",argv:[{ref:"Endpoint"}]}]}],type:"tree",rules:[{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"ap-northeast-1"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"ap-south-1"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"ap-southeast-1"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"ap-southeast-2"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"aws-global"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"ca-central-1"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"eu-central-1"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"eu-north-1"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"eu-west-1"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"eu-west-2"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"eu-west-3"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"sa-east-1"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"us-east-1"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"us-east-2"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"us-west-1"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"us-west-2"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[],endpoint:{url:"https://sts.{Region}.{PartitionResult#dnsSuffix}",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"{Region}"}]},headers:{}},type:"endpoint"}]},{conditions:[{fn:"isSet",argv:[{ref:"Endpoint"}]},{fn:"parseURL",argv:[{ref:"Endpoint"}],assign:"url"}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[{ref:"UseFIPS"},!0]}],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:"error"},{conditions:[],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[{ref:"UseDualStack"},!0]}],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:"error"},{conditions:[],endpoint:{url:{ref:"Endpoint"},properties:{},headers:{}},type:"endpoint"}]}]},{conditions:[{fn:"booleanEquals",argv:[{ref:"UseFIPS"},!0]},{fn:"booleanEquals",argv:[{ref:"UseDualStack"},!0]}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsFIPS"]}]},{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsDualStack"]}]}],type:"tree",rules:[{conditions:[],endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:{},headers:{}},type:"endpoint"}]},{conditions:[],error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:"error"}]},{conditions:[{fn:"booleanEquals",argv:[{ref:"UseFIPS"},!0]}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsFIPS"]}]}],type:"tree",rules:[{conditions:[],type:"tree",rules:[{conditions:[{fn:"stringEquals",argv:["aws-us-gov",{fn:"getAttr",argv:[{ref:"PartitionResult"},"name"]}]}],endpoint:{url:"https://sts.{Region}.{PartitionResult#dnsSuffix}",properties:{},headers:{}},type:"endpoint"},{conditions:[],endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:{},headers:{}},type:"endpoint"}]}]},{conditions:[],error:"FIPS is enabled but this partition does not support FIPS",type:"error"}]},{conditions:[{fn:"booleanEquals",argv:[{ref:"UseDualStack"},!0]}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsDualStack"]}]}],type:"tree",rules:[{conditions:[],endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:{},headers:{}},type:"endpoint"}]},{conditions:[],error:"DualStack is enabled but this partition does not support DualStack",type:"error"}]},{conditions:[],type:"tree",rules:[{conditions:[{fn:"stringEquals",argv:[{ref:"Region"},"aws-global"]}],endpoint:{url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:"sigv4",signingName:"sts",signingRegion:"us-east-1"}]},headers:{}},type:"endpoint"},{conditions:[],endpoint:{url:"https://sts.{Region}.{PartitionResult#dnsSuffix}",properties:{},headers:{}},type:"endpoint"}]}]}]}});var iA=l(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.defaultEndpointResolver=void 0;var S3=Sl(),b3=sA(),P3=(e,t={})=>(0,S3.resolveEndpoint)(b3.ruleSet,{endpointParams:e,logger:t.logger});ru.defaultEndpointResolver=P3});var oA=l(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.getRuntimeConfig=void 0;var I3=sn(),A3=iA(),R3=e=>({apiVersion:"2011-06-15",disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??A3.defaultEndpointResolver,logger:e?.logger??{},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??I3.parseUrl});nu.getRuntimeConfig=R3});var lA=l(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.getRuntimeConfig=void 0;var C3=de(),T3=C3.__importDefault(h0()),x3=Dm(),su=Qt(),q3=eu(),O3=Ad(),Zh=Tr(),ei=kr(),aA=Dd(),cA=Ld(),N3=zd(),M3=$d(),dA=Hd(),k3=oA(),j3=x(),D3=Cl(),L3=x(),F3=e=>{(0,L3.emitWarningIfUnsupportedVersion)(process.version);let t=(0,D3.resolveDefaultsModeConfig)(e),r=()=>t().then(j3.loadConfigsForDefaultMode),n=(0,k3.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,base64Decoder:e?.base64Decoder??cA.fromBase64,base64Encoder:e?.base64Encoder??cA.toBase64,bodyLengthChecker:e?.bodyLengthChecker??N3.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??(0,x3.decorateDefaultCredentialProvider)(q3.defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,M3.defaultUserAgent)({serviceId:n.serviceId,clientVersion:T3.default.version}),maxAttempts:e?.maxAttempts??(0,ei.loadConfig)(Zh.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,ei.loadConfig)(su.NODE_REGION_CONFIG_OPTIONS,su.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new aA.NodeHttpHandler(r),retryMode:e?.retryMode??(0,ei.loadConfig)({...Zh.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Zh.DEFAULT_RETRY_MODE}),sha256:e?.sha256??O3.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??aA.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ei.loadConfig)(su.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,ei.loadConfig)(su.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS),utf8Decoder:e?.utf8Decoder??dA.fromUtf8,utf8Encoder:e?.utf8Encoder??dA.toUtf8}};iu.getRuntimeConfig=F3});var au=l(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.STSClient=void 0;var z3=Qt(),U3=wa(),$3=O(),uA=Ca(),H3=Ta(),G3=xa(),fA=Tr(),B3=p0(),pA=Za(),V3=x(),W3=m0(),K3=lA(),ti=class extends V3.Client{constructor(t){let r=(0,K3.getRuntimeConfig)(t),n=(0,W3.resolveClientEndpointParameters)(r),s=(0,z3.resolveRegionConfig)(n),i=(0,$3.resolveEndpointConfig)(s),o=(0,fA.resolveRetryConfig)(i),a=(0,uA.resolveHostHeaderConfig)(o),c=(0,B3.resolveStsAuthConfig)(a,{stsClientCtor:ti}),d=(0,pA.resolveUserAgentConfig)(c);super(d),this.config=d,this.middlewareStack.use((0,fA.getRetryPlugin)(this.config)),this.middlewareStack.use((0,U3.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,uA.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,H3.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,G3.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,pA.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};ou.STSClient=ti});var mA=l(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.STS=void 0;var J3=vc(),Y3=qm(),X3=bc(),Q3=Om(),Z3=Nm(),eB=Mm(),tB=km(),rB=jm(),nB=au(),e_=class extends nB.STSClient{assumeRole(t,r,n){let s=new J3.AssumeRoleCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}assumeRoleWithSAML(t,r,n){let s=new Y3.AssumeRoleWithSAMLCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}assumeRoleWithWebIdentity(t,r,n){let s=new X3.AssumeRoleWithWebIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}decodeAuthorizationMessage(t,r,n){let s=new Q3.DecodeAuthorizationMessageCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getAccessKeyInfo(t,r,n){let s=new Z3.GetAccessKeyInfoCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getCallerIdentity(t,r,n){let s=new eB.GetCallerIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getFederationToken(t,r,n){let s=new tB.GetFederationTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getSessionToken(t,r,n){let s=new rB.GetSessionTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};cu.STS=e_});var hA=l(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});var mr=de();mr.__exportStar(vc(),xt);mr.__exportStar(qm(),xt);mr.__exportStar(bc(),xt);mr.__exportStar(Om(),xt);mr.__exportStar(Nm(),xt);mr.__exportStar(Mm(),xt);mr.__exportStar(km(),xt);mr.__exportStar(jm(),xt)});var wA=l(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.decorateDefaultCredentialProvider=qt.getDefaultRoleAssumerWithWebIdentity=qt.getDefaultRoleAssumer=void 0;var _A=Dm(),yA=au(),gA=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,sB=(e={},t)=>(0,_A.getDefaultRoleAssumer)(e,gA(yA.STSClient,t));qt.getDefaultRoleAssumer=sB;var iB=(e={},t)=>(0,_A.getDefaultRoleAssumerWithWebIdentity)(e,gA(yA.STSClient,t));qt.getDefaultRoleAssumerWithWebIdentity=iB;var oB=e=>t=>e({roleAssumer:(0,qt.getDefaultRoleAssumer)(t),roleAssumerWithWebIdentity:(0,qt.getDefaultRoleAssumerWithWebIdentity)(t),...t});qt.decorateDefaultCredentialProvider=oB});var vA=l(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});var aB=de();aB.__exportStar(nt(),t_)});var Lr=l(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.STSServiceException=void 0;var ri=de();ri.__exportStar(mA(),Ut);ri.__exportStar(au(),Ut);ri.__exportStar(hA(),Ut);ri.__exportStar(wA(),Ut);ri.__exportStar(vA(),Ut);var cB=hc();Object.defineProperty(Ut,"STSServiceException",{enumerable:!0,get:function(){return cB.STSServiceException}})});var EA=l(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.ruleSet=void 0;du.ruleSet={version:"1.0",parameters:{Region:{builtIn:"AWS::Region",required:!1,documentation:"The AWS region used to dispatch the request.",type:"String"},UseDualStack:{builtIn:"AWS::UseDualStack",required:!0,default:!1,documentation:"When true, use the dual-stack endpoint. If the configured endpoint does not support dual-stack, dispatching the request MAY return an error.",type:"Boolean"},UseFIPS:{builtIn:"AWS::UseFIPS",required:!0,default:!1,documentation:"When true, send this request to the FIPS-compliant regional endpoint. If the configured endpoint does not have a FIPS compliant endpoint, dispatching the request will return an error.",type:"Boolean"},Endpoint:{builtIn:"SDK::Endpoint",required:!1,documentation:"Override the endpoint used to send this request",type:"String"}},rules:[{conditions:[{fn:"aws.partition",argv:[{ref:"Region"}],assign:"PartitionResult"}],type:"tree",rules:[{conditions:[{fn:"isSet",argv:[{ref:"Endpoint"}]},{fn:"parseURL",argv:[{ref:"Endpoint"}],assign:"url"}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[{ref:"UseFIPS"},!0]}],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:"error"},{conditions:[],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[{ref:"UseDualStack"},!0]}],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:"error"},{conditions:[],endpoint:{url:{ref:"Endpoint"},properties:{},headers:{}},type:"endpoint"}]}]},{conditions:[{fn:"booleanEquals",argv:[{ref:"UseFIPS"},!0]},{fn:"booleanEquals",argv:[{ref:"UseDualStack"},!0]}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsFIPS"]}]},{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsDualStack"]}]}],type:"tree",rules:[{conditions:[],endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:{},headers:{}},type:"endpoint"}]},{conditions:[],error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:"error"}]},{conditions:[{fn:"booleanEquals",argv:[{ref:"UseFIPS"},!0]}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsFIPS"]}]}],type:"tree",rules:[{conditions:[],type:"tree",rules:[{conditions:[],endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:{},headers:{}},type:"endpoint"}]}]},{conditions:[],error:"FIPS is enabled but this partition does not support FIPS",type:"error"}]},{conditions:[{fn:"booleanEquals",argv:[{ref:"UseDualStack"},!0]}],type:"tree",rules:[{conditions:[{fn:"booleanEquals",argv:[!0,{fn:"getAttr",argv:[{ref:"PartitionResult"},"supportsDualStack"]}]}],type:"tree",rules:[{conditions:[],endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:{},headers:{}},type:"endpoint"}]},{conditions:[],error:"DualStack is enabled but this partition does not support DualStack",type:"error"}]},{conditions:[],endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:{},headers:{}},type:"endpoint"}]}]}});var SA=l(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.defaultEndpointResolver=void 0;var dB=Sl(),lB=EA(),uB=(e,t={})=>(0,dB.resolveEndpoint)(lB.ruleSet,{endpointParams:e,logger:t.logger});lu.defaultEndpointResolver=uB});var bA=l(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.getRuntimeConfig=void 0;var fB=sn(),pB=SA(),mB=e=>({apiVersion:"2014-06-30",disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??pB.defaultEndpointResolver,logger:e?.logger??{},serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??fB.parseUrl});uu.getRuntimeConfig=mB});var RA=l(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.getRuntimeConfig=void 0;var hB=de(),_B=hB.__importDefault(mS()),yB=Lr(),fu=Qt(),gB=eu(),wB=Ad(),r_=Tr(),ni=kr(),PA=Dd(),IA=Ld(),vB=zd(),EB=$d(),AA=Hd(),SB=bA(),bB=x(),PB=Cl(),IB=x(),AB=e=>{(0,IB.emitWarningIfUnsupportedVersion)(process.version);let t=(0,PB.resolveDefaultsModeConfig)(e),r=()=>t().then(bB.loadConfigsForDefaultMode),n=(0,SB.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,base64Decoder:e?.base64Decoder??IA.fromBase64,base64Encoder:e?.base64Encoder??IA.toBase64,bodyLengthChecker:e?.bodyLengthChecker??vB.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??(0,yB.decorateDefaultCredentialProvider)(gB.defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,EB.defaultUserAgent)({serviceId:n.serviceId,clientVersion:_B.default.version}),maxAttempts:e?.maxAttempts??(0,ni.loadConfig)(r_.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,ni.loadConfig)(fu.NODE_REGION_CONFIG_OPTIONS,fu.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new PA.NodeHttpHandler(r),retryMode:e?.retryMode??(0,ni.loadConfig)({...r_.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||r_.DEFAULT_RETRY_MODE}),sha256:e?.sha256??wB.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??PA.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ni.loadConfig)(fu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,ni.loadConfig)(fu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS),utf8Decoder:e?.utf8Decoder??AA.fromUtf8,utf8Encoder:e?.utf8Encoder??AA.toUtf8}};pu.getRuntimeConfig=AB});var hu=l(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.CognitoIdentityClient=void 0;var RB=Qt(),CB=wa(),TB=O(),CA=Ca(),xB=Ta(),qB=xa(),TA=Tr(),OB=$(),xA=Za(),NB=x(),MB=pS(),kB=RA(),n_=class extends NB.Client{constructor(t){let r=(0,kB.getRuntimeConfig)(t),n=(0,MB.resolveClientEndpointParameters)(r),s=(0,RB.resolveRegionConfig)(n),i=(0,TB.resolveEndpointConfig)(s),o=(0,TA.resolveRetryConfig)(i),a=(0,CA.resolveHostHeaderConfig)(o),c=(0,OB.resolveAwsAuthConfig)(a),d=(0,xA.resolveUserAgentConfig)(c);super(d),this.config=d,this.middlewareStack.use((0,TA.getRetryPlugin)(this.config)),this.middlewareStack.use((0,CB.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,CA.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,xB.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,qB.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,xA.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};mu.CognitoIdentityClient=n_});var yu=l(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.CognitoIdentityServiceException=void 0;var jB=x(),si=class extends jB.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,si.prototype)}};_u.CognitoIdentityServiceException=si});var G=l(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.LookupDeveloperIdentityResponseFilterSensitiveLog=v.LookupDeveloperIdentityInputFilterSensitiveLog=v.ListTagsForResourceResponseFilterSensitiveLog=v.ListTagsForResourceInputFilterSensitiveLog=v.ListIdentityPoolsResponseFilterSensitiveLog=v.IdentityPoolShortDescriptionFilterSensitiveLog=v.ListIdentityPoolsInputFilterSensitiveLog=v.ListIdentitiesResponseFilterSensitiveLog=v.ListIdentitiesInputFilterSensitiveLog=v.GetPrincipalTagAttributeMapResponseFilterSensitiveLog=v.GetPrincipalTagAttributeMapInputFilterSensitiveLog=v.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog=v.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog=v.GetOpenIdTokenResponseFilterSensitiveLog=v.GetOpenIdTokenInputFilterSensitiveLog=v.GetIdentityPoolRolesResponseFilterSensitiveLog=v.RoleMappingFilterSensitiveLog=v.RulesConfigurationTypeFilterSensitiveLog=v.MappingRuleFilterSensitiveLog=v.GetIdentityPoolRolesInputFilterSensitiveLog=v.GetIdResponseFilterSensitiveLog=v.GetIdInputFilterSensitiveLog=v.GetCredentialsForIdentityResponseFilterSensitiveLog=v.CredentialsFilterSensitiveLog=v.GetCredentialsForIdentityInputFilterSensitiveLog=v.DescribeIdentityPoolInputFilterSensitiveLog=v.IdentityDescriptionFilterSensitiveLog=v.DescribeIdentityInputFilterSensitiveLog=v.DeleteIdentityPoolInputFilterSensitiveLog=v.DeleteIdentitiesResponseFilterSensitiveLog=v.UnprocessedIdentityIdFilterSensitiveLog=v.DeleteIdentitiesInputFilterSensitiveLog=v.IdentityPoolFilterSensitiveLog=v.CreateIdentityPoolInputFilterSensitiveLog=v.CognitoIdentityProviderFilterSensitiveLog=v.ConcurrentModificationException=v.DeveloperUserAlreadyRegisteredException=v.RoleMappingType=v.MappingRuleMatchType=v.InvalidIdentityPoolConfigurationException=v.ExternalServiceException=v.ResourceNotFoundException=v.ErrorCode=v.TooManyRequestsException=v.ResourceConflictException=v.NotAuthorizedException=v.LimitExceededException=v.InvalidParameterException=v.InternalErrorException=v.AmbiguousRoleResolutionType=void 0;v.UntagResourceResponseFilterSensitiveLog=v.UntagResourceInputFilterSensitiveLog=v.UnlinkIdentityInputFilterSensitiveLog=v.UnlinkDeveloperIdentityInputFilterSensitiveLog=v.TagResourceResponseFilterSensitiveLog=v.TagResourceInputFilterSensitiveLog=v.SetPrincipalTagAttributeMapResponseFilterSensitiveLog=v.SetPrincipalTagAttributeMapInputFilterSensitiveLog=v.SetIdentityPoolRolesInputFilterSensitiveLog=v.MergeDeveloperIdentitiesResponseFilterSensitiveLog=v.MergeDeveloperIdentitiesInputFilterSensitiveLog=void 0;var st=yu(),DB;(function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"})(DB=v.AmbiguousRoleResolutionType||(v.AmbiguousRoleResolutionType={}));var ii=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,ii.prototype)}};v.InternalErrorException=ii;var oi=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,oi.prototype)}};v.InvalidParameterException=oi;var ai=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,ai.prototype)}};v.LimitExceededException=ai;var ci=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,ci.prototype)}};v.NotAuthorizedException=ci;var di=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"ResourceConflictException",$fault:"client",...t}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,di.prototype)}};v.ResourceConflictException=di;var li=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,li.prototype)}};v.TooManyRequestsException=li;var LB;(function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"})(LB=v.ErrorCode||(v.ErrorCode={}));var ui=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ui.prototype)}};v.ResourceNotFoundException=ui;var fi=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"ExternalServiceException",$fault:"client",...t}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,fi.prototype)}};v.ExternalServiceException=fi;var pi=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,pi.prototype)}};v.InvalidIdentityPoolConfigurationException=pi;var FB;(function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"})(FB=v.MappingRuleMatchType||(v.MappingRuleMatchType={}));var zB;(function(e){e.RULES="Rules",e.TOKEN="Token"})(zB=v.RoleMappingType||(v.RoleMappingType={}));var mi=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,mi.prototype)}};v.DeveloperUserAlreadyRegisteredException=mi;var hi=class extends st.CognitoIdentityServiceException{constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,hi.prototype)}};v.ConcurrentModificationException=hi;var UB=e=>({...e});v.CognitoIdentityProviderFilterSensitiveLog=UB;var $B=e=>({...e});v.CreateIdentityPoolInputFilterSensitiveLog=$B;var HB=e=>({...e});v.IdentityPoolFilterSensitiveLog=HB;var GB=e=>({...e});v.DeleteIdentitiesInputFilterSensitiveLog=GB;var BB=e=>({...e});v.UnprocessedIdentityIdFilterSensitiveLog=BB;var VB=e=>({...e});v.DeleteIdentitiesResponseFilterSensitiveLog=VB;var WB=e=>({...e});v.DeleteIdentityPoolInputFilterSensitiveLog=WB;var KB=e=>({...e});v.DescribeIdentityInputFilterSensitiveLog=KB;var JB=e=>({...e});v.IdentityDescriptionFilterSensitiveLog=JB;var YB=e=>({...e});v.DescribeIdentityPoolInputFilterSensitiveLog=YB;var XB=e=>({...e});v.GetCredentialsForIdentityInputFilterSensitiveLog=XB;var QB=e=>({...e});v.CredentialsFilterSensitiveLog=QB;var ZB=e=>({...e});v.GetCredentialsForIdentityResponseFilterSensitiveLog=ZB;var eV=e=>({...e});v.GetIdInputFilterSensitiveLog=eV;var tV=e=>({...e});v.GetIdResponseFilterSensitiveLog=tV;var rV=e=>({...e});v.GetIdentityPoolRolesInputFilterSensitiveLog=rV;var nV=e=>({...e});v.MappingRuleFilterSensitiveLog=nV;var sV=e=>({...e});v.RulesConfigurationTypeFilterSensitiveLog=sV;var iV=e=>({...e});v.RoleMappingFilterSensitiveLog=iV;var oV=e=>({...e});v.GetIdentityPoolRolesResponseFilterSensitiveLog=oV;var aV=e=>({...e});v.GetOpenIdTokenInputFilterSensitiveLog=aV;var cV=e=>({...e});v.GetOpenIdTokenResponseFilterSensitiveLog=cV;var dV=e=>({...e});v.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog=dV;var lV=e=>({...e});v.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog=lV;var uV=e=>({...e});v.GetPrincipalTagAttributeMapInputFilterSensitiveLog=uV;var fV=e=>({...e});v.GetPrincipalTagAttributeMapResponseFilterSensitiveLog=fV;var pV=e=>({...e});v.ListIdentitiesInputFilterSensitiveLog=pV;var mV=e=>({...e});v.ListIdentitiesResponseFilterSensitiveLog=mV;var hV=e=>({...e});v.ListIdentityPoolsInputFilterSensitiveLog=hV;var _V=e=>({...e});v.IdentityPoolShortDescriptionFilterSensitiveLog=_V;var yV=e=>({...e});v.ListIdentityPoolsResponseFilterSensitiveLog=yV;var gV=e=>({...e});v.ListTagsForResourceInputFilterSensitiveLog=gV;var wV=e=>({...e});v.ListTagsForResourceResponseFilterSensitiveLog=wV;var vV=e=>({...e});v.LookupDeveloperIdentityInputFilterSensitiveLog=vV;var EV=e=>({...e});v.LookupDeveloperIdentityResponseFilterSensitiveLog=EV;var SV=e=>({...e});v.MergeDeveloperIdentitiesInputFilterSensitiveLog=SV;var bV=e=>({...e});v.MergeDeveloperIdentitiesResponseFilterSensitiveLog=bV;var PV=e=>({...e});v.SetIdentityPoolRolesInputFilterSensitiveLog=PV;var IV=e=>({...e});v.SetPrincipalTagAttributeMapInputFilterSensitiveLog=IV;var AV=e=>({...e});v.SetPrincipalTagAttributeMapResponseFilterSensitiveLog=AV;var RV=e=>({...e});v.TagResourceInputFilterSensitiveLog=RV;var CV=e=>({...e});v.TagResourceResponseFilterSensitiveLog=CV;var TV=e=>({...e});v.UnlinkDeveloperIdentityInputFilterSensitiveLog=TV;var xV=e=>({...e});v.UnlinkIdentityInputFilterSensitiveLog=xV;var qV=e=>({...e});v.UntagResourceInputFilterSensitiveLog=qV;var OV=e=>({...e});v.UntagResourceResponseFilterSensitiveLog=OV});var J=l(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.deserializeAws_json1_1UpdateIdentityPoolCommand=S.deserializeAws_json1_1UntagResourceCommand=S.deserializeAws_json1_1UnlinkIdentityCommand=S.deserializeAws_json1_1UnlinkDeveloperIdentityCommand=S.deserializeAws_json1_1TagResourceCommand=S.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand=S.deserializeAws_json1_1SetIdentityPoolRolesCommand=S.deserializeAws_json1_1MergeDeveloperIdentitiesCommand=S.deserializeAws_json1_1LookupDeveloperIdentityCommand=S.deserializeAws_json1_1ListTagsForResourceCommand=S.deserializeAws_json1_1ListIdentityPoolsCommand=S.deserializeAws_json1_1ListIdentitiesCommand=S.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand=S.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=S.deserializeAws_json1_1GetOpenIdTokenCommand=S.deserializeAws_json1_1GetIdentityPoolRolesCommand=S.deserializeAws_json1_1GetIdCommand=S.deserializeAws_json1_1GetCredentialsForIdentityCommand=S.deserializeAws_json1_1DescribeIdentityPoolCommand=S.deserializeAws_json1_1DescribeIdentityCommand=S.deserializeAws_json1_1DeleteIdentityPoolCommand=S.deserializeAws_json1_1DeleteIdentitiesCommand=S.deserializeAws_json1_1CreateIdentityPoolCommand=S.serializeAws_json1_1UpdateIdentityPoolCommand=S.serializeAws_json1_1UntagResourceCommand=S.serializeAws_json1_1UnlinkIdentityCommand=S.serializeAws_json1_1UnlinkDeveloperIdentityCommand=S.serializeAws_json1_1TagResourceCommand=S.serializeAws_json1_1SetPrincipalTagAttributeMapCommand=S.serializeAws_json1_1SetIdentityPoolRolesCommand=S.serializeAws_json1_1MergeDeveloperIdentitiesCommand=S.serializeAws_json1_1LookupDeveloperIdentityCommand=S.serializeAws_json1_1ListTagsForResourceCommand=S.serializeAws_json1_1ListIdentityPoolsCommand=S.serializeAws_json1_1ListIdentitiesCommand=S.serializeAws_json1_1GetPrincipalTagAttributeMapCommand=S.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=S.serializeAws_json1_1GetOpenIdTokenCommand=S.serializeAws_json1_1GetIdentityPoolRolesCommand=S.serializeAws_json1_1GetIdCommand=S.serializeAws_json1_1GetCredentialsForIdentityCommand=S.serializeAws_json1_1DescribeIdentityPoolCommand=S.serializeAws_json1_1DescribeIdentityCommand=S.serializeAws_json1_1DeleteIdentityPoolCommand=S.serializeAws_json1_1DeleteIdentitiesCommand=S.serializeAws_json1_1CreateIdentityPoolCommand=void 0;var NV=ke(),E=x(),Y=yu(),it=G(),MV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.CreateIdentityPool"},n;return n=JSON.stringify(QW(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1CreateIdentityPoolCommand=MV;var kV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DeleteIdentities"},n;return n=JSON.stringify(ZW(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1DeleteIdentitiesCommand=kV;var jV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DeleteIdentityPool"},n;return n=JSON.stringify(e4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1DeleteIdentityPoolCommand=jV;var DV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DescribeIdentity"},n;return n=JSON.stringify(t4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1DescribeIdentityCommand=DV;var LV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DescribeIdentityPool"},n;return n=JSON.stringify(r4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1DescribeIdentityPoolCommand=LV;var FV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},n;return n=JSON.stringify(n4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1GetCredentialsForIdentityCommand=FV;var zV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},n;return n=JSON.stringify(i4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1GetIdCommand=zV;var UV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetIdentityPoolRoles"},n;return n=JSON.stringify(s4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1GetIdentityPoolRolesCommand=UV;var $V=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetOpenIdToken"},n;return n=JSON.stringify(a4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1GetOpenIdTokenCommand=$V;var HV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetOpenIdTokenForDeveloperIdentity"},n;return n=JSON.stringify(o4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=HV;var GV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetPrincipalTagAttributeMap"},n;return n=JSON.stringify(c4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1GetPrincipalTagAttributeMapCommand=GV;var BV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListIdentities"},n;return n=JSON.stringify(f4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1ListIdentitiesCommand=BV;var VV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListIdentityPools"},n;return n=JSON.stringify(p4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1ListIdentityPoolsCommand=VV;var WV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListTagsForResource"},n;return n=JSON.stringify(m4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1ListTagsForResourceCommand=WV;var KV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.LookupDeveloperIdentity"},n;return n=JSON.stringify(_4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1LookupDeveloperIdentityCommand=KV;var JV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.MergeDeveloperIdentities"},n;return n=JSON.stringify(w4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1MergeDeveloperIdentitiesCommand=JV;var YV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.SetIdentityPoolRoles"},n;return n=JSON.stringify(P4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1SetIdentityPoolRolesCommand=YV;var XV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.SetPrincipalTagAttributeMap"},n;return n=JSON.stringify(I4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1SetPrincipalTagAttributeMapCommand=XV;var QV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.TagResource"},n;return n=JSON.stringify(A4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1TagResourceCommand=QV;var ZV=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UnlinkDeveloperIdentity"},n;return n=JSON.stringify(R4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1UnlinkDeveloperIdentityCommand=ZV;var eW=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UnlinkIdentity"},n;return n=JSON.stringify(C4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1UnlinkIdentityCommand=eW;var tW=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UntagResource"},n;return n=JSON.stringify(T4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1UntagResourceCommand=tW;var rW=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UpdateIdentityPool"},n;return n=JSON.stringify(l4(e,t)),ee(t,r,"/",void 0,n)};S.serializeAws_json1_1UpdateIdentityPoolCommand=rW;var nW=async(e,t)=>{if(e.statusCode>=300)return sW(e,t);let r=await fe(e.body,t),n={};n=o_(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1CreateIdentityPoolCommand=nW;var sW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await s_(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},iW=async(e,t)=>{if(e.statusCode>=300)return oW(e,t);let r=await fe(e.body,t),n={};n=M4(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1DeleteIdentitiesCommand=iW;var oW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},aW=async(e,t)=>{if(e.statusCode>=300)return cW(e,t);await yi(e.body,t);let r={$metadata:j(e)};return Promise.resolve(r)};S.deserializeAws_json1_1DeleteIdentityPoolCommand=aW;var cW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},dW=async(e,t)=>{if(e.statusCode>=300)return lW(e,t);let r=await fe(e.body,t),n={};n=DA(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1DescribeIdentityCommand=dW;var lW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},uW=async(e,t)=>{if(e.statusCode>=300)return fW(e,t);let r=await fe(e.body,t),n={};n=o_(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1DescribeIdentityPoolCommand=uW;var fW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},pW=async(e,t)=>{if(e.statusCode>=300)return mW(e,t);let r=await fe(e.body,t),n={};n=L4(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetCredentialsForIdentityCommand=pW;var mW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await gu(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await YW(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},hW=async(e,t)=>{if(e.statusCode>=300)return _W(e,t);let r=await fe(e.body,t),n={};n=z4(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetIdCommand=hW;var _W=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await gu(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await s_(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},yW=async(e,t)=>{if(e.statusCode>=300)return gW(e,t);let r=await fe(e.body,t),n={};n=F4(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetIdentityPoolRolesCommand=yW;var gW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},wW=async(e,t)=>{if(e.statusCode>=300)return vW(e,t);let r=await fe(e.body,t),n={};n=$4(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetOpenIdTokenCommand=wW;var vW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await gu(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},EW=async(e,t)=>{if(e.statusCode>=300)return SW(e,t);let r=await fe(e.body,t),n={};n=U4(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=EW;var SW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await JW(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},bW=async(e,t)=>{if(e.statusCode>=300)return PW(e,t);let r=await fe(e.body,t),n={};n=H4(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand=bW;var PW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},IW=async(e,t)=>{if(e.statusCode>=300)return AW(e,t);let r=await fe(e.body,t),n={};n=Q4(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1ListIdentitiesCommand=IW;var AW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},RW=async(e,t)=>{if(e.statusCode>=300)return CW(e,t);let r=await fe(e.body,t),n={};n=Z4(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1ListIdentityPoolsCommand=RW;var CW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},TW=async(e,t)=>{if(e.statusCode>=300)return xW(e,t);let r=await fe(e.body,t),n={};n=e6(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1ListTagsForResourceCommand=TW;var xW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},qW=async(e,t)=>{if(e.statusCode>=300)return OW(e,t);let r=await fe(e.body,t),n={};n=r6(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1LookupDeveloperIdentityCommand=qW;var OW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},NW=async(e,t)=>{if(e.statusCode>=300)return MW(e,t);let r=await fe(e.body,t),n={};n=i6(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1MergeDeveloperIdentitiesCommand=NW;var MW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},kW=async(e,t)=>{if(e.statusCode>=300)return jW(e,t);await yi(e.body,t);let r={$metadata:j(e)};return Promise.resolve(r)};S.deserializeAws_json1_1SetIdentityPoolRolesCommand=kW;var jW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await qA(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},DW=async(e,t)=>{if(e.statusCode>=300)return LW(e,t);let r=await fe(e.body,t),n={};n=h6(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand=DW;var LW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},FW=async(e,t)=>{if(e.statusCode>=300)return zW(e,t);let r=await fe(e.body,t),n={};n=_6(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1TagResourceCommand=FW;var zW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},UW=async(e,t)=>{if(e.statusCode>=300)return $W(e,t);await yi(e.body,t);let r={$metadata:j(e)};return Promise.resolve(r)};S.deserializeAws_json1_1UnlinkDeveloperIdentityCommand=UW;var $W=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},HW=async(e,t)=>{if(e.statusCode>=300)return GW(e,t);await yi(e.body,t);let r={$metadata:j(e)};return Promise.resolve(r)};S.deserializeAws_json1_1UnlinkIdentityCommand=HW;var GW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await gu(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},BW=async(e,t)=>{if(e.statusCode>=300)return VW(e,t);let r=await fe(e.body,t),n={};n=v6(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1UntagResourceCommand=BW;var VW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},WW=async(e,t)=>{if(e.statusCode>=300)return KW(e,t);let r=await fe(e.body,t),n={};n=o_(r,t);let s={$metadata:j(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1UpdateIdentityPoolCommand=WW;var KW=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await qA(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await X(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Q(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await s_(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await oe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ye(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Z(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Y.CognitoIdentityServiceException,errorCode:n})}},qA=async(e,t)=>{let r=e.body,n=O4(r,t),s=new it.ConcurrentModificationException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},JW=async(e,t)=>{let r=e.body,n=k4(r,t),s=new it.DeveloperUserAlreadyRegisteredException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},gu=async(e,t)=>{let r=e.body,n=D4(r,t),s=new it.ExternalServiceException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},X=async(e,t)=>{let r=e.body,n=K4(r,t),s=new it.InternalErrorException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},YW=async(e,t)=>{let r=e.body,n=J4(r,t),s=new it.InvalidIdentityPoolConfigurationException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},Q=async(e,t)=>{let r=e.body,n=Y4(r,t),s=new it.InvalidParameterException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},s_=async(e,t)=>{let r=e.body,n=X4(r,t),s=new it.LimitExceededException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},oe=async(e,t)=>{let r=e.body,n=o6(r,t),s=new it.NotAuthorizedException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},Ye=async(e,t)=>{let r=e.body,n=c6(r,t),s=new it.ResourceConflictException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},ae=async(e,t)=>{let r=e.body,n=d6(r,t),s=new it.ResourceNotFoundException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},Z=async(e,t)=>{let r=e.body,n=y6(r,t),s=new it.TooManyRequestsException({$metadata:j(e),...n});return(0,E.decorateServiceException)(s,r)},XW=(e,t)=>({...e.ClientId!=null&&{ClientId:e.ClientId},...e.ProviderName!=null&&{ProviderName:e.ProviderName},...e.ServerSideTokenCheck!=null&&{ServerSideTokenCheck:e.ServerSideTokenCheck}}),OA=(e,t)=>e.filter(r=>r!=null).map(r=>XW(r,t)),QW=(e,t)=>({...e.AllowClassicFlow!=null&&{AllowClassicFlow:e.AllowClassicFlow},...e.AllowUnauthenticatedIdentities!=null&&{AllowUnauthenticatedIdentities:e.AllowUnauthenticatedIdentities},...e.CognitoIdentityProviders!=null&&{CognitoIdentityProviders:OA(e.CognitoIdentityProviders,t)},...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.IdentityPoolName!=null&&{IdentityPoolName:e.IdentityPoolName},...e.IdentityPoolTags!=null&&{IdentityPoolTags:i_(e.IdentityPoolTags,t)},...e.OpenIdConnectProviderARNs!=null&&{OpenIdConnectProviderARNs:MA(e.OpenIdConnectProviderARNs,t)},...e.SamlProviderARNs!=null&&{SamlProviderARNs:jA(e.SamlProviderARNs,t)},...e.SupportedLoginProviders!=null&&{SupportedLoginProviders:NA(e.SupportedLoginProviders,t)}}),ZW=(e,t)=>({...e.IdentityIdsToDelete!=null&&{IdentityIdsToDelete:d4(e.IdentityIdsToDelete,t)}}),e4=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),t4=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId}}),r4=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),n4=(e,t)=>({...e.CustomRoleArn!=null&&{CustomRoleArn:e.CustomRoleArn},...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.Logins!=null&&{Logins:_i(e.Logins,t)}}),s4=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),i4=(e,t)=>({...e.AccountId!=null&&{AccountId:e.AccountId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.Logins!=null&&{Logins:_i(e.Logins,t)}}),o4=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.Logins!=null&&{Logins:_i(e.Logins,t)},...e.PrincipalTags!=null&&{PrincipalTags:kA(e.PrincipalTags,t)},...e.TokenDuration!=null&&{TokenDuration:e.TokenDuration}}),a4=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.Logins!=null&&{Logins:_i(e.Logins,t)}}),c4=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.IdentityProviderName!=null&&{IdentityProviderName:e.IdentityProviderName}}),d4=(e,t)=>e.filter(r=>r!=null).map(r=>r),l4=(e,t)=>({...e.AllowClassicFlow!=null&&{AllowClassicFlow:e.AllowClassicFlow},...e.AllowUnauthenticatedIdentities!=null&&{AllowUnauthenticatedIdentities:e.AllowUnauthenticatedIdentities},...e.CognitoIdentityProviders!=null&&{CognitoIdentityProviders:OA(e.CognitoIdentityProviders,t)},...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.IdentityPoolName!=null&&{IdentityPoolName:e.IdentityPoolName},...e.IdentityPoolTags!=null&&{IdentityPoolTags:i_(e.IdentityPoolTags,t)},...e.OpenIdConnectProviderARNs!=null&&{OpenIdConnectProviderARNs:MA(e.OpenIdConnectProviderARNs,t)},...e.SamlProviderARNs!=null&&{SamlProviderARNs:jA(e.SamlProviderARNs,t)},...e.SupportedLoginProviders!=null&&{SupportedLoginProviders:NA(e.SupportedLoginProviders,t)}}),u4=(e,t)=>e.filter(r=>r!=null).map(r=>r),i_=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:s},{}),NA=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:s},{}),f4=(e,t)=>({...e.HideDisabled!=null&&{HideDisabled:e.HideDisabled},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.MaxResults!=null&&{MaxResults:e.MaxResults},...e.NextToken!=null&&{NextToken:e.NextToken}}),p4=(e,t)=>({...e.MaxResults!=null&&{MaxResults:e.MaxResults},...e.NextToken!=null&&{NextToken:e.NextToken}}),m4=(e,t)=>({...e.ResourceArn!=null&&{ResourceArn:e.ResourceArn}}),h4=(e,t)=>e.filter(r=>r!=null).map(r=>r),_i=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:s},{}),_4=(e,t)=>({...e.DeveloperUserIdentifier!=null&&{DeveloperUserIdentifier:e.DeveloperUserIdentifier},...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.MaxResults!=null&&{MaxResults:e.MaxResults},...e.NextToken!=null&&{NextToken:e.NextToken}}),y4=(e,t)=>({...e.Claim!=null&&{Claim:e.Claim},...e.MatchType!=null&&{MatchType:e.MatchType},...e.RoleARN!=null&&{RoleARN:e.RoleARN},...e.Value!=null&&{Value:e.Value}}),g4=(e,t)=>e.filter(r=>r!=null).map(r=>y4(r,t)),w4=(e,t)=>({...e.DestinationUserIdentifier!=null&&{DestinationUserIdentifier:e.DestinationUserIdentifier},...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.SourceUserIdentifier!=null&&{SourceUserIdentifier:e.SourceUserIdentifier}}),MA=(e,t)=>e.filter(r=>r!=null).map(r=>r),kA=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:s},{}),v4=(e,t)=>({...e.AmbiguousRoleResolution!=null&&{AmbiguousRoleResolution:e.AmbiguousRoleResolution},...e.RulesConfiguration!=null&&{RulesConfiguration:b4(e.RulesConfiguration,t)},...e.Type!=null&&{Type:e.Type}}),E4=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:v4(s,t)},{}),S4=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:s},{}),b4=(e,t)=>({...e.Rules!=null&&{Rules:g4(e.Rules,t)}}),jA=(e,t)=>e.filter(r=>r!=null).map(r=>r),P4=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.RoleMappings!=null&&{RoleMappings:E4(e.RoleMappings,t)},...e.Roles!=null&&{Roles:S4(e.Roles,t)}}),I4=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.IdentityProviderName!=null&&{IdentityProviderName:e.IdentityProviderName},...e.PrincipalTags!=null&&{PrincipalTags:kA(e.PrincipalTags,t)},...e.UseDefaults!=null&&{UseDefaults:e.UseDefaults}}),A4=(e,t)=>({...e.ResourceArn!=null&&{ResourceArn:e.ResourceArn},...e.Tags!=null&&{Tags:i_(e.Tags,t)}}),R4=(e,t)=>({...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.DeveloperUserIdentifier!=null&&{DeveloperUserIdentifier:e.DeveloperUserIdentifier},...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),C4=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.Logins!=null&&{Logins:_i(e.Logins,t)},...e.LoginsToRemove!=null&&{LoginsToRemove:h4(e.LoginsToRemove,t)}}),T4=(e,t)=>({...e.ResourceArn!=null&&{ResourceArn:e.ResourceArn},...e.TagKeys!=null&&{TagKeys:u4(e.TagKeys,t)}}),x4=(e,t)=>({ClientId:(0,E.expectString)(e.ClientId),ProviderName:(0,E.expectString)(e.ProviderName),ServerSideTokenCheck:(0,E.expectBoolean)(e.ServerSideTokenCheck)}),q4=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:x4(n,t)),O4=(e,t)=>({message:(0,E.expectString)(e.message)}),N4=(e,t)=>({AccessKeyId:(0,E.expectString)(e.AccessKeyId),Expiration:e.Expiration!=null?(0,E.expectNonNull)((0,E.parseEpochTimestamp)((0,E.expectNumber)(e.Expiration))):void 0,SecretKey:(0,E.expectString)(e.SecretKey),SessionToken:(0,E.expectString)(e.SessionToken)}),M4=(e,t)=>({UnprocessedIdentityIds:e.UnprocessedIdentityIds!=null?w6(e.UnprocessedIdentityIds,t):void 0}),k4=(e,t)=>({message:(0,E.expectString)(e.message)}),j4=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),D4=(e,t)=>({message:(0,E.expectString)(e.message)}),L4=(e,t)=>({Credentials:e.Credentials!=null?N4(e.Credentials,t):void 0,IdentityId:(0,E.expectString)(e.IdentityId)}),F4=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),RoleMappings:e.RoleMappings!=null?u6(e.RoleMappings,t):void 0,Roles:e.Roles!=null?f6(e.Roles,t):void 0}),z4=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId)}),U4=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId),Token:(0,E.expectString)(e.Token)}),$4=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId),Token:(0,E.expectString)(e.Token)}),H4=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityProviderName:(0,E.expectString)(e.IdentityProviderName),PrincipalTags:e.PrincipalTags!=null?FA(e.PrincipalTags,t):void 0,UseDefaults:(0,E.expectBoolean)(e.UseDefaults)}),G4=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:DA(n,t)),DA=(e,t)=>({CreationDate:e.CreationDate!=null?(0,E.expectNonNull)((0,E.parseEpochTimestamp)((0,E.expectNumber)(e.CreationDate))):void 0,IdentityId:(0,E.expectString)(e.IdentityId),LastModifiedDate:e.LastModifiedDate!=null?(0,E.expectNonNull)((0,E.parseEpochTimestamp)((0,E.expectNumber)(e.LastModifiedDate))):void 0,Logins:e.Logins!=null?t6(e.Logins,t):void 0}),o_=(e,t)=>({AllowClassicFlow:(0,E.expectBoolean)(e.AllowClassicFlow),AllowUnauthenticatedIdentities:(0,E.expectBoolean)(e.AllowUnauthenticatedIdentities),CognitoIdentityProviders:e.CognitoIdentityProviders!=null?q4(e.CognitoIdentityProviders,t):void 0,DeveloperProviderName:(0,E.expectString)(e.DeveloperProviderName),IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityPoolName:(0,E.expectString)(e.IdentityPoolName),IdentityPoolTags:e.IdentityPoolTags!=null?LA(e.IdentityPoolTags,t):void 0,OpenIdConnectProviderARNs:e.OpenIdConnectProviderARNs!=null?a6(e.OpenIdConnectProviderARNs,t):void 0,SamlProviderARNs:e.SamlProviderARNs!=null?m6(e.SamlProviderARNs,t):void 0,SupportedLoginProviders:e.SupportedLoginProviders!=null?W4(e.SupportedLoginProviders,t):void 0}),B4=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityPoolName:(0,E.expectString)(e.IdentityPoolName)}),V4=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:B4(n,t)),LA=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:(0,E.expectString)(s)},{}),W4=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:(0,E.expectString)(s)},{}),K4=(e,t)=>({message:(0,E.expectString)(e.message)}),J4=(e,t)=>({message:(0,E.expectString)(e.message)}),Y4=(e,t)=>({message:(0,E.expectString)(e.message)}),X4=(e,t)=>({message:(0,E.expectString)(e.message)}),Q4=(e,t)=>({Identities:e.Identities!=null?G4(e.Identities,t):void 0,IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),NextToken:(0,E.expectString)(e.NextToken)}),Z4=(e,t)=>({IdentityPools:e.IdentityPools!=null?V4(e.IdentityPools,t):void 0,NextToken:(0,E.expectString)(e.NextToken)}),e6=(e,t)=>({Tags:e.Tags!=null?LA(e.Tags,t):void 0}),t6=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),r6=(e,t)=>({DeveloperUserIdentifierList:e.DeveloperUserIdentifierList!=null?j4(e.DeveloperUserIdentifierList,t):void 0,IdentityId:(0,E.expectString)(e.IdentityId),NextToken:(0,E.expectString)(e.NextToken)}),n6=(e,t)=>({Claim:(0,E.expectString)(e.Claim),MatchType:(0,E.expectString)(e.MatchType),RoleARN:(0,E.expectString)(e.RoleARN),Value:(0,E.expectString)(e.Value)}),s6=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:n6(n,t)),i6=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId)}),o6=(e,t)=>({message:(0,E.expectString)(e.message)}),a6=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),FA=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:(0,E.expectString)(s)},{}),c6=(e,t)=>({message:(0,E.expectString)(e.message)}),d6=(e,t)=>({message:(0,E.expectString)(e.message)}),l6=(e,t)=>({AmbiguousRoleResolution:(0,E.expectString)(e.AmbiguousRoleResolution),RulesConfiguration:e.RulesConfiguration!=null?p6(e.RulesConfiguration,t):void 0,Type:(0,E.expectString)(e.Type)}),u6=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:l6(s,t)},{}),f6=(e,t)=>Object.entries(e).reduce((r,[n,s])=>s===null?r:{...r,[n]:(0,E.expectString)(s)},{}),p6=(e,t)=>({Rules:e.Rules!=null?s6(e.Rules,t):void 0}),m6=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),h6=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityProviderName:(0,E.expectString)(e.IdentityProviderName),PrincipalTags:e.PrincipalTags!=null?FA(e.PrincipalTags,t):void 0,UseDefaults:(0,E.expectBoolean)(e.UseDefaults)}),_6=(e,t)=>({}),y6=(e,t)=>({message:(0,E.expectString)(e.message)}),g6=(e,t)=>({ErrorCode:(0,E.expectString)(e.ErrorCode),IdentityId:(0,E.expectString)(e.IdentityId)}),w6=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:g6(n,t)),v6=(e,t)=>({}),j=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),yi=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),E6=(e,t)=>yi(e,t).then(r=>t.utf8Encoder(r)),ee=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),d={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new NV.HttpRequest(d)},fe=(e,t)=>E6(e,t).then(r=>r.length?JSON.parse(r):{}),te=async(e,t)=>{let r=await fe(e,t);return r.message=r.message??r.Message,r},re=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var a_=l(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.CreateIdentityPoolCommand=void 0;var S6=O(),b6=M(),P6=$(),I6=x(),zA=G(),UA=J(),gi=class extends I6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,b6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,S6.getEndpointPlugin)(r,gi.getEndpointParameterInstructions())),this.middlewareStack.use((0,P6.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"CreateIdentityPoolCommand",inputFilterSensitiveLog:zA.CreateIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:zA.IdentityPoolFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,UA.serializeAws_json1_1CreateIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,UA.deserializeAws_json1_1CreateIdentityPoolCommand)(t,r)}};wu.CreateIdentityPoolCommand=gi});var c_=l(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.DeleteIdentitiesCommand=void 0;var A6=O(),R6=M(),C6=$(),T6=x(),$A=G(),HA=J(),wi=class extends T6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,R6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,A6.getEndpointPlugin)(r,wi.getEndpointParameterInstructions())),this.middlewareStack.use((0,C6.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DeleteIdentitiesCommand",inputFilterSensitiveLog:$A.DeleteIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:$A.DeleteIdentitiesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,HA.serializeAws_json1_1DeleteIdentitiesCommand)(t,r)}deserialize(t,r){return(0,HA.deserializeAws_json1_1DeleteIdentitiesCommand)(t,r)}};vu.DeleteIdentitiesCommand=wi});var d_=l(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.DeleteIdentityPoolCommand=void 0;var x6=O(),q6=M(),O6=$(),N6=x(),M6=G(),GA=J(),vi=class extends N6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,q6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,x6.getEndpointPlugin)(r,vi.getEndpointParameterInstructions())),this.middlewareStack.use((0,O6.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DeleteIdentityPoolCommand",inputFilterSensitiveLog:M6.DeleteIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,GA.serializeAws_json1_1DeleteIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,GA.deserializeAws_json1_1DeleteIdentityPoolCommand)(t,r)}};Eu.DeleteIdentityPoolCommand=vi});var l_=l(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.DescribeIdentityCommand=void 0;var k6=O(),j6=M(),D6=$(),L6=x(),BA=G(),VA=J(),Ei=class extends L6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,j6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,k6.getEndpointPlugin)(r,Ei.getEndpointParameterInstructions())),this.middlewareStack.use((0,D6.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DescribeIdentityCommand",inputFilterSensitiveLog:BA.DescribeIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:BA.IdentityDescriptionFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,VA.serializeAws_json1_1DescribeIdentityCommand)(t,r)}deserialize(t,r){return(0,VA.deserializeAws_json1_1DescribeIdentityCommand)(t,r)}};Su.DescribeIdentityCommand=Ei});var u_=l(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.DescribeIdentityPoolCommand=void 0;var F6=O(),z6=M(),U6=$(),$6=x(),WA=G(),KA=J(),Si=class extends $6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,z6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,F6.getEndpointPlugin)(r,Si.getEndpointParameterInstructions())),this.middlewareStack.use((0,U6.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DescribeIdentityPoolCommand",inputFilterSensitiveLog:WA.DescribeIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:WA.IdentityPoolFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,KA.serializeAws_json1_1DescribeIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,KA.deserializeAws_json1_1DescribeIdentityPoolCommand)(t,r)}};bu.DescribeIdentityPoolCommand=Si});var f_=l(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.GetCredentialsForIdentityCommand=void 0;var H6=O(),G6=M(),B6=x(),JA=G(),YA=J(),bi=class extends B6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,G6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,H6.getEndpointPlugin)(r,bi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:JA.GetCredentialsForIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:JA.GetCredentialsForIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,YA.serializeAws_json1_1GetCredentialsForIdentityCommand)(t,r)}deserialize(t,r){return(0,YA.deserializeAws_json1_1GetCredentialsForIdentityCommand)(t,r)}};Pu.GetCredentialsForIdentityCommand=bi});var p_=l(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.GetIdCommand=void 0;var V6=O(),W6=M(),K6=x(),XA=G(),QA=J(),Pi=class extends K6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,W6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,V6.getEndpointPlugin)(r,Pi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:XA.GetIdInputFilterSensitiveLog,outputFilterSensitiveLog:XA.GetIdResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,QA.serializeAws_json1_1GetIdCommand)(t,r)}deserialize(t,r){return(0,QA.deserializeAws_json1_1GetIdCommand)(t,r)}};Iu.GetIdCommand=Pi});var m_=l(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.GetIdentityPoolRolesCommand=void 0;var J6=O(),Y6=M(),X6=$(),Q6=x(),ZA=G(),eR=J(),Ii=class extends Q6.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Y6.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,J6.getEndpointPlugin)(r,Ii.getEndpointParameterInstructions())),this.middlewareStack.use((0,X6.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetIdentityPoolRolesCommand",inputFilterSensitiveLog:ZA.GetIdentityPoolRolesInputFilterSensitiveLog,outputFilterSensitiveLog:ZA.GetIdentityPoolRolesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,eR.serializeAws_json1_1GetIdentityPoolRolesCommand)(t,r)}deserialize(t,r){return(0,eR.deserializeAws_json1_1GetIdentityPoolRolesCommand)(t,r)}};Au.GetIdentityPoolRolesCommand=Ii});var h_=l(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.GetOpenIdTokenCommand=void 0;var Z6=O(),e8=M(),t8=x(),tR=G(),rR=J(),Ai=class extends t8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,e8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Z6.getEndpointPlugin)(r,Ai.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetOpenIdTokenCommand",inputFilterSensitiveLog:tR.GetOpenIdTokenInputFilterSensitiveLog,outputFilterSensitiveLog:tR.GetOpenIdTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,rR.serializeAws_json1_1GetOpenIdTokenCommand)(t,r)}deserialize(t,r){return(0,rR.deserializeAws_json1_1GetOpenIdTokenCommand)(t,r)}};Ru.GetOpenIdTokenCommand=Ai});var __=l(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.GetOpenIdTokenForDeveloperIdentityCommand=void 0;var r8=O(),n8=M(),s8=$(),i8=x(),nR=G(),sR=J(),Ri=class extends i8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,n8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,r8.getEndpointPlugin)(r,Ri.getEndpointParameterInstructions())),this.middlewareStack.use((0,s8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetOpenIdTokenForDeveloperIdentityCommand",inputFilterSensitiveLog:nR.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:nR.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,sR.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand)(t,r)}deserialize(t,r){return(0,sR.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand)(t,r)}};Cu.GetOpenIdTokenForDeveloperIdentityCommand=Ri});var y_=l(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.GetPrincipalTagAttributeMapCommand=void 0;var o8=O(),a8=M(),c8=$(),d8=x(),iR=G(),oR=J(),Ci=class extends d8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,a8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,o8.getEndpointPlugin)(r,Ci.getEndpointParameterInstructions())),this.middlewareStack.use((0,c8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetPrincipalTagAttributeMapCommand",inputFilterSensitiveLog:iR.GetPrincipalTagAttributeMapInputFilterSensitiveLog,outputFilterSensitiveLog:iR.GetPrincipalTagAttributeMapResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,oR.serializeAws_json1_1GetPrincipalTagAttributeMapCommand)(t,r)}deserialize(t,r){return(0,oR.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand)(t,r)}};Tu.GetPrincipalTagAttributeMapCommand=Ci});var g_=l(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.ListIdentitiesCommand=void 0;var l8=O(),u8=M(),f8=$(),p8=x(),aR=G(),cR=J(),Ti=class extends p8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,u8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,l8.getEndpointPlugin)(r,Ti.getEndpointParameterInstructions())),this.middlewareStack.use((0,f8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"ListIdentitiesCommand",inputFilterSensitiveLog:aR.ListIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:aR.ListIdentitiesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,cR.serializeAws_json1_1ListIdentitiesCommand)(t,r)}deserialize(t,r){return(0,cR.deserializeAws_json1_1ListIdentitiesCommand)(t,r)}};xu.ListIdentitiesCommand=Ti});var Ou=l(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.ListIdentityPoolsCommand=void 0;var m8=O(),h8=M(),_8=$(),y8=x(),dR=G(),lR=J(),xi=class extends y8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,h8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,m8.getEndpointPlugin)(r,xi.getEndpointParameterInstructions())),this.middlewareStack.use((0,_8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"ListIdentityPoolsCommand",inputFilterSensitiveLog:dR.ListIdentityPoolsInputFilterSensitiveLog,outputFilterSensitiveLog:dR.ListIdentityPoolsResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,lR.serializeAws_json1_1ListIdentityPoolsCommand)(t,r)}deserialize(t,r){return(0,lR.deserializeAws_json1_1ListIdentityPoolsCommand)(t,r)}};qu.ListIdentityPoolsCommand=xi});var w_=l(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.ListTagsForResourceCommand=void 0;var g8=O(),w8=M(),v8=$(),E8=x(),uR=G(),fR=J(),qi=class extends E8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,w8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,g8.getEndpointPlugin)(r,qi.getEndpointParameterInstructions())),this.middlewareStack.use((0,v8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:uR.ListTagsForResourceInputFilterSensitiveLog,outputFilterSensitiveLog:uR.ListTagsForResourceResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,fR.serializeAws_json1_1ListTagsForResourceCommand)(t,r)}deserialize(t,r){return(0,fR.deserializeAws_json1_1ListTagsForResourceCommand)(t,r)}};Nu.ListTagsForResourceCommand=qi});var v_=l(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.LookupDeveloperIdentityCommand=void 0;var S8=O(),b8=M(),P8=$(),I8=x(),pR=G(),mR=J(),Oi=class extends I8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,b8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,S8.getEndpointPlugin)(r,Oi.getEndpointParameterInstructions())),this.middlewareStack.use((0,P8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"LookupDeveloperIdentityCommand",inputFilterSensitiveLog:pR.LookupDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:pR.LookupDeveloperIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,mR.serializeAws_json1_1LookupDeveloperIdentityCommand)(t,r)}deserialize(t,r){return(0,mR.deserializeAws_json1_1LookupDeveloperIdentityCommand)(t,r)}};Mu.LookupDeveloperIdentityCommand=Oi});var E_=l(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.MergeDeveloperIdentitiesCommand=void 0;var A8=O(),R8=M(),C8=$(),T8=x(),hR=G(),_R=J(),Ni=class extends T8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,R8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,A8.getEndpointPlugin)(r,Ni.getEndpointParameterInstructions())),this.middlewareStack.use((0,C8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"MergeDeveloperIdentitiesCommand",inputFilterSensitiveLog:hR.MergeDeveloperIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:hR.MergeDeveloperIdentitiesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,_R.serializeAws_json1_1MergeDeveloperIdentitiesCommand)(t,r)}deserialize(t,r){return(0,_R.deserializeAws_json1_1MergeDeveloperIdentitiesCommand)(t,r)}};ku.MergeDeveloperIdentitiesCommand=Ni});var S_=l(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.SetIdentityPoolRolesCommand=void 0;var x8=O(),q8=M(),O8=$(),N8=x(),M8=G(),yR=J(),Mi=class extends N8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,q8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,x8.getEndpointPlugin)(r,Mi.getEndpointParameterInstructions())),this.middlewareStack.use((0,O8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"SetIdentityPoolRolesCommand",inputFilterSensitiveLog:M8.SetIdentityPoolRolesInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,yR.serializeAws_json1_1SetIdentityPoolRolesCommand)(t,r)}deserialize(t,r){return(0,yR.deserializeAws_json1_1SetIdentityPoolRolesCommand)(t,r)}};ju.SetIdentityPoolRolesCommand=Mi});var b_=l(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.SetPrincipalTagAttributeMapCommand=void 0;var k8=O(),j8=M(),D8=$(),L8=x(),gR=G(),wR=J(),ki=class extends L8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,j8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,k8.getEndpointPlugin)(r,ki.getEndpointParameterInstructions())),this.middlewareStack.use((0,D8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"SetPrincipalTagAttributeMapCommand",inputFilterSensitiveLog:gR.SetPrincipalTagAttributeMapInputFilterSensitiveLog,outputFilterSensitiveLog:gR.SetPrincipalTagAttributeMapResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,wR.serializeAws_json1_1SetPrincipalTagAttributeMapCommand)(t,r)}deserialize(t,r){return(0,wR.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand)(t,r)}};Du.SetPrincipalTagAttributeMapCommand=ki});var P_=l(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.TagResourceCommand=void 0;var F8=O(),z8=M(),U8=$(),$8=x(),vR=G(),ER=J(),ji=class extends $8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,z8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,F8.getEndpointPlugin)(r,ji.getEndpointParameterInstructions())),this.middlewareStack.use((0,U8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:vR.TagResourceInputFilterSensitiveLog,outputFilterSensitiveLog:vR.TagResourceResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,ER.serializeAws_json1_1TagResourceCommand)(t,r)}deserialize(t,r){return(0,ER.deserializeAws_json1_1TagResourceCommand)(t,r)}};Lu.TagResourceCommand=ji});var I_=l(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.UnlinkDeveloperIdentityCommand=void 0;var H8=O(),G8=M(),B8=$(),V8=x(),W8=G(),SR=J(),Di=class extends V8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,G8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,H8.getEndpointPlugin)(r,Di.getEndpointParameterInstructions())),this.middlewareStack.use((0,B8.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UnlinkDeveloperIdentityCommand",inputFilterSensitiveLog:W8.UnlinkDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,SR.serializeAws_json1_1UnlinkDeveloperIdentityCommand)(t,r)}deserialize(t,r){return(0,SR.deserializeAws_json1_1UnlinkDeveloperIdentityCommand)(t,r)}};Fu.UnlinkDeveloperIdentityCommand=Di});var A_=l(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.UnlinkIdentityCommand=void 0;var K8=O(),J8=M(),Y8=x(),X8=G(),bR=J(),Li=class extends Y8.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,J8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,K8.getEndpointPlugin)(r,Li.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UnlinkIdentityCommand",inputFilterSensitiveLog:X8.UnlinkIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,bR.serializeAws_json1_1UnlinkIdentityCommand)(t,r)}deserialize(t,r){return(0,bR.deserializeAws_json1_1UnlinkIdentityCommand)(t,r)}};zu.UnlinkIdentityCommand=Li});var R_=l(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.UntagResourceCommand=void 0;var Q8=O(),Z8=M(),eK=$(),tK=x(),PR=G(),IR=J(),Fi=class extends tK.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Z8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Q8.getEndpointPlugin)(r,Fi.getEndpointParameterInstructions())),this.middlewareStack.use((0,eK.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:PR.UntagResourceInputFilterSensitiveLog,outputFilterSensitiveLog:PR.UntagResourceResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,IR.serializeAws_json1_1UntagResourceCommand)(t,r)}deserialize(t,r){return(0,IR.deserializeAws_json1_1UntagResourceCommand)(t,r)}};Uu.UntagResourceCommand=Fi});var C_=l($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.UpdateIdentityPoolCommand=void 0;var rK=O(),nK=M(),sK=$(),iK=x(),AR=G(),RR=J(),zi=class extends iK.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,nK.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,rK.getEndpointPlugin)(r,zi.getEndpointParameterInstructions())),this.middlewareStack.use((0,sK.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UpdateIdentityPoolCommand",inputFilterSensitiveLog:AR.IdentityPoolFilterSensitiveLog,outputFilterSensitiveLog:AR.IdentityPoolFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,RR.serializeAws_json1_1UpdateIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,RR.deserializeAws_json1_1UpdateIdentityPoolCommand)(t,r)}};$u.UpdateIdentityPoolCommand=zi});var x_=l(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.CognitoIdentity=void 0;var oK=hu(),aK=a_(),cK=c_(),dK=d_(),lK=l_(),uK=u_(),fK=f_(),pK=p_(),mK=m_(),hK=h_(),_K=__(),yK=y_(),gK=g_(),wK=Ou(),vK=w_(),EK=v_(),SK=E_(),bK=S_(),PK=b_(),IK=P_(),AK=I_(),RK=A_(),CK=R_(),TK=C_(),T_=class extends oK.CognitoIdentityClient{createIdentityPool(t,r,n){let s=new aK.CreateIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}deleteIdentities(t,r,n){let s=new cK.DeleteIdentitiesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}deleteIdentityPool(t,r,n){let s=new dK.DeleteIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}describeIdentity(t,r,n){let s=new lK.DescribeIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}describeIdentityPool(t,r,n){let s=new uK.DescribeIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getCredentialsForIdentity(t,r,n){let s=new fK.GetCredentialsForIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getId(t,r,n){let s=new pK.GetIdCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getIdentityPoolRoles(t,r,n){let s=new mK.GetIdentityPoolRolesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getOpenIdToken(t,r,n){let s=new hK.GetOpenIdTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getOpenIdTokenForDeveloperIdentity(t,r,n){let s=new _K.GetOpenIdTokenForDeveloperIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getPrincipalTagAttributeMap(t,r,n){let s=new yK.GetPrincipalTagAttributeMapCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listIdentities(t,r,n){let s=new gK.ListIdentitiesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listIdentityPools(t,r,n){let s=new wK.ListIdentityPoolsCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listTagsForResource(t,r,n){let s=new vK.ListTagsForResourceCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}lookupDeveloperIdentity(t,r,n){let s=new EK.LookupDeveloperIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}mergeDeveloperIdentities(t,r,n){let s=new SK.MergeDeveloperIdentitiesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}setIdentityPoolRoles(t,r,n){let s=new bK.SetIdentityPoolRolesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}setPrincipalTagAttributeMap(t,r,n){let s=new PK.SetPrincipalTagAttributeMapCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}tagResource(t,r,n){let s=new IK.TagResourceCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}unlinkDeveloperIdentity(t,r,n){let s=new AK.UnlinkDeveloperIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}unlinkIdentity(t,r,n){let s=new RK.UnlinkIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}untagResource(t,r,n){let s=new CK.UntagResourceCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}updateIdentityPool(t,r,n){let s=new TK.UpdateIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};Hu.CognitoIdentity=T_});var CR=l(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});var ne=de();ne.__exportStar(a_(),V);ne.__exportStar(c_(),V);ne.__exportStar(d_(),V);ne.__exportStar(l_(),V);ne.__exportStar(u_(),V);ne.__exportStar(f_(),V);ne.__exportStar(p_(),V);ne.__exportStar(m_(),V);ne.__exportStar(h_(),V);ne.__exportStar(__(),V);ne.__exportStar(y_(),V);ne.__exportStar(g_(),V);ne.__exportStar(Ou(),V);ne.__exportStar(w_(),V);ne.__exportStar(v_(),V);ne.__exportStar(E_(),V);ne.__exportStar(S_(),V);ne.__exportStar(b_(),V);ne.__exportStar(P_(),V);ne.__exportStar(I_(),V);ne.__exportStar(A_(),V);ne.__exportStar(R_(),V);ne.__exportStar(C_(),V)});var TR=l(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});var xK=de();xK.__exportStar(G(),q_)});var qR=l(xR=>{"use strict";Object.defineProperty(xR,"__esModule",{value:!0})});var OR=l(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.paginateListIdentityPools=void 0;var qK=x_(),OK=hu(),NK=Ou(),MK=async(e,t,...r)=>await e.send(new NK.ListIdentityPoolsCommand(t),...r),kK=async(e,t,...r)=>await e.listIdentityPools(t,...r);async function*jK(e,t,...r){let n=e.startingToken||void 0,s=!0,i;for(;s;){if(t.NextToken=n,t.MaxResults=e.pageSize,e.client instanceof qK.CognitoIdentity)i=await kK(e.client,t,...r);else if(e.client instanceof OK.CognitoIdentityClient)i=await MK(e.client,t,...r);else throw new Error("Invalid client, expected CognitoIdentity | CognitoIdentityClient");yield i;let o=n;n=i.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==o))}return void 0}Gu.paginateListIdentityPools=jK});var MR=l(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});var NR=de();NR.__exportStar(qR(),Bu);NR.__exportStar(OR(),Bu)});var $i=l($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.CognitoIdentityServiceException=void 0;var Ui=de();Ui.__exportStar(x_(),$t);Ui.__exportStar(hu(),$t);Ui.__exportStar(CR(),$t);Ui.__exportStar(TR(),$t);Ui.__exportStar(MR(),$t);var DK=yu();Object.defineProperty($t,"CognitoIdentityServiceException",{enumerable:!0,get:function(){return DK.CognitoIdentityServiceException}})});var jR=l(kR=>{"use strict";Object.defineProperty(kR,"__esModule",{value:!0})});var LR=l(DR=>{"use strict";Object.defineProperty(DR,"__esModule",{value:!0})});var zR=l(FR=>{"use strict";Object.defineProperty(FR,"__esModule",{value:!0})});var O_=l(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.resolveLogins=void 0;function LK(e){return Promise.all(Object.keys(e).reduce((t,r)=>{let n=e[r];return typeof n=="string"?t.push([r,n]):t.push(n().then(s=>[r,s])),t},[])).then(t=>t.reduce((r,[n,s])=>(r[n]=s,r),{}))}Vu.resolveLogins=LK});var M_=l(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.fromCognitoIdentity=void 0;var FK=$i(),N_=B(),zK=O_();function UK(e){return async()=>{let{Credentials:{AccessKeyId:t=$K(),Expiration:r,SecretKey:n=GK(),SessionToken:s}=HK()}=await e.client.send(new FK.GetCredentialsForIdentityCommand({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await(0,zK.resolveLogins)(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:t,secretAccessKey:n,sessionToken:s,expiration:r}}}Wu.fromCognitoIdentity=UK;function $K(){throw new N_.CredentialsProviderError("Response from Amazon Cognito contained no access key ID")}function HK(){throw new N_.CredentialsProviderError("Response from Amazon Cognito contained no credentials")}function GK(){throw new N_.CredentialsProviderError("Response from Amazon Cognito contained no secret key")}});var UR=l(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.IndexedDbStorage=void 0;var k_="IdentityIds",j_=class{constructor(t="aws:cognito-identity-ids"){this.dbName=t}getItem(t){return this.withObjectStore("readonly",r=>{let n=r.get(t);return new Promise(s=>{n.onerror=()=>s(null),n.onsuccess=()=>s(n.result?n.result.value:null)})}).catch(()=>null)}removeItem(t){return this.withObjectStore("readwrite",r=>{let n=r.delete(t);return new Promise((s,i)=>{n.onerror=()=>i(n.error),n.onsuccess=()=>s()})})}setItem(t,r){return this.withObjectStore("readwrite",n=>{let s=n.put({id:t,value:r});return new Promise((i,o)=>{s.onerror=()=>o(s.error),s.onsuccess=()=>i()})})}getDb(){let t=self.indexedDB.open(this.dbName,1);return new Promise((r,n)=>{t.onsuccess=()=>{r(t.result)},t.onerror=()=>{n(t.error)},t.onblocked=()=>{n(new Error("Unable to access DB"))},t.onupgradeneeded=()=>{let s=t.result;s.onerror=()=>{n(new Error("Failed to create object store"))},s.createObjectStore(k_,{keyPath:"id"})}})}withObjectStore(t,r){return this.getDb().then(n=>{let s=n.transaction(k_,t);return s.oncomplete=()=>n.close(),new Promise((i,o)=>{s.onerror=()=>o(s.error),i(r(s.objectStore(k_)))}).catch(i=>{throw n.close(),i})})}};Ku.IndexedDbStorage=j_});var $R=l(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.InMemoryStorage=void 0;var D_=class{constructor(t={}){this.store=t}getItem(t){return t in this.store?this.store[t]:null}removeItem(t){delete this.store[t]}setItem(t,r){this.store[t]=r}};Ju.InMemoryStorage=D_});var HR=l(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.localStorage=void 0;var BK=UR(),VK=$R(),WK=new VK.InMemoryStorage;function KK(){return typeof self=="object"&&self.indexedDB?new BK.IndexedDbStorage:typeof window=="object"&&window.localStorage?window.localStorage:WK}Yu.localStorage=KK});var GR=l(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.fromCognitoIdentityPool=void 0;var JK=$i(),YK=B(),XK=M_(),QK=HR(),ZK=O_();function e5({accountId:e,cache:t=(0,QK.localStorage)(),client:r,customRoleArn:n,identityPoolId:s,logins:i,userIdentifier:o=!i||Object.keys(i).length===0?"ANONYMOUS":void 0}){let a=o?`aws:cognito-identity-credentials:${s}:${o}`:void 0,c=async()=>{let d=a&&await t.getItem(a);if(!d){let{IdentityId:u=t5()}=await r.send(new JK.GetIdCommand({AccountId:e,IdentityPoolId:s,Logins:i?await(0,ZK.resolveLogins)(i):void 0}));d=u,a&&Promise.resolve(t.setItem(a,d)).catch(()=>{})}return c=(0,XK.fromCognitoIdentity)({client:r,customRoleArn:n,logins:i,identityId:d}),c()};return()=>c().catch(async d=>{throw a&&Promise.resolve(t.removeItem(a)).catch(()=>{}),d})}Xu.fromCognitoIdentityPool=e5;function t5(){throw new YK.CredentialsProviderError("Response from Amazon Cognito contained no identity ID")}});var L_=l(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});var Hi=de();Hi.__exportStar(jR(),Fr);Hi.__exportStar(LR(),Fr);Hi.__exportStar(zR(),Fr);Hi.__exportStar(M_(),Fr);Hi.__exportStar(GR(),Fr)});var BR=l(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.fromCognitoIdentity=void 0;var r5=$i(),n5=L_(),s5=e=>{var t;return(0,n5.fromCognitoIdentity)({...e,client:new r5.CognitoIdentityClient((t=e.clientConfig)!==null&&t!==void 0?t:{})})};Qu.fromCognitoIdentity=s5});var VR=l(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.fromCognitoIdentityPool=void 0;var i5=$i(),o5=L_(),a5=e=>{var t;return(0,o5.fromCognitoIdentityPool)({...e,client:new i5.CognitoIdentityClient((t=e.clientConfig)!==null&&t!==void 0?t:{})})};Zu.fromCognitoIdentityPool=a5});var WR=l(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.fromContainerMetadata=void 0;var c5=mn(),d5=e=>(0,c5.fromContainerMetadata)(e);ef.fromContainerMetadata=d5});var KR=l(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.fromEnv=void 0;var l5=qc(),u5=()=>(0,l5.fromEnv)();tf.fromEnv=u5});var YR=l(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.fromIni=void 0;var JR=Lr(),f5=Wh(),p5=(e={})=>{var t,r;return(0,f5.fromIni)({...e,roleAssumer:(t=e.roleAssumer)!==null&&t!==void 0?t:(0,JR.getDefaultRoleAssumer)(e.clientConfig,e.clientPlugins),roleAssumerWithWebIdentity:(r=e.roleAssumerWithWebIdentity)!==null&&r!==void 0?r:(0,JR.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};rf.fromIni=p5});var XR=l(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.fromInstanceMetadata=void 0;var m5=mn(),h5=e=>(0,m5.fromInstanceMetadata)(e);nf.fromInstanceMetadata=h5});var ZR=l(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.fromNodeProviderChain=void 0;var QR=Lr(),_5=eu(),y5=(e={})=>{var t,r;return(0,_5.defaultProvider)({...e,roleAssumer:(t=e.roleAssumer)!==null&&t!==void 0?t:(0,QR.getDefaultRoleAssumer)(e.clientConfig,e.clientPlugins),roleAssumerWithWebIdentity:(r=e.roleAssumerWithWebIdentity)!==null&&r!==void 0?r:(0,QR.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};sf.fromNodeProviderChain=y5});var e1=l(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.fromProcess=void 0;var g5=Yh(),w5=e=>(0,g5.fromProcess)(e);of.fromProcess=w5});var t1=l(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.fromSSO=void 0;var v5=Hh(),E5=Qs(),S5=(e={})=>(0,E5.fromSSO)({ssoClient:e.clientConfig?new v5.SSOClient(e.clientConfig):void 0,...e});af.fromSSO=S5});var s1=l(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.fromTemporaryCredentials=void 0;var r1=Lr(),n1=B(),b5=e=>{let t;return async()=>{var r;let n={...e.params,RoleSessionName:(r=e.params.RoleSessionName)!==null&&r!==void 0?r:"aws-sdk-js-"+Date.now()};if(n?.SerialNumber){if(!e.mfaCodeProvider)throw new n1.CredentialsProviderError("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",!1);n.TokenCode=await e.mfaCodeProvider(n?.SerialNumber)}if(t||(t=new r1.STSClient({...e.clientConfig,credentials:e.masterCredentials})),e.clientPlugins)for(let i of e.clientPlugins)t.middlewareStack.use(i);let{Credentials:s}=await t.send(new r1.AssumeRoleCommand(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new n1.CredentialsProviderError(`Invalid response from STS.assumeRole call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};cf.fromTemporaryCredentials=b5});var i1=l(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.fromTokenFile=void 0;var P5=Lr(),I5=Zs(),A5=(e={})=>{var t;return(0,I5.fromTokenFile)({...e,roleAssumerWithWebIdentity:(t=e.roleAssumerWithWebIdentity)!==null&&t!==void 0?t:(0,P5.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};df.fromTokenFile=A5});var o1=l(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.fromWebToken=void 0;var R5=Lr(),C5=Zs(),T5=e=>{var t;return(0,C5.fromWebToken)({...e,roleAssumerWithWebIdentity:(t=e.roleAssumerWithWebIdentity)!==null&&t!==void 0?t:(0,R5.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};lf.fromWebToken=T5});var a1=l(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});var Xe=de();Xe.__exportStar(BR(),Ne);Xe.__exportStar(VR(),Ne);Xe.__exportStar(WR(),Ne);Xe.__exportStar(KR(),Ne);Xe.__exportStar(YR(),Ne);Xe.__exportStar(XR(),Ne);Xe.__exportStar(ZR(),Ne);Xe.__exportStar(e1(),Ne);Xe.__exportStar(t1(),Ne);Xe.__exportStar(s1(),Ne);Xe.__exportStar(i1(),Ne);Xe.__exportStar(o1(),Ne)});var Gt=l((Ht,uf)=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});var c1=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function x5(e){return c1.includes(e)}var q5=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...c1];function O5(e){return q5.includes(e)}var N5=["null","undefined","string","number","bigint","boolean","symbol"];function M5(e){return N5.includes(e)}function An(e){return t=>typeof t===e}var{toString:d1}=Object.prototype,Gi=e=>{let t=d1.call(e).slice(8,-1);if(/HTML\w+Element/.test(t)&&m.domElement(e))return"HTMLElement";if(O5(t))return t},H=e=>t=>Gi(t)===e;function m(e){if(e===null)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(m.observable(e))return"Observable";if(m.array(e))return"Array";if(m.buffer(e))return"Buffer";let t=Gi(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}m.undefined=An("undefined");m.string=An("string");var k5=An("number");m.number=e=>k5(e)&&!m.nan(e);m.bigint=An("bigint");m.function_=An("function");m.null_=e=>e===null;m.class_=e=>m.function_(e)&&e.toString().startsWith("class ");m.boolean=e=>e===!0||e===!1;m.symbol=An("symbol");m.numericString=e=>m.string(e)&&!m.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e));m.array=(e,t)=>Array.isArray(e)?m.function_(t)?e.every(t):!0:!1;m.buffer=e=>{var t,r,n,s;return(s=(n=(r=(t=e)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.isBuffer)===null||n===void 0?void 0:n.call(r,e))!==null&&s!==void 0?s:!1};m.blob=e=>H("Blob")(e);m.nullOrUndefined=e=>m.null_(e)||m.undefined(e);m.object=e=>!m.null_(e)&&(typeof e=="object"||m.function_(e));m.iterable=e=>{var t;return m.function_((t=e)===null||t===void 0?void 0:t[Symbol.iterator])};m.asyncIterable=e=>{var t;return m.function_((t=e)===null||t===void 0?void 0:t[Symbol.asyncIterator])};m.generator=e=>{var t,r;return m.iterable(e)&&m.function_((t=e)===null||t===void 0?void 0:t.next)&&m.function_((r=e)===null||r===void 0?void 0:r.throw)};m.asyncGenerator=e=>m.asyncIterable(e)&&m.function_(e.next)&&m.function_(e.throw);m.nativePromise=e=>H("Promise")(e);var j5=e=>{var t,r;return m.function_((t=e)===null||t===void 0?void 0:t.then)&&m.function_((r=e)===null||r===void 0?void 0:r.catch)};m.promise=e=>m.nativePromise(e)||j5(e);m.generatorFunction=H("GeneratorFunction");m.asyncGeneratorFunction=e=>Gi(e)==="AsyncGeneratorFunction";m.asyncFunction=e=>Gi(e)==="AsyncFunction";m.boundFunction=e=>m.function_(e)&&!e.hasOwnProperty("prototype");m.regExp=H("RegExp");m.date=H("Date");m.error=H("Error");m.map=e=>H("Map")(e);m.set=e=>H("Set")(e);m.weakMap=e=>H("WeakMap")(e);m.weakSet=e=>H("WeakSet")(e);m.int8Array=H("Int8Array");m.uint8Array=H("Uint8Array");m.uint8ClampedArray=H("Uint8ClampedArray");m.int16Array=H("Int16Array");m.uint16Array=H("Uint16Array");m.int32Array=H("Int32Array");m.uint32Array=H("Uint32Array");m.float32Array=H("Float32Array");m.float64Array=H("Float64Array");m.bigInt64Array=H("BigInt64Array");m.bigUint64Array=H("BigUint64Array");m.arrayBuffer=H("ArrayBuffer");m.sharedArrayBuffer=H("SharedArrayBuffer");m.dataView=H("DataView");m.enumCase=(e,t)=>Object.values(t).includes(e);m.directInstanceOf=(e,t)=>Object.getPrototypeOf(e)===t.prototype;m.urlInstance=e=>H("URL")(e);m.urlString=e=>{if(!m.string(e))return!1;try{return new URL(e),!0}catch{return!1}};m.truthy=e=>Boolean(e);m.falsy=e=>!e;m.nan=e=>Number.isNaN(e);m.primitive=e=>m.null_(e)||M5(typeof e);m.integer=e=>Number.isInteger(e);m.safeInteger=e=>Number.isSafeInteger(e);m.plainObject=e=>{if(d1.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};m.typedArray=e=>x5(Gi(e));var D5=e=>m.safeInteger(e)&&e>=0;m.arrayLike=e=>!m.nullOrUndefined(e)&&!m.function_(e)&&D5(e.length);m.inRange=(e,t)=>{if(m.number(t))return e>=Math.min(0,t)&&e<=Math.max(t,0);if(m.array(t)&&t.length===2)return e>=Math.min(...t)&&e<=Math.max(...t);throw new TypeError(`Invalid range: ${JSON.stringify(t)}`)};var L5=1,F5=["innerHTML","ownerDocument","style","attributes","nodeValue"];m.domElement=e=>m.object(e)&&e.nodeType===L5&&m.string(e.nodeName)&&!m.plainObject(e)&&F5.every(t=>t in e);m.observable=e=>{var t,r,n,s;return e?e===((r=(t=e)[Symbol.observable])===null||r===void 0?void 0:r.call(t))||e===((s=(n=e)["@@observable"])===null||s===void 0?void 0:s.call(n)):!1};m.nodeStream=e=>m.object(e)&&m.function_(e.pipe)&&!m.observable(e);m.infinite=e=>e===1/0||e===-1/0;var l1=e=>t=>m.integer(t)&&Math.abs(t%2)===e;m.evenInteger=l1(0);m.oddInteger=l1(1);m.emptyArray=e=>m.array(e)&&e.length===0;m.nonEmptyArray=e=>m.array(e)&&e.length>0;m.emptyString=e=>m.string(e)&&e.length===0;var z5=e=>m.string(e)&&!/\S/.test(e);m.emptyStringOrWhitespace=e=>m.emptyString(e)||z5(e);m.nonEmptyString=e=>m.string(e)&&e.length>0;m.nonEmptyStringAndNotWhitespace=e=>m.string(e)&&!m.emptyStringOrWhitespace(e);m.emptyObject=e=>m.object(e)&&!m.map(e)&&!m.set(e)&&Object.keys(e).length===0;m.nonEmptyObject=e=>m.object(e)&&!m.map(e)&&!m.set(e)&&Object.keys(e).length>0;m.emptySet=e=>m.set(e)&&e.size===0;m.nonEmptySet=e=>m.set(e)&&e.size>0;m.emptyMap=e=>m.map(e)&&e.size===0;m.nonEmptyMap=e=>m.map(e)&&e.size>0;m.propertyKey=e=>m.any([m.string,m.number,m.symbol],e);m.formData=e=>H("FormData")(e);m.urlSearchParams=e=>H("URLSearchParams")(e);var u1=(e,t,r)=>{if(!m.function_(t))throw new TypeError(`Invalid predicate: ${JSON.stringify(t)}`);if(r.length===0)throw new TypeError("Invalid number of values");return e.call(r,t)};m.any=(e,...t)=>(m.array(e)?e:[e]).some(n=>u1(Array.prototype.some,n,t));m.all=(e,...t)=>u1(Array.prototype.every,e,t);var P=(e,t,r,n={})=>{if(!e){let{multipleValues:s}=n,i=s?`received values of types ${[...new Set(r.map(o=>`\`${m(o)}\``))].join(", ")}`:`received value of type \`${m(r)}\``;throw new TypeError(`Expected value which is \`${t}\`, ${i}.`)}};Ht.assert={undefined:e=>P(m.undefined(e),"undefined",e),string:e=>P(m.string(e),"string",e),number:e=>P(m.number(e),"number",e),bigint:e=>P(m.bigint(e),"bigint",e),function_:e=>P(m.function_(e),"Function",e),null_:e=>P(m.null_(e),"null",e),class_:e=>P(m.class_(e),"Class",e),boolean:e=>P(m.boolean(e),"boolean",e),symbol:e=>P(m.symbol(e),"symbol",e),numericString:e=>P(m.numericString(e),"string with a number",e),array:(e,t)=>{P(m.array(e),"Array",e),t&&e.forEach(t)},buffer:e=>P(m.buffer(e),"Buffer",e),blob:e=>P(m.blob(e),"Blob",e),nullOrUndefined:e=>P(m.nullOrUndefined(e),"null or undefined",e),object:e=>P(m.object(e),"Object",e),iterable:e=>P(m.iterable(e),"Iterable",e),asyncIterable:e=>P(m.asyncIterable(e),"AsyncIterable",e),generator:e=>P(m.generator(e),"Generator",e),asyncGenerator:e=>P(m.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>P(m.nativePromise(e),"native Promise",e),promise:e=>P(m.promise(e),"Promise",e),generatorFunction:e=>P(m.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>P(m.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>P(m.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>P(m.boundFunction(e),"Function",e),regExp:e=>P(m.regExp(e),"RegExp",e),date:e=>P(m.date(e),"Date",e),error:e=>P(m.error(e),"Error",e),map:e=>P(m.map(e),"Map",e),set:e=>P(m.set(e),"Set",e),weakMap:e=>P(m.weakMap(e),"WeakMap",e),weakSet:e=>P(m.weakSet(e),"WeakSet",e),int8Array:e=>P(m.int8Array(e),"Int8Array",e),uint8Array:e=>P(m.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>P(m.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>P(m.int16Array(e),"Int16Array",e),uint16Array:e=>P(m.uint16Array(e),"Uint16Array",e),int32Array:e=>P(m.int32Array(e),"Int32Array",e),uint32Array:e=>P(m.uint32Array(e),"Uint32Array",e),float32Array:e=>P(m.float32Array(e),"Float32Array",e),float64Array:e=>P(m.float64Array(e),"Float64Array",e),bigInt64Array:e=>P(m.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>P(m.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>P(m.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>P(m.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>P(m.dataView(e),"DataView",e),enumCase:(e,t)=>P(m.enumCase(e,t),"EnumCase",e),urlInstance:e=>P(m.urlInstance(e),"URL",e),urlString:e=>P(m.urlString(e),"string with a URL",e),truthy:e=>P(m.truthy(e),"truthy",e),falsy:e=>P(m.falsy(e),"falsy",e),nan:e=>P(m.nan(e),"NaN",e),primitive:e=>P(m.primitive(e),"primitive",e),integer:e=>P(m.integer(e),"integer",e),safeInteger:e=>P(m.safeInteger(e),"integer",e),plainObject:e=>P(m.plainObject(e),"plain object",e),typedArray:e=>P(m.typedArray(e),"TypedArray",e),arrayLike:e=>P(m.arrayLike(e),"array-like",e),domElement:e=>P(m.domElement(e),"HTMLElement",e),observable:e=>P(m.observable(e),"Observable",e),nodeStream:e=>P(m.nodeStream(e),"Node.js Stream",e),infinite:e=>P(m.infinite(e),"infinite number",e),emptyArray:e=>P(m.emptyArray(e),"empty array",e),nonEmptyArray:e=>P(m.nonEmptyArray(e),"non-empty array",e),emptyString:e=>P(m.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>P(m.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>P(m.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>P(m.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>P(m.emptyObject(e),"empty object",e),nonEmptyObject:e=>P(m.nonEmptyObject(e),"non-empty object",e),emptySet:e=>P(m.emptySet(e),"empty set",e),nonEmptySet:e=>P(m.nonEmptySet(e),"non-empty set",e),emptyMap:e=>P(m.emptyMap(e),"empty map",e),nonEmptyMap:e=>P(m.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>P(m.propertyKey(e),"PropertyKey",e),formData:e=>P(m.formData(e),"FormData",e),urlSearchParams:e=>P(m.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>P(m.evenInteger(e),"even integer",e),oddInteger:e=>P(m.oddInteger(e),"odd integer",e),directInstanceOf:(e,t)=>P(m.directInstanceOf(e,t),"T",e),inRange:(e,t)=>P(m.inRange(e,t),"in range",e),any:(e,...t)=>P(m.any(e,...t),"predicate returns truthy for any value",t,{multipleValues:!0}),all:(e,...t)=>P(m.all(e,...t),"predicate returns truthy for all values",t,{multipleValues:!0})};Object.defineProperties(m,{class:{value:m.class_},function:{value:m.function_},null:{value:m.null_}});Object.defineProperties(Ht.assert,{class:{value:Ht.assert.class_},function:{value:Ht.assert.function_},null:{value:Ht.assert.null_}});Ht.default=m;uf.exports=m;uf.exports.default=m;uf.exports.assert=Ht.assert});var f1=l(($ne,F_)=>{"use strict";var ff=class extends Error{constructor(t){super(t||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},Rn=class{static fn(t){return(...r)=>new Rn((n,s,i)=>{r.push(i),t(...r).then(n,s)})}constructor(t){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let s=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},i=a=>{this._isPending=!1,n(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),t(s,i,o)})}then(t,r){return this._promise.then(t,r)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(t){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new ff(t))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(Rn.prototype,Promise.prototype);F_.exports=Rn;F_.exports.CancelError=ff});var p1=l((U_,$_)=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});function U5(e){return e.encrypted}var z_=(e,t)=>{let r;typeof t=="function"?r={connect:t}:r=t;let n=typeof r.connect=="function",s=typeof r.secureConnect=="function",i=typeof r.close=="function",o=()=>{n&&r.connect(),U5(e)&&s&&(e.authorized?r.secureConnect():e.authorizationError||e.once("secureConnect",r.secureConnect)),i&&e.once("close",r.close)};e.writable&&!e.connecting?o():e.connecting?e.once("connect",o):e.destroyed&&i&&r.close(e._hadError)};U_.default=z_;$_.exports=z_;$_.exports.default=z_});var m1=l((G_,B_)=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0});var $5=p1(),H5=require("util"),G5=Number(process.versions.node.split(".")[0]),H_=e=>{if(e.timings)return e.timings;let t={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=t;let r=a=>{let c=a.emit.bind(a);a.emit=(d,...u)=>(d==="error"&&(t.error=Date.now(),t.phases.total=t.error-t.start,a.emit=c),c(d,...u))};r(e);let n=()=>{t.abort=Date.now(),(!t.response||G5>=13)&&(t.phases.total=Date.now()-t.start)};e.prependOnceListener("abort",n);let s=a=>{if(t.socket=Date.now(),t.phases.wait=t.socket-t.start,H5.types.isProxy(a))return;let c=()=>{t.lookup=Date.now(),t.phases.dns=t.lookup-t.socket};a.prependOnceListener("lookup",c),$5.default(a,{connect:()=>{t.connect=Date.now(),t.lookup===void 0&&(a.removeListener("lookup",c),t.lookup=t.connect,t.phases.dns=t.lookup-t.socket),t.phases.tcp=t.connect-t.lookup},secureConnect:()=>{t.secureConnect=Date.now(),t.phases.tls=t.secureConnect-t.connect}})};e.socket?s(e.socket):e.prependOnceListener("socket",s);let i=()=>{var a;t.upload=Date.now(),t.phases.request=t.upload-((a=t.secureConnect)!==null&&a!==void 0?a:t.connect)};return(()=>typeof e.writableFinished=="boolean"?e.writableFinished:e.finished&&e.outputSize===0&&(!e.socket||e.socket.writableLength===0))()?i():e.prependOnceListener("finish",i),e.prependOnceListener("response",a=>{t.response=Date.now(),t.phases.firstByte=t.response-t.upload,a.timings=t,r(a),a.prependOnceListener("end",()=>{t.end=Date.now(),t.phases.download=t.end-t.response,t.phases.total=t.end-t.start}),a.prependOnceListener("aborted",n)}),t};G_.default=H_;B_.exports=H_;B_.exports.default=H_});var E1=l((Hne,K_)=>{"use strict";var{V4MAPPED:B5,ADDRCONFIG:V5,ALL:v1,promises:{Resolver:h1},lookup:W5}=require("dns"),{promisify:V_}=require("util"),K5=require("os"),Cn=Symbol("cacheableLookupCreateConnection"),W_=Symbol("cacheableLookupInstance"),_1=Symbol("expires"),J5=typeof v1=="number",y1=e=>{if(!(e&&typeof e.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},Y5=e=>{for(let t of e)t.family!==6&&(t.address=`::ffff:${t.address}`,t.family=6)},g1=()=>{let e=!1,t=!1;for(let r of Object.values(K5.networkInterfaces()))for(let n of r)if(!n.internal&&(n.family==="IPv6"?t=!0:e=!0,e&&t))return{has4:e,has6:t};return{has4:e,has6:t}},X5=e=>Symbol.iterator in e,w1={ttl:!0},Q5={all:!0},pf=class{constructor({cache:t=new Map,maxTtl:r=1/0,fallbackDuration:n=3600,errorTtl:s=.15,resolver:i=new h1,lookup:o=W5}={}){if(this.maxTtl=r,this.errorTtl=s,this._cache=t,this._resolver=i,this._dnsLookup=V_(o),this._resolver instanceof h1?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=V_(this._resolver.resolve4.bind(this._resolver)),this._resolve6=V_(this._resolver.resolve6.bind(this._resolver))),this._iface=g1(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,n<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(t){this.clear(),this._resolver.setServers(t)}get servers(){return this._resolver.getServers()}lookup(t,r,n){if(typeof r=="function"?(n=r,r={}):typeof r=="number"&&(r={family:r}),!n)throw new Error("Callback must be a function.");this.lookupAsync(t,r).then(s=>{r.all?n(null,s):n(null,s.address,s.family,s.expires,s.ttl)},n)}async lookupAsync(t,r={}){typeof r=="number"&&(r={family:r});let n=await this.query(t);if(r.family===6){let s=n.filter(i=>i.family===6);r.hints&B5&&(J5&&r.hints&v1||s.length===0)?Y5(n):n=s}else r.family===4&&(n=n.filter(s=>s.family===4));if(r.hints&V5){let{_iface:s}=this;n=n.filter(i=>i.family===6?s.has6:s.has4)}if(n.length===0){let s=new Error(`cacheableLookup ENOTFOUND ${t}`);throw s.code="ENOTFOUND",s.hostname=t,s}return r.all?n:n[0]}async query(t){let r=await this._cache.get(t);if(!r){let n=this._pending[t];if(n)r=await n;else{let s=this.queryAndCache(t);this._pending[t]=s;try{r=await s}finally{delete this._pending[t]}}}return r=r.map(n=>({...n})),r}async _resolve(t){let r=async d=>{try{return await d}catch(u){if(u.code==="ENODATA"||u.code==="ENOTFOUND")return[];throw u}},[n,s]=await Promise.all([this._resolve4(t,w1),this._resolve6(t,w1)].map(d=>r(d))),i=0,o=0,a=0,c=Date.now();for(let d of n)d.family=4,d.expires=c+d.ttl*1e3,i=Math.max(i,d.ttl);for(let d of s)d.family=6,d.expires=c+d.ttl*1e3,o=Math.max(o,d.ttl);return n.length>0?s.length>0?a=Math.min(i,o):a=i:a=o,{entries:[...n,...s],cacheTtl:a}}async _lookup(t){try{return{entries:await this._dnsLookup(t,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(t,r,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,r[_1]=Date.now()+n;try{await this._cache.set(t,r,n)}catch(s){this.lookupAsync=async()=>{let i=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw i.cause=s,i}}X5(this._cache)&&this._tick(n)}}async queryAndCache(t){if(this._hostnamesToFallback.has(t))return this._dnsLookup(t,Q5);let r=await this._resolve(t);r.entries.length===0&&this._fallback&&(r=await this._lookup(t),r.entries.length!==0&&this._hostnamesToFallback.add(t));let n=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(t,r.entries,n),r.entries}_tick(t){let r=this._nextRemovalTime;(!r||t<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=t,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,s=Date.now();for(let[i,o]of this._cache){let a=o[_1];s>=a?this._cache.delete(i):a<n&&(n=a)}n!==1/0&&this._tick(n-s)},t),this._removalTimeout.unref&&this._removalTimeout.unref())}install(t){if(y1(t),Cn in t)throw new Error("CacheableLookup has been already installed");t[Cn]=t.createConnection,t[W_]=this,t.createConnection=(r,n)=>("lookup"in r||(r.lookup=this.lookup),t[Cn](r,n))}uninstall(t){if(y1(t),t[Cn]){if(t[W_]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");t.createConnection=t[Cn],delete t[Cn],delete t[W_]}}updateInterfaceInfo(){let{_iface:t}=this;this._iface=g1(),(t.has4&&!this._iface.has4||t.has6&&!this._iface.has6)&&this._cache.clear()}clear(t){if(t){this._cache.delete(t);return}this._cache.clear()}};K_.exports=pf;K_.exports.default=pf});var P1=l((Gne,b1)=>{"use strict";var Z5="text/plain",eJ="us-ascii",S1=(e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),tJ=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:s,hash:i}=r.groups,o=n.split(";");i=t?"":i;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let c=(o.shift()||"").toLowerCase(),u=[...o.map(p=>{let[f,h=""]=p.split("=").map(_=>_.trim());return f==="charset"&&(h=h.toLowerCase(),h===eJ)?"":`${f}${h?`=${h}`:""}`}).filter(Boolean)];return a&&u.push("base64"),(u.length!==0||c&&c!==Z5)&&u.unshift(c),`data:${u.join(";")},${a?s.trim():s}${i?`#${i}`:""}`},rJ=(e,t)=>{if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return tJ(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname&&(s.pathname=s.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=s.pathname.split("/"),a=o[o.length-1];S1(a,t.removeDirectoryIndex)&&(o=o.slice(0,o.length-1),s.pathname=o.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let o of[...s.searchParams.keys()])S1(o,t.removeQueryParameters)&&s.searchParams.delete(o);t.removeQueryParameters===!0&&(s.search=""),t.sortQueryParameters&&s.searchParams.sort(),t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let i=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!i.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e};b1.exports=rJ});var R1=l((Bne,A1)=>{A1.exports=I1;function I1(e,t){if(e&&t)return I1(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];var i=e.apply(this,n),o=n[n.length-1];return typeof i=="function"&&i!==o&&Object.keys(o).forEach(function(a){i[a]=o[a]}),i}}});var Y_=l((Vne,J_)=>{var C1=R1();J_.exports=C1(mf);J_.exports.strict=C1(T1);mf.proto=mf(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return mf(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return T1(this)},configurable:!0})});function mf(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function T1(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var O1=l((Wne,q1)=>{var nJ=Y_(),sJ=function(){},iJ=function(e){return e.setHeader&&typeof e.abort=="function"},oJ=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},x1=function(e,t,r){if(typeof t=="function")return x1(e,null,t);t||(t={}),r=nJ(r||sJ);var n=e._writableState,s=e._readableState,i=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,a=!1,c=function(){e.writable||d()},d=function(){o=!1,i||r.call(e)},u=function(){i=!1,o||r.call(e)},p=function(g){r.call(e,g?new Error("exited with error code: "+g):null)},f=function(g){r.call(e,g)},h=function(){process.nextTick(_)},_=function(){if(!a){if(i&&!(s&&s.ended&&!s.destroyed))return r.call(e,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},y=function(){e.req.on("finish",d)};return iJ(e)?(e.on("complete",d),e.on("abort",h),e.req?y():e.on("request",y)):o&&!n&&(e.on("end",c),e.on("close",c)),oJ(e)&&e.on("exit",p),e.on("end",u),e.on("finish",d),t.error!==!1&&e.on("error",f),e.on("close",h),function(){a=!0,e.removeListener("complete",d),e.removeListener("abort",h),e.removeListener("request",y),e.req&&e.req.removeListener("finish",d),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",d),e.removeListener("exit",p),e.removeListener("end",u),e.removeListener("error",f),e.removeListener("close",h)}};q1.exports=x1});var k1=l((Kne,M1)=>{var aJ=Y_(),cJ=O1(),X_=require("fs"),Bi=function(){},dJ=/^v?\.0/.test(process.version),hf=function(e){return typeof e=="function"},lJ=function(e){return!dJ||!X_?!1:(e instanceof(X_.ReadStream||Bi)||e instanceof(X_.WriteStream||Bi))&&hf(e.close)},uJ=function(e){return e.setHeader&&hf(e.abort)},fJ=function(e,t,r,n){n=aJ(n);var s=!1;e.on("close",function(){s=!0}),cJ(e,{readable:t,writable:r},function(o){if(o)return n(o);s=!0,n()});var i=!1;return function(o){if(!s&&!i){if(i=!0,lJ(e))return e.close(Bi);if(uJ(e))return e.abort();if(hf(e.destroy))return e.destroy();n(o||new Error("stream was destroyed"))}}},N1=function(e){e()},pJ=function(e,t){return e.pipe(t)},mJ=function(){var e=Array.prototype.slice.call(arguments),t=hf(e[e.length-1]||Bi)&&e.pop()||Bi;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(s,i){var o=i<e.length-1,a=i>0;return fJ(s,o,a,function(c){r||(r=c),c&&n.forEach(N1),!o&&(n.forEach(N1),t(r))})});return e.reduce(pJ)};M1.exports=mJ});var D1=l((Jne,j1)=>{"use strict";var{PassThrough:hJ}=require("stream");j1.exports=e=>{e={...e};let{array:t}=e,{encoding:r}=e,n=r==="buffer",s=!1;t?s=!(r||n):r=r||"utf8",n&&(r=null);let i=new hJ({objectMode:s});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",c=>{a.push(c),s?o=a.length:o+=c.length}),i.getBufferedValue=()=>t?a:n?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var L1=l((Yne,Tn)=>{"use strict";var{constants:_J}=require("buffer"),yJ=k1(),gJ=D1(),_f=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function yf(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};let{maxBuffer:r}=t,n;return await new Promise((s,i)=>{let o=a=>{a&&n.getBufferedLength()<=_J.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),i(a)};n=yJ(e,gJ(t),a=>{if(a){o(a);return}s()}),n.on("data",()=>{n.getBufferedLength()>r&&o(new _f)})}),n.getBufferedValue()}Tn.exports=yf;Tn.exports.default=yf;Tn.exports.buffer=(e,t)=>yf(e,{...t,encoding:"buffer"});Tn.exports.array=(e,t)=>yf(e,{...t,array:!0});Tn.exports.MaxBufferError=_f});var z1=l((Qne,F1)=>{"use strict";var wJ=new Set([200,203,204,206,300,301,404,405,410,414,501]),vJ=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),EJ=new Set([500,502,503,504]),SJ={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},bJ={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function zr(e){let t=parseInt(e,10);return isFinite(t)?t:0}function PJ(e){return e?EJ.has(e.status):!0}function Q_(e){let t={};if(!e)return t;let r=e.trim().split(/\s*,\s*/);for(let n of r){let[s,i]=n.split(/\s*=\s*/,2);t[s]=i===void 0?!0:i.replace(/^"|"$/g,"")}return t}function IJ(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(!!t.length)return t.join(", ")}F1.exports=class{constructor(t,r,{shared:n,cacheHeuristic:s,immutableMinTimeToLive:i,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=s!==void 0?s:.1,this._immutableMinTtl=i!==void 0?i:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=Q_(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=Q_(t.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":IJ(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&vJ.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||wJ.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=Q_(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)SJ[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let s of n)delete r[s]}if(r.warning){let n=r.warning.split(/,/).filter(s=>!/^\s*1[0-9][0-9]/.test(s));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return zr(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return zr(this._rescc["s-maxage"])}if(this._rescc["max-age"])return zr(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+zr(this._rescc["stale-if-error"]),n=t+zr(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+zr(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+zr(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let s=r["if-none-match"].split(/,/).filter(i=>!/^\s*W\//.test(i));s.length?r["if-none-match"]=s.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&PJ(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let s={};for(let o in this._resHeaders)s[o]=o in r.headers&&!bJ[o]?r.headers[o]:this._resHeaders[o];let i=Object.assign({},r,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(t,i,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var gf=l((Zne,U1)=>{"use strict";U1.exports=e=>{let t={};for(let[r,n]of Object.entries(e))t[r.toLowerCase()]=n;return t}});var H1=l((ese,$1)=>{"use strict";var AJ=require("stream").Readable,RJ=gf(),Z_=class extends AJ{constructor(t,r,n,s){if(typeof t!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof s!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=t,this.headers=RJ(r),this.body=n,this.url=s}_read(){this.push(this.body),this.push(null)}};$1.exports=Z_});var B1=l((tse,G1)=>{"use strict";var CJ=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];G1.exports=(e,t)=>{let r=new Set(Object.keys(e).concat(CJ));for(let n of r)n in t||(t[n]=typeof e[n]=="function"?e[n].bind(e):e[n])}});var W1=l((rse,V1)=>{"use strict";var TJ=require("stream").PassThrough,xJ=B1(),qJ=e=>{if(!(e&&e.pipe))throw new TypeError("Parameter `response` must be a response stream.");let t=new TJ;return xJ(e,t),e.pipe(t)};V1.exports=qJ});var K1=l(ey=>{ey.stringify=function e(t){if(typeof t>"u")return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&typeof t=="object"){var r="",n=Array.isArray(t);r=n?"[":"{";var s=!0;for(var i in t){var o=typeof t[i]=="function"||!n&&typeof t[i]>"u";Object.hasOwnProperty.call(t,i)&&!o&&(s||(r+=","),s=!1,n?t[i]==null?r+="null":r+=e(t[i]):t[i]!==void 0&&(r+=e(i)+":"+e(t[i])))}return r+=n?"]":"}",r}else return typeof t=="string"?JSON.stringify(/^:/.test(t)?":"+t:t):typeof t>"u"?"null":JSON.stringify(t)};ey.parse=function(e){return JSON.parse(e,function(t,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var Q1=l((sse,X1)=>{"use strict";var OJ=require("events"),J1=K1(),NJ=e=>{let t={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(e.adapter||e.uri){let r=e.adapter||/^[^:+]*/.exec(e.uri)[0];return new(require(t[r]))(e)}return new Map},Y1=["sqlite","postgres","mysql","mongo","redis","tiered"],ty=class extends OJ{constructor(t,{emitErrors:r=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:J1.stringify,deserialize:J1.parse,...typeof t=="string"?{uri:t}:t,...n},!this.opts.store){let i={...this.opts};this.opts.store=NJ(i)}if(this.opts.compression){let i=this.opts.compression,{serialize:o,deserialize:a}=i.opts;this.opts.serialize=o,this.opts.deserialize=a}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",i=>this.emit("error",i)),this.opts.store.namespace=this.opts.namespace;let s=i=>async function*(){for await(let[o,a]of typeof i=="function"?i(this.opts.store.namespace):i){let c=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof c.expires=="number"&&Date.now()>c.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),c.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=s(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=s(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return Y1.includes(this.opts.store.opts.dialect)||Y1.findIndex(t=>this.opts.store.opts.url.includes(t))>=0}_getKeyPrefix(t){return`${this.opts.namespace}:${t}`}_getKeyPrefixArray(t){return t.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(t){return t.split(":").splice(1).join(":")}get(t,r){let{store:n}=this.opts,s=Array.isArray(t),i=s?this._getKeyPrefixArray(t):this._getKeyPrefix(t);if(s&&n.getMany===void 0){let o=[];for(let a of i)o.push(Promise.resolve().then(()=>n.get(a)).then(c=>typeof c=="string"?this.opts.deserialize(c):c).then(c=>{if(c!=null)return typeof c.expires=="number"&&Date.now()>c.expires?this.delete(a).then(()=>{}):r&&r.raw?c:c.value}));return Promise.allSettled(o).then(a=>{let c=[];for(let d of a)c.push(d.value);return c})}return Promise.resolve().then(()=>s?n.getMany(i):n.get(i)).then(o=>typeof o=="string"?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(s){let a=[];for(let c of o){if(typeof c=="string"&&(c=this.opts.deserialize(c)),c==null){a.push(void 0);continue}typeof c.expires=="number"&&Date.now()>c.expires?(this.delete(t).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?c:c.value)}return a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(t).then(()=>{}):r&&r.raw?o:o.value}})}set(t,r,n){let s=this._getKeyPrefix(t);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:i}=this.opts;return Promise.resolve().then(()=>{let o=typeof n=="number"?Date.now()+n:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>i.set(s,o,n)).then(()=>!0)}delete(t){let{store:r}=this.opts;if(Array.isArray(t)){let s=this._getKeyPrefixArray(t);if(r.deleteMany===void 0){let i=[];for(let o of s)i.push(r.delete(o));return Promise.allSettled(i).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(s))}let n=this._getKeyPrefix(t);return Promise.resolve().then(()=>r.delete(n))}clear(){let{store:t}=this.opts;return Promise.resolve().then(()=>t.clear())}has(t){let r=this._getKeyPrefix(t),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(r):await n.get(r)!==void 0)}disconnect(){let{store:t}=this.opts;if(typeof t.disconnect=="function")return t.disconnect()}};X1.exports=ty});var tC=l((ise,eC)=>{"use strict";var MJ=require("events"),wf=require("url"),kJ=P1(),jJ=L1(),ry=z1(),Z1=H1(),DJ=gf(),LJ=W1(),FJ=Q1(),ot=class{constructor(t,r){if(typeof t!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new FJ({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(t)}createCacheableRequest(t){return(r,n)=>{let s;if(typeof r=="string")s=ny(wf.parse(r)),r={};else if(r instanceof wf.URL)s=ny(wf.parse(r.toString())),r={};else{let[p,...f]=(r.path||"").split("?"),h=f.length>0?`?${f.join("?")}`:"";s=ny({...r,pathname:p,search:h})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...zJ(s)},r.headers=DJ(r.headers);let i=new MJ,o=kJ(wf.format(s),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${o}`,c=!1,d=!1,u=p=>{d=!0;let f=!1,h,_=new Promise(g=>{h=()=>{f||(f=!0,g())}}),y=g=>{if(c&&!p.forceRefresh){g.status=g.statusCode;let q=ry.fromObject(c.cachePolicy).revalidatedPolicy(p,g);if(!q.modified){let D=q.policy.responseHeaders();g=new Z1(c.statusCode,D,c.body,c.url),g.cachePolicy=q.policy,g.fromCache=!0}}g.fromCache||(g.cachePolicy=new ry(p,g,p),g.fromCache=!1);let b;p.cache&&g.cachePolicy.storable()?(b=LJ(g),(async()=>{try{let q=jJ.buffer(g);if(await Promise.race([_,new Promise(Lf=>g.once("end",Lf))]),f)return;let D=await q,Me={cachePolicy:g.cachePolicy.toObject(),url:g.url,statusCode:g.fromCache?c.statusCode:g.statusCode,body:D},Vt=p.strictTtl?g.cachePolicy.timeToLive():void 0;p.maxTtl&&(Vt=Vt?Math.min(Vt,p.maxTtl):p.maxTtl),await this.cache.set(a,Me,Vt)}catch(q){i.emit("error",new ot.CacheError(q))}})()):p.cache&&c&&(async()=>{try{await this.cache.delete(a)}catch(q){i.emit("error",new ot.CacheError(q))}})(),i.emit("response",b||g),typeof n=="function"&&n(b||g)};try{let g=t(p,y);g.once("error",h),g.once("abort",h),i.emit("request",g)}catch(g){i.emit("error",new ot.RequestError(g))}};return(async()=>{let p=async h=>{await Promise.resolve();let _=h.cache?await this.cache.get(a):void 0;if(typeof _>"u")return u(h);let y=ry.fromObject(_.cachePolicy);if(y.satisfiesWithoutRevalidation(h)&&!h.forceRefresh){let g=y.responseHeaders(),b=new Z1(_.statusCode,g,_.body,_.url);b.cachePolicy=y,b.fromCache=!0,i.emit("response",b),typeof n=="function"&&n(b)}else c=_,h.headers=y.revalidationHeaders(h),u(h)},f=h=>i.emit("error",new ot.CacheError(h));this.cache.once("error",f),i.on("response",()=>this.cache.removeListener("error",f));try{await p(r)}catch(h){r.automaticFailover&&!d&&u(r),i.emit("error",new ot.CacheError(h))}})(),i}}};function zJ(e){let t={...e};return t.path=`${e.pathname||"/"}${e.search||""}`,delete t.pathname,delete t.search,t}function ny(e){return{protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}}ot.RequestError=class extends Error{constructor(e){super(e.message),this.name="RequestError",Object.assign(this,e)}};ot.CacheError=class extends Error{constructor(e){super(e.message),this.name="CacheError",Object.assign(this,e)}};eC.exports=ot});var nC=l((cse,rC)=>{"use strict";var UJ=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];rC.exports=(e,t)=>{if(t._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(e).concat(UJ)),n={};for(let s of r)s in t||(n[s]={get(){let i=e[s];return typeof i=="function"?i.bind(e):i},set(i){e[s]=i},enumerable:!0,configurable:!1});return Object.defineProperties(t,n),e.once("aborted",()=>{t.destroy(),t.emit("aborted")}),e.once("close",()=>{e.complete&&t.readable?t.once("end",()=>{t.emit("close")}):t.emit("close")}),t}});var iC=l((dse,sC)=>{"use strict";var{Transform:$J,PassThrough:HJ}=require("stream"),sy=require("zlib"),GJ=nC();sC.exports=e=>{let t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t))return e;let r=t==="br";if(r&&typeof sy.createBrotliDecompress!="function")return e.destroy(new Error("Brotli is not supported on Node.js < 12")),e;let n=!0,s=new $J({transform(a,c,d){n=!1,d(null,a)},flush(a){a()}}),i=new HJ({autoDestroy:!1,destroy(a,c){e.destroy(),c(a)}}),o=r?sy.createBrotliDecompress():sy.createUnzip();return o.once("error",a=>{if(n&&!e.readable){i.end();return}i.destroy(a)}),GJ(e,i),e.pipe(s).pipe(o).pipe(i),i}});var oy=l((lse,oC)=>{"use strict";var iy=class{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,r){if(this.cache.set(t,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,s]of this.oldCache.entries())this.onEviction(n,s);this.oldCache=this.cache,this.cache=new Map}}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){let r=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,r),r}}set(t,r){return this.cache.has(t)?this.cache.set(t,r):this._set(t,r),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){let r=this.cache.delete(t);return r&&this._size--,this.oldCache.delete(t)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache)yield t;for(let t of this.oldCache){let[r]=t;this.cache.has(r)||(yield t)}}get size(){let t=0;for(let r of this.oldCache.keys())this.cache.has(r)||t++;return Math.min(this._size+t,this.maxSize)}};oC.exports=iy});var cy=l((use,lC)=>{"use strict";var BJ=require("events"),VJ=require("tls"),WJ=require("http2"),KJ=oy(),Ae=Symbol("currentStreamsCount"),aC=Symbol("request"),Qe=Symbol("cachedOriginSet"),xn=Symbol("gracefullyClosing"),JJ=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],YJ=(e,t,r)=>{let n=0,s=e.length;for(;n<s;){let i=n+s>>>1;r(e[i],t)?n=i+1:s=i}return n},XJ=(e,t)=>e.remoteSettings.maxConcurrentStreams>t.remoteSettings.maxConcurrentStreams,ay=(e,t)=>{for(let r of e)r[Qe].length<t[Qe].length&&r[Qe].every(n=>t[Qe].includes(n))&&r[Ae]+t[Ae]<=t.remoteSettings.maxConcurrentStreams&&dC(r)},QJ=(e,t)=>{for(let r of e)t[Qe].length<r[Qe].length&&t[Qe].every(n=>r[Qe].includes(n))&&t[Ae]+r[Ae]<=r.remoteSettings.maxConcurrentStreams&&dC(t)},cC=({agent:e,isFree:t})=>{let r={};for(let n in e.sessions){let i=e.sessions[n].filter(o=>{let a=o[Ot.kCurrentStreamsCount]<o.remoteSettings.maxConcurrentStreams;return t?a:!a});i.length!==0&&(r[n]=i)}return r},dC=e=>{e[xn]=!0,e[Ae]===0&&e.close()},Ot=class extends BJ{constructor({timeout:t=6e4,maxSessions:r=1/0,maxFreeSessions:n=10,maxCachedTlsSessions:s=100}={}){super(),this.sessions={},this.queue={},this.timeout=t,this.maxSessions=r,this.maxFreeSessions=n,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new KJ({maxSize:s})}static normalizeOrigin(t,r){return typeof t=="string"&&(t=new URL(t)),r&&t.hostname!==r&&(t.hostname=r),t.origin}normalizeOptions(t){let r="";if(t)for(let n of JJ)t[n]&&(r+=`:${t[n]}`);return r}_tryToCreateNewSession(t,r){if(!(t in this.queue)||!(r in this.queue[t]))return;let n=this.queue[t][r];this._sessionsCount<this.maxSessions&&!n.completed&&(n.completed=!0,n())}getSession(t,r,n){return new Promise((s,i)=>{Array.isArray(n)?(n=[...n],s()):n=[{resolve:s,reject:i}];let o=this.normalizeOptions(r),a=Ot.normalizeOrigin(t,r&&r.servername);if(a===void 0){for(let{reject:u}of n)u(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(o in this.sessions){let u=this.sessions[o],p=-1,f=-1,h;for(let _ of u){let y=_.remoteSettings.maxConcurrentStreams;if(y<p)break;if(_[Qe].includes(a)){let g=_[Ae];if(g>=y||_[xn]||_.destroyed)continue;h||(p=y),g>f&&(h=_,f=g)}}if(h){if(n.length!==1){for(let{reject:_}of n){let y=new Error(`Expected the length of listeners to be 1, got ${n.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);_(y)}return}n[0].resolve(h);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...n),this._tryToCreateNewSession(o,a);return}}else this.queue[o]={};let c=()=>{o in this.queue&&this.queue[o][a]===d&&(delete this.queue[o][a],Object.keys(this.queue[o]).length===0&&delete this.queue[o])},d=()=>{let u=`${a}:${o}`,p=!1;try{let f=WJ.connect(t,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(u),...r});f[Ae]=0,f[xn]=!1;let h=()=>f[Ae]<f.remoteSettings.maxConcurrentStreams,_=!0;f.socket.once("session",g=>{this.tlsSessionCache.set(u,g)}),f.once("error",g=>{for(let{reject:b}of n)b(g);this.tlsSessionCache.delete(u)}),f.setTimeout(this.timeout,()=>{f.destroy()}),f.once("close",()=>{if(p){_&&this._freeSessionsCount--,this._sessionsCount--;let g=this.sessions[o];g.splice(g.indexOf(f),1),g.length===0&&delete this.sessions[o]}else{let g=new Error("Session closed without receiving a SETTINGS frame");g.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:b}of n)b(g);c()}this._tryToCreateNewSession(o,a)});let y=()=>{if(!(!(o in this.queue)||!h())){for(let g of f[Qe])if(g in this.queue[o]){let{listeners:b}=this.queue[o][g];for(;b.length!==0&&h();)b.shift().resolve(f);let q=this.queue[o];if(q[g].listeners.length===0&&(delete q[g],Object.keys(q).length===0)){delete this.queue[o];break}if(!h())break}}};f.on("origin",()=>{f[Qe]=f.originSet,h()&&(y(),ay(this.sessions[o],f))}),f.once("remoteSettings",()=>{if(f.ref(),f.unref(),this._sessionsCount++,d.destroyed){let g=new Error("Agent has been destroyed");for(let b of n)b.reject(g);f.destroy();return}f[Qe]=f.originSet;{let g=this.sessions;if(o in g){let b=g[o];b.splice(YJ(b,f,XJ),0,f)}else g[o]=[f]}this._freeSessionsCount+=1,p=!0,this.emit("session",f),y(),c(),f[Ae]===0&&this._freeSessionsCount>this.maxFreeSessions&&f.close(),n.length!==0&&(this.getSession(a,r,n),n.length=0),f.on("remoteSettings",()=>{y(),ay(this.sessions[o],f)})}),f[aC]=f.request,f.request=(g,b)=>{if(f[xn])throw new Error("The session is gracefully closing. No new streams are allowed.");let q=f[aC](g,b);return f.ref(),++f[Ae],f[Ae]===f.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,q.once("close",()=>{if(_=h(),--f[Ae],!f.destroyed&&!f.closed&&(QJ(this.sessions[o],f),h()&&!f.closed)){_||(this._freeSessionsCount++,_=!0);let D=f[Ae]===0;D&&f.unref(),D&&(this._freeSessionsCount>this.maxFreeSessions||f[xn])?f.close():(ay(this.sessions[o],f),y())}}),q}}catch(f){for(let h of n)h.reject(f);c()}};d.listeners=n,d.completed=!1,d.destroyed=!1,this.queue[o][a]=d,this._tryToCreateNewSession(o,a)})}request(t,r,n,s){return new Promise((i,o)=>{this.getSession(t,r,[{reject:o,resolve:a=>{try{i(a.request(n,s))}catch(c){o(c)}}}])})}createConnection(t,r){return Ot.connect(t,r)}static connect(t,r){r.ALPNProtocols=["h2"];let n=t.port||443,s=t.hostname||t.host;return typeof r.servername>"u"&&(r.servername=s),VJ.connect(n,s,r)}closeFreeSessions(){for(let t of Object.values(this.sessions))for(let r of t)r[Ae]===0&&r.close()}destroy(t){for(let r of Object.values(this.sessions))for(let n of r)n.destroy(t);for(let r of Object.values(this.queue))for(let n of Object.values(r))n.destroyed=!0;this.queue={}}get freeSessions(){return cC({agent:this,isFree:!0})}get busySessions(){return cC({agent:this,isFree:!1})}};Ot.kCurrentStreamsCount=Ae;Ot.kGracefullyClosing=xn;lC.exports={Agent:Ot,globalAgent:new Ot}});var ly=l((fse,uC)=>{"use strict";var{Readable:ZJ}=require("stream"),dy=class extends ZJ{constructor(t,r){super({highWaterMark:r,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=t,this.connection=t,this._dumped=!1}_destroy(t){this.req._request.destroy(t)}setTimeout(t,r){return this.req.setTimeout(t,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};uC.exports=dy});var uy=l((pse,fC)=>{"use strict";fC.exports=e=>{let t={protocol:e.protocol,hostname:typeof e.hostname=="string"&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return typeof e.port=="string"&&e.port.length!==0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}});var mC=l((mse,pC)=>{"use strict";pC.exports=(e,t,r)=>{for(let n of r)e.on(n,(...s)=>t.emit(n,...s))}});var _C=l((hse,hC)=>{"use strict";hC.exports=e=>{switch(e){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var gC=l((yse,yC)=>{"use strict";var qn=(e,t,r)=>{yC.exports[t]=class extends e{constructor(...s){super(typeof r=="string"?r:r(s)),this.name=`${super.name} [${t}]`,this.code=t}}};qn(TypeError,"ERR_INVALID_ARG_TYPE",e=>{let t=e[0].includes(".")?"property":"argument",r=e[1],n=Array.isArray(r);return n&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${e[0]}" ${t} must be ${n?"one of":"of"} type ${r}. Received ${typeof e[2]}`});qn(TypeError,"ERR_INVALID_PROTOCOL",e=>`Protocol "${e[0]}" not supported. Expected "${e[1]}"`);qn(Error,"ERR_HTTP_HEADERS_SENT",e=>`Cannot ${e[0]} headers after they are sent to the client`);qn(TypeError,"ERR_INVALID_HTTP_TOKEN",e=>`${e[0]} must be a valid HTTP token [${e[1]}]`);qn(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",e=>`Invalid value "${e[0]} for header "${e[1]}"`);qn(TypeError,"ERR_INVALID_CHAR",e=>`Invalid character in ${e[0]} [${e[1]}]`)});var _y=l((gse,IC)=>{"use strict";var eY=require("http2"),{Writable:tY}=require("stream"),{Agent:wC,globalAgent:rY}=cy(),nY=ly(),sY=uy(),iY=mC(),oY=_C(),{ERR_INVALID_ARG_TYPE:fy,ERR_INVALID_PROTOCOL:aY,ERR_HTTP_HEADERS_SENT:vC,ERR_INVALID_HTTP_TOKEN:cY,ERR_HTTP_INVALID_HEADER_VALUE:dY,ERR_INVALID_CHAR:lY}=gC(),{HTTP2_HEADER_STATUS:EC,HTTP2_HEADER_METHOD:SC,HTTP2_HEADER_PATH:bC,HTTP2_METHOD_CONNECT:uY}=eY.constants,be=Symbol("headers"),py=Symbol("origin"),my=Symbol("session"),PC=Symbol("options"),vf=Symbol("flushedHeaders"),Vi=Symbol("jobs"),fY=/^[\^`\-\w!#$%&*+.|~]+$/,pY=/[^\t\u0020-\u007E\u0080-\u00FF]/,hy=class extends tY{constructor(t,r,n){super({autoDestroy:!1});let s=typeof t=="string"||t instanceof URL;if(s&&(t=sY(t instanceof URL?t:new URL(t))),typeof r=="function"||r===void 0?(n=r,r=s?t:{...t}):r={...t,...r},r.h2session)this[my]=r.h2session;else if(r.agent===!1)this.agent=new wC({maxFreeSessions:0});else if(typeof r.agent>"u"||r.agent===null)typeof r.createConnection=="function"?(this.agent=new wC({maxFreeSessions:0}),this.agent.createConnection=r.createConnection):this.agent=rY;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new fy("options.agent",["Agent-like Object","undefined","false"],r.agent);if(r.protocol&&r.protocol!=="https:")throw new aY(r.protocol,"https:");let i=r.port||r.defaultPort||this.agent&&this.agent.defaultPort||443,o=r.hostname||r.host||"localhost";delete r.hostname,delete r.host,delete r.port;let{timeout:a}=r;if(r.timeout=void 0,this[be]=Object.create(null),this[Vi]=[],this.socket=null,this.connection=null,this.method=r.method||"GET",this.path=r.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,r.headers)for(let[c,d]of Object.entries(r.headers))this.setHeader(c,d);r.auth&&!("authorization"in this[be])&&(this[be].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[PC]=r,i===443?(this[py]=`https://${o}`,":authority"in this[be]||(this[be][":authority"]=o)):(this[py]=`https://${o}:${i}`,":authority"in this[be]||(this[be][":authority"]=`${o}:${i}`)),a&&this.setTimeout(a),n&&this.once("response",n),this[vf]=!1}get method(){return this[be][SC]}set method(t){t&&(this[be][SC]=t.toUpperCase())}get path(){return this[be][bC]}set path(t){t&&(this[be][bC]=t)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(t,r,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let s=()=>this._request.write(t,r,n);this._request?s():this[Vi].push(s)}_final(t){if(this.destroyed)return;this.flushHeaders();let r=()=>{if(this._mustNotHaveABody){t();return}this._request.end(t)};this._request?r():this[Vi].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(t,r){this.res&&this.res._dump(),this._request&&this._request.destroy(),r(t)}async flushHeaders(){if(this[vf]||this.destroyed)return;this[vf]=!0;let t=this.method===uY,r=n=>{if(this._request=n,this.destroyed){n.destroy();return}t||iY(n,this,["timeout","continue","close","error"]);let s=o=>(...a)=>{!this.writable&&!this.destroyed?o(...a):this.once("finish",()=>{o(...a)})};n.once("response",s((o,a,c)=>{let d=new nY(this.socket,n.readableHighWaterMark);this.res=d,d.req=this,d.statusCode=o[EC],d.headers=o,d.rawHeaders=c,d.once("end",()=>{this.aborted?(d.aborted=!0,d.emit("aborted")):(d.complete=!0,d.socket=null,d.connection=null)}),t?(d.upgrade=!0,this.emit("connect",d,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",u=>{!d._dumped&&!d.push(u)&&n.pause()}),n.once("end",()=>{d.push(null)}),this.emit("response",d)||d._dump())})),n.once("headers",s(o=>this.emit("information",{statusCode:o[EC]}))),n.once("trailers",s((o,a,c)=>{let{res:d}=this;d.trailers=o,d.rawTrailers=c}));let{socket:i}=n.session;this.socket=i,this.connection=i;for(let o of this[Vi])o();this.emit("socket",this.socket)};if(this[my])try{r(this[my].request(this[be]))}catch(n){this.emit("error",n)}else{this.reusedSocket=!0;try{r(await this.agent.request(this[py],this[PC],this[be]))}catch(n){this.emit("error",n)}}}getHeader(t){if(typeof t!="string")throw new fy("name","string",t);return this[be][t.toLowerCase()]}get headersSent(){return this[vf]}removeHeader(t){if(typeof t!="string")throw new fy("name","string",t);if(this.headersSent)throw new vC("remove");delete this[be][t.toLowerCase()]}setHeader(t,r){if(this.headersSent)throw new vC("set");if(typeof t!="string"||!fY.test(t)&&!oY(t))throw new cY("Header name",t);if(typeof r>"u")throw new dY(r,t);if(pY.test(r))throw new lY("header content",t);this[be][t.toLowerCase()]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(t,r){let n=()=>this._request.setTimeout(t,r);return this._request?n():this[Vi].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(t){}};IC.exports=hy});var RC=l((wse,AC)=>{"use strict";var mY=require("tls");AC.exports=(e={},t=mY.connect)=>new Promise((r,n)=>{let s=!1,i,o=async()=>{await c,i.off("timeout",a),i.off("error",n),e.resolveSocket?(r({alpnProtocol:i.alpnProtocol,socket:i,timeout:s}),s&&(await Promise.resolve(),i.emit("timeout"))):(i.destroy(),r({alpnProtocol:i.alpnProtocol,timeout:s}))},a=async()=>{s=!0,o()},c=(async()=>{try{i=await t(e,o),i.on("error",n),i.once("timeout",a)}catch(d){n(d)}})()})});var TC=l((vse,CC)=>{"use strict";var hY=require("net");CC.exports=e=>{let t=e.host,r=e.headers&&e.headers.host;return r&&(r.startsWith("[")?r.indexOf("]")===-1?t=r:t=r.slice(1,-1):t=r.split(":",1)[0]),hY.isIP(t)?"":t}});var OC=l((Ese,gy)=>{"use strict";var xC=require("http"),yy=require("https"),_Y=RC(),yY=oy(),gY=_y(),wY=TC(),vY=uy(),Ef=new yY({maxSize:100}),Wi=new Map,qC=(e,t,r)=>{t._httpMessage={shouldKeepAlive:!0};let n=()=>{e.emit("free",t,r)};t.on("free",n);let s=()=>{e.removeSocket(t,r)};t.on("close",s);let i=()=>{e.removeSocket(t,r),t.off("close",s),t.off("free",n),t.off("agentRemove",i)};t.on("agentRemove",i),e.emit("free",t,r)},EY=async e=>{let t=`${e.host}:${e.port}:${e.ALPNProtocols.sort()}`;if(!Ef.has(t)){if(Wi.has(t))return(await Wi.get(t)).alpnProtocol;let{path:r,agent:n}=e;e.path=e.socketPath;let s=_Y(e);Wi.set(t,s);try{let{socket:i,alpnProtocol:o}=await s;if(Ef.set(t,o),e.path=r,o==="h2")i.destroy();else{let{globalAgent:a}=yy,c=yy.Agent.prototype.createConnection;n?n.createConnection===c?qC(n,i,e):i.destroy():a.createConnection===c?qC(a,i,e):i.destroy()}return Wi.delete(t),o}catch(i){throw Wi.delete(t),i}}return Ef.get(t)};gy.exports=async(e,t,r)=>{if((typeof e=="string"||e instanceof URL)&&(e=vY(new URL(e))),typeof t=="function"&&(r=t,t=void 0),t={ALPNProtocols:["h2","http/1.1"],...e,...t,resolveSocket:!0},!Array.isArray(t.ALPNProtocols)||t.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");t.protocol=t.protocol||"https:";let n=t.protocol==="https:";t.host=t.hostname||t.host||"localhost",t.session=t.tlsSession,t.servername=t.servername||wY(t),t.port=t.port||(n?443:80),t._defaultAgent=n?yy.globalAgent:xC.globalAgent;let s=t.agent;if(s){if(s.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");t.agent=s[n?"https":"http"]}return n&&await EY(t)==="h2"?(s&&(t.agent=s.http2),new gY(t,r)):xC.request(t,r)};gy.exports.protocolCache=Ef});var MC=l((Sse,NC)=>{"use strict";var SY=require("http2"),bY=cy(),wy=_y(),PY=ly(),IY=OC(),AY=(e,t,r)=>new wy(e,t,r),RY=(e,t,r)=>{let n=new wy(e,t,r);return n.end(),n};NC.exports={...SY,ClientRequest:wy,IncomingMessage:PY,...bY,request:AY,get:RY,auto:IY}});var Ey=l(vy=>{"use strict";Object.defineProperty(vy,"__esModule",{value:!0});var kC=Gt();vy.default=e=>kC.default.nodeStream(e)&&kC.default.function_(e.getBoundary)});var FC=l(Sy=>{"use strict";Object.defineProperty(Sy,"__esModule",{value:!0});var DC=require("fs"),LC=require("util"),jC=Gt(),CY=Ey(),TY=LC.promisify(DC.stat);Sy.default=async(e,t)=>{if(t&&"content-length"in t)return Number(t["content-length"]);if(!e)return 0;if(jC.default.string(e))return Buffer.byteLength(e);if(jC.default.buffer(e))return e.length;if(CY.default(e))return LC.promisify(e.getLength.bind(e))();if(e instanceof DC.ReadStream){let{size:r}=await TY(e.path);return r===0?void 0:r}}});var Py=l(by=>{"use strict";Object.defineProperty(by,"__esModule",{value:!0});function xY(e,t,r){let n={};for(let s of r)n[s]=(...i)=>{t.emit(s,...i)},e.on(s,n[s]);return()=>{for(let s of r)e.off(s,n[s])}}by.default=xY});var zC=l(Iy=>{"use strict";Object.defineProperty(Iy,"__esModule",{value:!0});Iy.default=()=>{let e=[];return{once(t,r,n){t.once(r,n),e.push({origin:t,event:r,fn:n})},unhandleAll(){for(let t of e){let{origin:r,event:n,fn:s}=t;r.removeListener(n,s)}e.length=0}}}});var $C=l(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.TimeoutError=void 0;var qY=require("net"),OY=zC(),UC=Symbol("reentry"),NY=()=>{},Sf=class extends Error{constructor(t,r){super(`Timeout awaiting '${r}' for ${t}ms`),this.event=r,this.name="TimeoutError",this.code="ETIMEDOUT"}};Ki.TimeoutError=Sf;Ki.default=(e,t,r)=>{if(UC in e)return NY;e[UC]=!0;let n=[],{once:s,unhandleAll:i}=OY.default(),o=(p,f,h)=>{var _;let y=setTimeout(f,p,p,h);(_=y.unref)===null||_===void 0||_.call(y);let g=()=>{clearTimeout(y)};return n.push(g),g},{host:a,hostname:c}=r,d=(p,f)=>{e.destroy(new Sf(p,f))},u=()=>{for(let p of n)p();i()};if(e.once("error",p=>{if(u(),e.listenerCount("error")===0)throw p}),e.once("close",u),s(e,"response",p=>{s(p,"end",u)}),typeof t.request<"u"&&o(t.request,d,"request"),typeof t.socket<"u"){let p=()=>{d(t.socket,"socket")};e.setTimeout(t.socket,p),n.push(()=>{e.removeListener("timeout",p)})}return s(e,"socket",p=>{var f;let{socketPath:h}=e;if(p.connecting){let _=Boolean(h??qY.isIP((f=c??a)!==null&&f!==void 0?f:"")!==0);if(typeof t.lookup<"u"&&!_&&typeof p.address().address>"u"){let y=o(t.lookup,d,"lookup");s(p,"lookup",y)}if(typeof t.connect<"u"){let y=()=>o(t.connect,d,"connect");_?s(p,"connect",y()):s(p,"lookup",g=>{g===null&&s(p,"connect",y())})}typeof t.secureConnect<"u"&&r.protocol==="https:"&&s(p,"connect",()=>{let y=o(t.secureConnect,d,"secureConnect");s(p,"secureConnect",y)})}if(typeof t.send<"u"){let _=()=>o(t.send,d,"send");p.connecting?s(p,"connect",()=>{s(e,"upload-complete",_())}):s(e,"upload-complete",_())}}),typeof t.response<"u"&&s(e,"upload-complete",()=>{let p=o(t.response,d,"response");s(e,"response",p)}),u}});var GC=l(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});var HC=Gt();Ay.default=e=>{e=e;let t={protocol:e.protocol,hostname:HC.default.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return HC.default.string(e.port)&&e.port.length>0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}});var BC=l(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0});var MY=require("url"),kY=["protocol","host","hostname","port","pathname","search"];Ry.default=(e,t)=>{var r,n;if(t.path){if(t.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(t.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(t.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(t.search&&t.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!e){if(!t.protocol)throw new TypeError("No URL protocol specified");e=`${t.protocol}//${(n=(r=t.hostname)!==null&&r!==void 0?r:t.host)!==null&&n!==void 0?n:""}`}let s=new MY.URL(e);if(t.path){let i=t.path.indexOf("?");i===-1?t.pathname=t.path:(t.pathname=t.path.slice(0,i),t.search=t.path.slice(i+1)),delete t.path}for(let i of kY)t[i]&&(s[i]=t[i].toString());return s}});var VC=l(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});var Cy=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(t,r){typeof t=="object"?this.weakMap.set(t,r):this.map.set(t,r)}get(t){return typeof t=="object"?this.weakMap.get(t):this.map.get(t)}has(t){return typeof t=="object"?this.weakMap.has(t):this.map.has(t)}};Ty.default=Cy});var qy=l(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});var jY=async e=>{let t=[],r=0;for await(let n of e)t.push(n),r+=Buffer.byteLength(n);return Buffer.isBuffer(t[0])?Buffer.concat(t,r):Buffer.from(t.join(""))};xy.default=jY});var KC=l(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.dnsLookupIpVersionToFamily=Ur.isDnsLookupIpVersion=void 0;var WC={auto:0,ipv4:4,ipv6:6};Ur.isDnsLookupIpVersion=e=>e in WC;Ur.dnsLookupIpVersionToFamily=e=>{if(Ur.isDnsLookupIpVersion(e))return WC[e];throw new Error("Invalid DNS lookup IP version")}});var Oy=l(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.isResponseOk=void 0;bf.isResponseOk=e=>{let{statusCode:t}=e,r=e.request.options.followRedirect?299:399;return t>=200&&t<=r||t===304}});var YC=l(Ny=>{"use strict";Object.defineProperty(Ny,"__esModule",{value:!0});var JC=new Set;Ny.default=e=>{JC.has(e)||(JC.add(e),process.emitWarning(`Got: ${e}`,{type:"DeprecationWarning"}))}});var XC=l(My=>{"use strict";Object.defineProperty(My,"__esModule",{value:!0});var W=Gt(),DY=(e,t)=>{if(W.default.null_(e.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");W.assert.any([W.default.string,W.default.undefined],e.encoding),W.assert.any([W.default.boolean,W.default.undefined],e.resolveBodyOnly),W.assert.any([W.default.boolean,W.default.undefined],e.methodRewriting),W.assert.any([W.default.boolean,W.default.undefined],e.isStream),W.assert.any([W.default.string,W.default.undefined],e.responseType),e.responseType===void 0&&(e.responseType="text");let{retry:r}=e;if(t?e.retry={...t.retry}:e.retry={calculateDelay:n=>n.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},W.default.object(r)?(e.retry={...e.retry,...r},e.retry.methods=[...new Set(e.retry.methods.map(n=>n.toUpperCase()))],e.retry.statusCodes=[...new Set(e.retry.statusCodes)],e.retry.errorCodes=[...new Set(e.retry.errorCodes)]):W.default.number(r)&&(e.retry.limit=r),W.default.undefined(e.retry.maxRetryAfter)&&(e.retry.maxRetryAfter=Math.min(...[e.timeout.request,e.timeout.connect].filter(W.default.number))),W.default.object(e.pagination)){t&&(e.pagination={...t.pagination,...e.pagination});let{pagination:n}=e;if(!W.default.function_(n.transform))throw new Error("`options.pagination.transform` must be implemented");if(!W.default.function_(n.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!W.default.function_(n.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!W.default.function_(n.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return e.responseType==="json"&&e.headers.accept===void 0&&(e.headers.accept="application/json"),e};My.default=DY});var QC=l(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.retryAfterStatusCodes=void 0;Ji.retryAfterStatusCodes=new Set([413,429,503]);var LY=({attemptCount:e,retryOptions:t,error:r,retryAfter:n})=>{if(e>t.limit)return 0;let s=t.methods.includes(r.options.method),i=t.errorCodes.includes(r.code),o=r.response&&t.statusCodes.includes(r.response.statusCode);if(!s||!i&&!o)return 0;if(r.response){if(n)return t.maxRetryAfter===void 0||n>t.maxRetryAfter?0:n;if(r.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(e-1)*1e3+a};Ji.default=LY});var Qi=l(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.UnsupportedProtocolError=L.ReadError=L.TimeoutError=L.UploadError=L.CacheError=L.HTTPError=L.MaxRedirectsError=L.RequestError=L.setNonEnumerableProperties=L.knownHookEvents=L.withoutBody=L.kIsNormalizedAlready=void 0;var ZC=require("util"),eT=require("stream"),FY=require("fs"),hr=require("url"),tT=require("http"),ky=require("http"),zY=require("https"),UY=m1(),$Y=E1(),rT=tC(),HY=iC(),GY=MC(),BY=gf(),w=Gt(),VY=FC(),nT=Ey(),WY=Py(),sT=$C(),KY=GC(),iT=BC(),JY=VC(),YY=qy(),oT=KC(),XY=Oy(),_r=YC(),QY=XC(),ZY=QC(),jy,ve=Symbol("request"),Af=Symbol("response"),On=Symbol("responseSize"),Nn=Symbol("downloadedSize"),Mn=Symbol("bodySize"),kn=Symbol("uploadedSize"),Pf=Symbol("serverResponsesPiped"),aT=Symbol("unproxyEvents"),cT=Symbol("isFromCache"),Dy=Symbol("cancelTimeouts"),dT=Symbol("startedReading"),jn=Symbol("stopReading"),If=Symbol("triggerRead"),yr=Symbol("body"),Yi=Symbol("jobs"),lT=Symbol("originalResponse"),uT=Symbol("retryTimeout");L.kIsNormalizedAlready=Symbol("isNormalizedAlready");var e9=w.default.string(process.versions.brotli);L.withoutBody=new Set(["GET","HEAD"]);L.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function t9(e){for(let t in e){let r=e[t];if(!w.default.string(r)&&!w.default.number(r)&&!w.default.boolean(r)&&!w.default.null_(r)&&!w.default.undefined(r))throw new TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}function r9(e){return w.default.object(e)&&!("statusCode"in e)}var Ly=new JY.default,n9=async e=>new Promise((t,r)=>{let n=s=>{r(s)};e.pending||t(),e.once("error",n),e.once("ready",()=>{e.off("error",n),t()})}),s9=new Set([300,301,302,303,304,307,308]),i9=["context","body","json","form"];L.setNonEnumerableProperties=(e,t)=>{let r={};for(let n of e)if(!!n)for(let s of i9)s in n&&(r[s]={writable:!0,configurable:!0,enumerable:!1,value:n[s]});Object.defineProperties(t,r)};var ce=class extends Error{constructor(t,r,n){var s,i;if(super(t),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(s=r.code)!==null&&s!==void 0?s:"ERR_GOT_REQUEST_ERROR",n instanceof Nf?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n[Af]}),Object.defineProperty(this,"options",{enumerable:!1,value:n.options})):Object.defineProperty(this,"options",{enumerable:!1,value:n}),this.timings=(i=this.request)===null||i===void 0?void 0:i.timings,w.default.string(r.stack)&&w.default.string(this.stack)){let o=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(o).split(`
`).reverse(),c=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;c.length!==0&&c[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,o)}${a.reverse().join(`
`)}${c.reverse().join(`
`)}`}}};L.RequestError=ce;var Rf=class extends ce{constructor(t){super(`Redirected ${t.options.maxRedirects} times. Aborting.`,{},t),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};L.MaxRedirectsError=Rf;var Cf=class extends ce{constructor(t){super(`Response code ${t.statusCode} (${t.statusMessage})`,{},t.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};L.HTTPError=Cf;var Tf=class extends ce{constructor(t,r){super(t.message,t,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};L.CacheError=Tf;var xf=class extends ce{constructor(t,r){super(t.message,t,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};L.UploadError=xf;var qf=class extends ce{constructor(t,r,n){super(t.message,t,n),this.name="TimeoutError",this.event=t.event,this.timings=r}};L.TimeoutError=qf;var Xi=class extends ce{constructor(t,r){super(t.message,t,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};L.ReadError=Xi;var Of=class extends ce{constructor(t){super(`Unsupported protocol "${t.url.protocol}"`,{},t),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};L.UnsupportedProtocolError=Of;var o9=["socket","connect","continue","information","upgrade","timeout"],Nf=class extends eT.Duplex{constructor(t,r={},n){super({autoDestroy:!1,highWaterMark:0}),this[Nn]=0,this[kn]=0,this.requestInitialized=!1,this[Pf]=new Set,this.redirects=[],this[jn]=!1,this[If]=!1,this[Yi]=[],this.retryCount=0,this._progressCallbacks=[];let s=()=>this._unlockWrite(),i=()=>this._lockWrite();this.on("pipe",d=>{d.prependListener("data",s),d.on("data",i),d.prependListener("end",s),d.on("end",i)}),this.on("unpipe",d=>{d.off("data",s),d.off("data",i),d.off("end",s),d.off("end",i)}),this.on("pipe",d=>{d instanceof ky.IncomingMessage&&(this.options.headers={...d.headers,...this.options.headers})});let{json:o,body:a,form:c}=r;if((o||a||c)&&this._lockWrite(),L.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(t,r,n)}catch(d){w.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(d);return}(async()=>{var d;try{this.options.body instanceof FY.ReadStream&&await n9(this.options.body);let{url:u}=this.options;if(!u)throw new TypeError("Missing `url` property");if(this.requestUrl=u.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(d=this[ve])===null||d===void 0||d.destroy();return}for(let p of this[Yi])p();this[Yi].length=0,this.requestInitialized=!0}catch(u){if(u instanceof ce){this._beforeError(u);return}this.destroyed||this.destroy(u)}})()}static normalizeArguments(t,r,n){var s,i,o,a,c;let d=r;if(w.default.object(t)&&!w.default.urlInstance(t))r={...n,...t,...r};else{if(t&&r&&r.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");r={...n,...r},t!==void 0&&(r.url=t),w.default.urlInstance(r.url)&&(r.url=new hr.URL(r.url.toString()))}if(r.cache===!1&&(r.cache=void 0),r.dnsCache===!1&&(r.dnsCache=void 0),w.assert.any([w.default.string,w.default.undefined],r.method),w.assert.any([w.default.object,w.default.undefined],r.headers),w.assert.any([w.default.string,w.default.urlInstance,w.default.undefined],r.prefixUrl),w.assert.any([w.default.object,w.default.undefined],r.cookieJar),w.assert.any([w.default.object,w.default.string,w.default.undefined],r.searchParams),w.assert.any([w.default.object,w.default.string,w.default.undefined],r.cache),w.assert.any([w.default.object,w.default.number,w.default.undefined],r.timeout),w.assert.any([w.default.object,w.default.undefined],r.context),w.assert.any([w.default.object,w.default.undefined],r.hooks),w.assert.any([w.default.boolean,w.default.undefined],r.decompress),w.assert.any([w.default.boolean,w.default.undefined],r.ignoreInvalidCookies),w.assert.any([w.default.boolean,w.default.undefined],r.followRedirect),w.assert.any([w.default.number,w.default.undefined],r.maxRedirects),w.assert.any([w.default.boolean,w.default.undefined],r.throwHttpErrors),w.assert.any([w.default.boolean,w.default.undefined],r.http2),w.assert.any([w.default.boolean,w.default.undefined],r.allowGetBody),w.assert.any([w.default.string,w.default.undefined],r.localAddress),w.assert.any([oT.isDnsLookupIpVersion,w.default.undefined],r.dnsLookupIpVersion),w.assert.any([w.default.object,w.default.undefined],r.https),w.assert.any([w.default.boolean,w.default.undefined],r.rejectUnauthorized),r.https&&(w.assert.any([w.default.boolean,w.default.undefined],r.https.rejectUnauthorized),w.assert.any([w.default.function_,w.default.undefined],r.https.checkServerIdentity),w.assert.any([w.default.string,w.default.object,w.default.array,w.default.undefined],r.https.certificateAuthority),w.assert.any([w.default.string,w.default.object,w.default.array,w.default.undefined],r.https.key),w.assert.any([w.default.string,w.default.object,w.default.array,w.default.undefined],r.https.certificate),w.assert.any([w.default.string,w.default.undefined],r.https.passphrase),w.assert.any([w.default.string,w.default.buffer,w.default.array,w.default.undefined],r.https.pfx)),w.assert.any([w.default.object,w.default.undefined],r.cacheOptions),w.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===n?.headers?r.headers={...r.headers}:r.headers=BY({...n?.headers,...r.headers}),"slashes"in r)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==n?.searchParams){let h;if(w.default.string(r.searchParams)||r.searchParams instanceof hr.URLSearchParams)h=new hr.URLSearchParams(r.searchParams);else{t9(r.searchParams),h=new hr.URLSearchParams;for(let _ in r.searchParams){let y=r.searchParams[_];y===null?h.append(_,""):y!==void 0&&h.append(_,y)}}(s=n?.searchParams)===null||s===void 0||s.forEach((_,y)=>{h.has(y)||h.append(y,_)}),r.searchParams=h}if(r.username=(i=r.username)!==null&&i!==void 0?i:"",r.password=(o=r.password)!==null&&o!==void 0?o:"",w.default.undefined(r.prefixUrl)?r.prefixUrl=(a=n?.prefixUrl)!==null&&a!==void 0?a:"":(r.prefixUrl=r.prefixUrl.toString(),r.prefixUrl!==""&&!r.prefixUrl.endsWith("/")&&(r.prefixUrl+="/")),w.default.string(r.url)){if(r.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");r.url=iT.default(r.prefixUrl+r.url,r)}else(w.default.undefined(r.url)&&r.prefixUrl!==""||r.protocol)&&(r.url=iT.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:h}=r;Object.defineProperty(r,"prefixUrl",{set:y=>{let g=r.url;if(!g.href.startsWith(y))throw new Error(`Cannot change \`prefixUrl\` from ${h} to ${y}: ${g.href}`);r.url=new hr.URL(y+g.href.slice(h.length)),h=y},get:()=>h});let{protocol:_}=r.url;if(_==="unix:"&&(_="http:",r.url=new hr.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),_!=="http:"&&_!=="https:")throw new Of(r);r.username===""?r.username=r.url.username:r.url.username=r.username,r.password===""?r.password=r.url.password:r.url.password=r.password}let{cookieJar:u}=r;if(u){let{setCookie:h,getCookieString:_}=u;w.assert.function_(h),w.assert.function_(_),h.length===4&&_.length===0&&(h=ZC.promisify(h.bind(r.cookieJar)),_=ZC.promisify(_.bind(r.cookieJar)),r.cookieJar={setCookie:h,getCookieString:_})}let{cache:p}=r;if(p&&(Ly.has(p)||Ly.set(p,new rT((h,_)=>{let y=h[ve](h,_);return w.default.promise(y)&&(y.once=(g,b)=>{if(g==="error")y.catch(b);else if(g==="abort")(async()=>{try{(await y).once("abort",b)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${g}`);return y}),y},p))),r.cacheOptions={...r.cacheOptions},r.dnsCache===!0)jy||(jy=new $Y.default),r.dnsCache=jy;else if(!w.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${w.default(r.dnsCache)}`);w.default.number(r.timeout)?r.timeout={request:r.timeout}:n&&r.timeout!==n.timeout?r.timeout={...n.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let f=r.hooks===n?.hooks;r.hooks={...r.hooks};for(let h of L.knownHookEvents)if(h in r.hooks)if(w.default.array(r.hooks[h]))r.hooks[h]=[...r.hooks[h]];else throw new TypeError(`Parameter \`${h}\` must be an Array, got ${w.default(r.hooks[h])}`);else r.hooks[h]=[];if(n&&!f)for(let h of L.knownHookEvents)n.hooks[h].length>0&&(r.hooks[h]=[...n.hooks[h],...r.hooks[h]]);if("family"in r&&_r.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),n?.https&&(r.https={...n.https,...r.https}),"rejectUnauthorized"in r&&_r.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&_r.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&_r.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&_r.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&_r.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&_r.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&_r.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent){for(let h in r.agent)if(h!=="http"&&h!=="https"&&h!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${h}\``)}return r.maxRedirects=(c=r.maxRedirects)!==null&&c!==void 0?c:0,L.setNonEnumerableProperties([n,d],r),QY.default(r,n)}_lockWrite(){let t=()=>{throw new TypeError("The payload has been already provided")};this.write=t,this.end=t}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:t}=this,{headers:r}=t,n=!w.default.undefined(t.form),s=!w.default.undefined(t.json),i=!w.default.undefined(t.body),o=n||s||i,a=L.withoutBody.has(t.method)&&!(t.method==="GET"&&t.allowGetBody);if(this._cannotHaveBody=a,o){if(a)throw new TypeError(`The \`${t.method}\` method cannot be used with a body`);if([i,n,s].filter(c=>c).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(i&&!(t.body instanceof eT.Readable)&&!w.default.string(t.body)&&!w.default.buffer(t.body)&&!nT.default(t.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(n&&!w.default.object(t.form))throw new TypeError("The `form` option must be an Object");{let c=!w.default.string(r["content-type"]);i?(nT.default(t.body)&&c&&(r["content-type"]=`multipart/form-data; boundary=${t.body.getBoundary()}`),this[yr]=t.body):n?(c&&(r["content-type"]="application/x-www-form-urlencoded"),this[yr]=new hr.URLSearchParams(t.form).toString()):(c&&(r["content-type"]="application/json"),this[yr]=t.stringifyJson(t.json));let d=await VY.default(this[yr],t.headers);w.default.undefined(r["content-length"])&&w.default.undefined(r["transfer-encoding"])&&!a&&!w.default.undefined(d)&&(r["content-length"]=String(d))}}else a?this._lockWrite():this._unlockWrite();this[Mn]=Number(r["content-length"])||void 0}async _onResponseBase(t){let{options:r}=this,{url:n}=r;this[lT]=t,r.decompress&&(t=HY(t));let s=t.statusCode,i=t;i.statusMessage=i.statusMessage?i.statusMessage:tT.STATUS_CODES[s],i.url=r.url.toString(),i.requestUrl=this.requestUrl,i.redirectUrls=this.redirects,i.request=this,i.isFromCache=t.fromCache||!1,i.ip=this.ip,i.retryCount=this.retryCount,this[cT]=i.isFromCache,this[On]=Number(t.headers["content-length"])||void 0,this[Af]=t,t.once("end",()=>{this[On]=this[Nn],this.emit("downloadProgress",this.downloadProgress)}),t.once("error",a=>{t.destroy(),this._beforeError(new Xi(a,this))}),t.once("aborted",()=>{this._beforeError(new Xi({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=t.headers["set-cookie"];if(w.default.object(r.cookieJar)&&o){let a=o.map(async c=>r.cookieJar.setCookie(c,n.toString()));r.ignoreInvalidCookies&&(a=a.map(async c=>c.catch(()=>{})));try{await Promise.all(a)}catch(c){this._beforeError(c);return}}if(r.followRedirect&&t.headers.location&&s9.has(s)){if(t.resume(),this[ve]&&(this[Dy](),delete this[ve],this[aT]()),(s===303&&r.method!=="GET"&&r.method!=="HEAD"||!r.methodRewriting)&&(r.method="GET","body"in r&&delete r.body,"json"in r&&delete r.json,"form"in r&&delete r.form,this[yr]=void 0,delete r.headers["content-length"]),this.redirects.length>=r.maxRedirects){this._beforeError(new Rf(this));return}try{let p=function(f){return f.protocol==="unix:"||f.hostname==="unix"},c=Buffer.from(t.headers.location,"binary").toString(),d=new hr.URL(c,n),u=d.toString();if(decodeURI(u),!p(n)&&p(d)){this._beforeError(new ce("Cannot redirect to UNIX socket",{},this));return}d.hostname!==n.hostname||d.port!==n.port?("host"in r.headers&&delete r.headers.host,"cookie"in r.headers&&delete r.headers.cookie,"authorization"in r.headers&&delete r.headers.authorization,(r.username||r.password)&&(r.username="",r.password="")):(d.username=r.username,d.password=r.password),this.redirects.push(u),r.url=d;for(let f of r.hooks.beforeRedirect)await f(r,i);this.emit("redirect",i,r),await this._makeRequest()}catch(c){this._beforeError(c);return}return}if(r.isStream&&r.throwHttpErrors&&!XY.isResponseOk(i)){this._beforeError(new Cf(i));return}t.on("readable",()=>{this[If]&&this._read()}),this.on("resume",()=>{t.resume()}),this.on("pause",()=>{t.pause()}),t.once("end",()=>{this.push(null)}),this.emit("response",t);for(let a of this[Pf])if(!a.headersSent){for(let c in t.headers){let d=r.decompress?c!=="content-encoding":!0,u=t.headers[c];d&&a.setHeader(c,u)}a.statusCode=s}}async _onResponse(t){try{await this._onResponseBase(t)}catch(r){this._beforeError(r)}}_onRequest(t){let{options:r}=this,{timeout:n,url:s}=r;UY.default(t),this[Dy]=sT.default(t,n,s);let i=r.cache?"cacheableResponse":"response";t.once(i,c=>{this._onResponse(c)}),t.once("error",c=>{var d;t.destroy(),(d=t.res)===null||d===void 0||d.removeAllListeners("end"),c=c instanceof sT.TimeoutError?new qf(c,this.timings,this):new ce(c.message,c,this),this._beforeError(c)}),this[aT]=WY.default(t,this,o9),this[ve]=t,this.emit("uploadProgress",this.uploadProgress);let o=this[yr],a=this.redirects.length===0?this:t;w.default.nodeStream(o)?(o.pipe(a),o.once("error",c=>{this._beforeError(new xf(c,this))})):(this._unlockWrite(),w.default.undefined(o)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(o,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",t)}async _createCacheableRequest(t,r){return new Promise((n,s)=>{Object.assign(r,KY.default(t)),delete r.url;let i,o=Ly.get(r.cache)(r,async a=>{a._readableState.autoDestroy=!1,i&&(await i).emit("cacheableResponse",a),n(a)});r.url=t,o.once("error",s),o.once("request",async a=>{i=a,n(i)})})}async _makeRequest(){var t,r,n,s,i;let{options:o}=this,{headers:a}=o;for(let b in a)if(w.default.undefined(a[b]))delete a[b];else if(w.default.null_(a[b]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${b}\` header`);if(o.decompress&&w.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=e9?"gzip, deflate, br":"gzip, deflate"),o.cookieJar){let b=await o.cookieJar.getCookieString(o.url.toString());w.default.nonEmptyString(b)&&(o.headers.cookie=b)}for(let b of o.hooks.beforeRequest){let q=await b(o);if(!w.default.undefined(q)){o.request=()=>q;break}}o.body&&this[yr]!==o.body&&(this[yr]=o.body);let{agent:c,request:d,timeout:u,url:p}=o;if(o.dnsCache&&!("lookup"in o)&&(o.lookup=o.dnsCache.lookup),p.hostname==="unix"){let b=/(?<socketPath>.+?):(?<path>.+)/.exec(`${p.pathname}${p.search}`);if(b?.groups){let{socketPath:q,path:D}=b.groups;Object.assign(o,{socketPath:q,path:D,host:""})}}let f=p.protocol==="https:",h;o.http2?h=GY.auto:h=f?zY.request:tT.request;let _=(t=o.request)!==null&&t!==void 0?t:h,y=o.cache?this._createCacheableRequest:_;c&&!o.http2&&(o.agent=c[f?"https":"http"]),o[ve]=_,delete o.request,delete o.timeout;let g=o;if(g.shared=(r=o.cacheOptions)===null||r===void 0?void 0:r.shared,g.cacheHeuristic=(n=o.cacheOptions)===null||n===void 0?void 0:n.cacheHeuristic,g.immutableMinTimeToLive=(s=o.cacheOptions)===null||s===void 0?void 0:s.immutableMinTimeToLive,g.ignoreCargoCult=(i=o.cacheOptions)===null||i===void 0?void 0:i.ignoreCargoCult,o.dnsLookupIpVersion!==void 0)try{g.family=oT.dnsLookupIpVersionToFamily(o.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}o.https&&("rejectUnauthorized"in o.https&&(g.rejectUnauthorized=o.https.rejectUnauthorized),o.https.checkServerIdentity&&(g.checkServerIdentity=o.https.checkServerIdentity),o.https.certificateAuthority&&(g.ca=o.https.certificateAuthority),o.https.certificate&&(g.cert=o.https.certificate),o.https.key&&(g.key=o.https.key),o.https.passphrase&&(g.passphrase=o.https.passphrase),o.https.pfx&&(g.pfx=o.https.pfx));try{let b=await y(p,g);w.default.undefined(b)&&(b=h(p,g)),o.request=d,o.timeout=u,o.agent=c,o.https&&("rejectUnauthorized"in o.https&&delete g.rejectUnauthorized,o.https.checkServerIdentity&&delete g.checkServerIdentity,o.https.certificateAuthority&&delete g.ca,o.https.certificate&&delete g.cert,o.https.key&&delete g.key,o.https.passphrase&&delete g.passphrase,o.https.pfx&&delete g.pfx),r9(b)?this._onRequest(b):this.writable?(this.once("finish",()=>{this._onResponse(b)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(b)}catch(b){throw b instanceof rT.CacheError?new Tf(b,this):new ce(b.message,b,this)}}async _error(t){try{for(let r of this.options.hooks.beforeError)t=await r(t)}catch(r){t=new ce(r.message,r,this)}this.destroy(t)}_beforeError(t){if(this[jn])return;let{options:r}=this,n=this.retryCount+1;this[jn]=!0,t instanceof ce||(t=new ce(t.message,t,this));let s=t,{response:i}=s;(async()=>{if(i&&!i.body){i.setEncoding(this._readableState.encoding);try{i.rawBody=await YY.default(i),i.body=i.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let o;try{let a;i&&"retry-after"in i.headers&&(a=Number(i.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(i.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),o=await r.retry.calculateDelay({attemptCount:n,retryOptions:r.retry,error:s,retryAfter:a,computedValue:ZY.default({attemptCount:n,retryOptions:r.retry,error:s,retryAfter:a,computedValue:0})})}catch(a){this._error(new ce(a.message,a,this));return}if(o){let a=async()=>{try{for(let c of this.options.hooks.beforeRetry)await c(this.options,s,n)}catch(c){this._error(new ce(c.message,t,this));return}this.destroyed||(this.destroy(),this.emit("retry",n,t))};this[uT]=setTimeout(a,o);return}}this._error(s)})()}_read(){this[If]=!0;let t=this[Af];if(t&&!this[jn]){t.readableLength&&(this[If]=!1);let r;for(;(r=t.read())!==null;){this[Nn]+=r.length,this[dT]=!0;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(t,r,n){let s=()=>{this._writeRequest(t,r,n)};this.requestInitialized?s():this[Yi].push(s)}_writeRequest(t,r,n){this[ve].destroyed||(this._progressCallbacks.push(()=>{this[kn]+=Buffer.byteLength(t,r);let s=this.uploadProgress;s.percent<1&&this.emit("uploadProgress",s)}),this[ve].write(t,r,s=>{!s&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),n(s)}))}_final(t){let r=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(ve in this)){t();return}if(this[ve].destroyed){t();return}this[ve].end(n=>{n||(this[Mn]=this[kn],this.emit("uploadProgress",this.uploadProgress),this[ve].emit("upload-complete")),t(n)})};this.requestInitialized?r():this[Yi].push(r)}_destroy(t,r){var n;this[jn]=!0,clearTimeout(this[uT]),ve in this&&(this[Dy](),!((n=this[Af])===null||n===void 0)&&n.complete||this[ve].destroy()),t!==null&&!w.default.undefined(t)&&!(t instanceof ce)&&(t=new ce(t.message,t,this)),r(t)}get _isAboutToError(){return this[jn]}get ip(){var t;return(t=this.socket)===null||t===void 0?void 0:t.remoteAddress}get aborted(){var t,r,n;return((r=(t=this[ve])===null||t===void 0?void 0:t.destroyed)!==null&&r!==void 0?r:this.destroyed)&&!(!((n=this[lT])===null||n===void 0)&&n.complete)}get socket(){var t,r;return(r=(t=this[ve])===null||t===void 0?void 0:t.socket)!==null&&r!==void 0?r:void 0}get downloadProgress(){let t;return this[On]?t=this[Nn]/this[On]:this[On]===this[Nn]?t=1:t=0,{percent:t,transferred:this[Nn],total:this[On]}}get uploadProgress(){let t;return this[Mn]?t=this[kn]/this[Mn]:this[Mn]===this[kn]?t=1:t=0,{percent:t,transferred:this[kn],total:this[Mn]}}get timings(){var t;return(t=this[ve])===null||t===void 0?void 0:t.timings}get isFromCache(){return this[cT]}pipe(t,r){if(this[dT])throw new Error("Failed to pipe. The response has been emitted already.");return t instanceof ky.ServerResponse&&this[Pf].add(t),super.pipe(t,r)}unpipe(t){return t instanceof ky.ServerResponse&&this[Pf].delete(t),super.unpipe(t),this}};L.default=Nf});var Zi=l(at=>{"use strict";var a9=at&&at.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),c9=at&&at.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&a9(t,e,r)};Object.defineProperty(at,"__esModule",{value:!0});at.CancelError=at.ParseError=void 0;var fT=Qi(),Fy=class extends fT.RequestError{constructor(t,r){let{options:n}=r.request;super(`${t.message} in "${n.url.toString()}"`,t,r.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};at.ParseError=Fy;var zy=class extends fT.RequestError{constructor(t){super("Promise was canceled",{},t),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};at.CancelError=zy;c9(Qi(),at)});var mT=l(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0});var pT=Zi(),d9=(e,t,r,n)=>{let{rawBody:s}=e;try{if(t==="text")return s.toString(n);if(t==="json")return s.length===0?"":r(s.toString());if(t==="buffer")return s;throw new pT.ParseError({message:`Unknown body type '${t}'`,name:"Error"},e)}catch(i){throw new pT.ParseError(i,e)}};Uy.default=d9});var $y=l(gr=>{"use strict";var l9=gr&&gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),u9=gr&&gr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&l9(t,e,r)};Object.defineProperty(gr,"__esModule",{value:!0});var f9=require("events"),p9=Gt(),m9=f1(),Mf=Zi(),hT=mT(),_T=Qi(),h9=Py(),_9=qy(),yT=Oy(),y9=["request","response","redirect","uploadProgress","downloadProgress"];function gT(e){let t,r,n=new f9.EventEmitter,s=new m9((o,a,c)=>{let d=u=>{let p=new _T.default(void 0,e);p.retryCount=u,p._noPipe=!0,c(()=>p.destroy()),c.shouldReject=!1,c(()=>a(new Mf.CancelError(p))),t=p,p.once("response",async _=>{var y;if(_.retryCount=u,_.request.aborted)return;let g;try{g=await _9.default(p),_.rawBody=g}catch{return}if(p._isAboutToError)return;let b=((y=_.headers["content-encoding"])!==null&&y!==void 0?y:"").toLowerCase(),q=["gzip","deflate","br"].includes(b),{options:D}=p;if(q&&!D.decompress)_.body=g;else try{_.body=hT.default(_,D.responseType,D.parseJson,D.encoding)}catch(Me){if(_.body=g.toString(),yT.isResponseOk(_)){p._beforeError(Me);return}}try{for(let[Me,Vt]of D.hooks.afterResponse.entries())_=await Vt(_,async Lf=>{let Ln=_T.default.normalizeArguments(void 0,{...Lf,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},D);Ln.hooks.afterResponse=Ln.hooks.afterResponse.slice(0,Me);for(let LT of Ln.hooks.beforeRetry)await LT(Ln);let Ff=gT(Ln);return c(()=>{Ff.catch(()=>{}),Ff.cancel()}),Ff})}catch(Me){p._beforeError(new Mf.RequestError(Me.message,Me,p));return}if(r=_,!yT.isResponseOk(_)){p._beforeError(new Mf.HTTPError(_));return}o(p.options.resolveBodyOnly?_.body:_)});let f=_=>{if(s.isCanceled)return;let{options:y}=p;if(_ instanceof Mf.HTTPError&&!y.throwHttpErrors){let{response:g}=_;o(p.options.resolveBodyOnly?g.body:g);return}a(_)};p.once("error",f);let h=p.options.body;p.once("retry",(_,y)=>{var g,b;if(h===((g=y.request)===null||g===void 0?void 0:g.options.body)&&p9.default.nodeStream((b=y.request)===null||b===void 0?void 0:b.options.body)){f(y);return}d(_)}),h9.default(p,n,y9)};d(0)});s.on=(o,a)=>(n.on(o,a),s);let i=o=>{let a=(async()=>{await s;let{options:c}=r.request;return hT.default(r,o,c.parseJson,c.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)),a};return s.json=()=>{let{headers:o}=t.options;return!t.writableFinished&&o.accept===void 0&&(o.accept="application/json"),i("json")},s.buffer=()=>i("buffer"),s.text=()=>i("text"),s}gr.default=gT;u9(Zi(),gr)});var wT=l(Hy=>{"use strict";Object.defineProperty(Hy,"__esModule",{value:!0});var g9=Zi();function w9(e,...t){let r=(async()=>{if(e instanceof g9.RequestError)try{for(let s of t)if(s)for(let i of s)e=await i(e)}catch(s){e=s}throw e})(),n=()=>r;return r.json=n,r.text=n,r.buffer=n,r.on=n,r}Hy.default=w9});var ST=l(Gy=>{"use strict";Object.defineProperty(Gy,"__esModule",{value:!0});var vT=Gt();function ET(e){for(let t of Object.values(e))(vT.default.plainObject(t)||vT.default.array(t))&&ET(t);return Object.freeze(e)}Gy.default=ET});var PT=l(bT=>{"use strict";Object.defineProperty(bT,"__esModule",{value:!0})});var By=l(et=>{"use strict";var v9=et&&et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),E9=et&&et.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&v9(t,e,r)};Object.defineProperty(et,"__esModule",{value:!0});et.defaultHandler=void 0;var IT=Gt(),Ze=$y(),S9=wT(),jf=Qi(),b9=ST(),P9={RequestError:Ze.RequestError,CacheError:Ze.CacheError,ReadError:Ze.ReadError,HTTPError:Ze.HTTPError,MaxRedirectsError:Ze.MaxRedirectsError,TimeoutError:Ze.TimeoutError,ParseError:Ze.ParseError,CancelError:Ze.CancelError,UnsupportedProtocolError:Ze.UnsupportedProtocolError,UploadError:Ze.UploadError},I9=async e=>new Promise(t=>{setTimeout(t,e)}),{normalizeArguments:kf}=jf.default,AT=(...e)=>{let t;for(let r of e)t=kf(void 0,r,t);return t},A9=e=>e.isStream?new jf.default(void 0,e):Ze.default(e),R9=e=>"defaults"in e&&"options"in e.defaults,C9=["get","post","put","patch","head","delete"];et.defaultHandler=(e,t)=>t(e);var RT=(e,t)=>{if(e)for(let r of e)r(t)},CT=e=>{e._rawHandlers=e.handlers,e.handlers=e.handlers.map(n=>(s,i)=>{let o,a=n(s,c=>(o=i(c),o));if(a!==o&&!s.isStream&&o){let c=a,{then:d,catch:u,finally:p}=c;Object.setPrototypeOf(c,Object.getPrototypeOf(o)),Object.defineProperties(c,Object.getOwnPropertyDescriptors(o)),c.then=d,c.catch=u,c.finally=p}return a});let t=(n,s={},i)=>{var o,a;let c=0,d=u=>e.handlers[c++](u,c===e.handlers.length?A9:d);if(IT.default.plainObject(n)){let u={...n,...s};jf.setNonEnumerableProperties([n,s],u),s=u,n=void 0}try{let u;try{RT(e.options.hooks.init,s),RT((o=s.hooks)===null||o===void 0?void 0:o.init,s)}catch(f){u=f}let p=kf(n,s,i??e.options);if(p[jf.kIsNormalizedAlready]=!0,u)throw new Ze.RequestError(u.message,u,p);return d(p)}catch(u){if(s.isStream)throw u;return S9.default(u,e.options.hooks.beforeError,(a=s.hooks)===null||a===void 0?void 0:a.beforeError)}};t.extend=(...n)=>{let s=[e.options],i=[...e._rawHandlers],o;for(let a of n)R9(a)?(s.push(a.defaults.options),i.push(...a.defaults._rawHandlers),o=a.defaults.mutableDefaults):(s.push(a),"handlers"in a&&i.push(...a.handlers),o=a.mutableDefaults);return i=i.filter(a=>a!==et.defaultHandler),i.length===0&&i.push(et.defaultHandler),CT({options:AT(...s),handlers:i,mutableDefaults:Boolean(o)})};let r=async function*(n,s){let i=kf(n,s,e.options);i.resolveBodyOnly=!1;let o=i.pagination;if(!IT.default.object(o))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:c}=o,d=0;for(;d<o.requestLimit;){d!==0&&await I9(o.backoff);let u=await t(void 0,void 0,i),p=await o.transform(u),f=[];for(let _ of p)if(o.filter(_,a,f)&&(!o.shouldContinue(_,a,f)||(yield _,o.stackAllItems&&a.push(_),f.push(_),--c<=0)))return;let h=o.paginate(u,a,f);if(h===!1)return;h===u.request.options?i=u.request.options:h!==void 0&&(i=kf(void 0,h,i)),d++}};t.paginate=r,t.paginate.all=async(n,s)=>{let i=[];for await(let o of r(n,s))i.push(o);return i},t.paginate.each=r,t.stream=(n,s)=>t(n,{...s,isStream:!0});for(let n of C9)t[n]=(s,i)=>t(s,{...i,method:n}),t.stream[n]=(s,i)=>t(s,{...i,method:n,isStream:!0});return Object.assign(t,P9),Object.defineProperty(t,"defaults",{value:e.mutableDefaults?e:b9.default(e),writable:e.mutableDefaults,configurable:e.mutableDefaults,enumerable:!0}),t.mergeOptions=AT,t};et.default=CT;E9(PT(),et)});var qT=l((Bt,Df)=>{"use strict";var T9=Bt&&Bt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),TT=Bt&&Bt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&T9(t,e,r)};Object.defineProperty(Bt,"__esModule",{value:!0});var x9=require("url"),xT=By(),q9={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:e=>e.request.options.responseType==="json"?e.body:JSON.parse(e.body),paginate:e=>{if(!Reflect.has(e.headers,"link"))return!1;let t=e.headers.link.split(","),r;for(let n of t){let s=n.split(";");if(s[1].includes("next")){r=s[0].trimStart().trim(),r=r.slice(1,-1);break}}return r?{url:new x9.URL(r)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:e=>JSON.parse(e),stringifyJson:e=>JSON.stringify(e),cacheOptions:{}},handlers:[xT.defaultHandler],mutableDefaults:!1},Vy=xT.default(q9);Bt.default=Vy;Df.exports=Vy;Df.exports.default=Vy;Df.exports.__esModule=!0;TT(By(),Bt);TT($y(),Bt)});var Dn=Fn(sp());var OT=Fn(Cp()),NT=Fn(rv()),MT=require("node:url"),kT=Fn(a1()),jT=Fn(qT());function O9(e,t){return new OT.SignatureV4({service:"lambda",region:e,credentials:t,sha256:NT.Sha256})}async function N9(e,t){return await e.sign({method:"POST",hostname:t.host,path:t.pathname,protocol:t.protocol,headers:{"Content-Type":"application/json",host:t.hostname}})}async function DT(e,t=(0,kT.fromEnv)(),r=process.env.AWS_REGION){if(!r)throw Error("AWS_REGION must be supplied");let n=O9(r,t),s=await N9(n,new MT.URL(e)),{method:i,...o}=s,a=(0,jT.default)(e,{...o,method:"POST",responseType:"json"}),c=a.json(),[d,u]=await Promise.all([a,c]);return{response:d,data:u}}async function M9(){let e=(0,Dn.getInput)("url",{required:!0,trimWhitespace:!0}),t=await DT(e);(0,Dn.debug)(`Got token with following permissions: ,
     ${JSON.stringify({permissions:t.data.permissions,repositories:t.data.repositories})}
    `),(0,Dn.setOutput)("access-token",t.data.token)}M9();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
