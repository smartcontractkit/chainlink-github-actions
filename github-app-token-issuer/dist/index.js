"use strict";var IM=Object.create;var Tv=Object.defineProperty;var bM=Object.getOwnPropertyDescriptor;var AM=Object.getOwnPropertyNames;var RM=Object.getPrototypeOf,CM=Object.prototype.hasOwnProperty;var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var TM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of AM(t))!CM.call(e,s)&&s!==r&&Tv(e,s,{get:()=>t[s],enumerable:!(n=bM(t,s))||n.enumerable});return e};var js=(e,t,r)=>(r=e!=null?IM(RM(e)):{},TM(t||!e||!e.__esModule?Tv(r,"default",{value:e,enumerable:!0}):r,e));var Ga=l(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.toCommandProperties=Dn.toCommandValue=void 0;function xM(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}Dn.toCommandValue=xM;function qM(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}Dn.toCommandProperties=qM});var Nv=l(Qe=>{"use strict";var OM=Qe&&Qe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NM=Qe&&Qe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MM=Qe&&Qe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&OM(t,e,r);return NM(t,e),t};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.issue=Qe.issueCommand=void 0;var kM=MM(require("os")),qv=Ga();function Ov(e,t,r){let n=new Bm(e,t,r);process.stdout.write(n.toString()+kM.EOL)}Qe.issueCommand=Ov;function DM(e,t=""){Ov(e,{},t)}Qe.issue=DM;var xv="::",Bm=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=xv+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let s=this.properties[n];s&&(r?r=!1:t+=",",t+=`${n}=${LM(s)}`)}}return t+=`${xv}${jM(this.message)}`,t}};function jM(e){return qv.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function LM(e){return qv.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var Wm=l(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.default=UM;var zM=FM(require("crypto"));function FM(e){return e&&e.__esModule?e:{default:e}}var Va=new Uint8Array(256),Ba=Va.length;function UM(){return Ba>Va.length-16&&(zM.default.randomFillSync(Va),Ba=0),Va.slice(Ba,Ba+=16)}});var Mv=l(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.default=void 0;var $M=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Wa.default=$M});var Ls=l(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.default=void 0;var HM=GM(Mv());function GM(e){return e&&e.__esModule?e:{default:e}}function BM(e){return typeof e=="string"&&HM.default.test(e)}var VM=BM;Ka.default=VM});var zs=l(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.default=void 0;var WM=KM(Ls());function KM(e){return e&&e.__esModule?e:{default:e}}var Ie=[];for(let e=0;e<256;++e)Ie.push((e+256).toString(16).substr(1));function JM(e,t=0){let r=(Ie[e[t+0]]+Ie[e[t+1]]+Ie[e[t+2]]+Ie[e[t+3]]+"-"+Ie[e[t+4]]+Ie[e[t+5]]+"-"+Ie[e[t+6]]+Ie[e[t+7]]+"-"+Ie[e[t+8]]+Ie[e[t+9]]+"-"+Ie[e[t+10]]+Ie[e[t+11]]+Ie[e[t+12]]+Ie[e[t+13]]+Ie[e[t+14]]+Ie[e[t+15]]).toLowerCase();if(!(0,WM.default)(r))throw TypeError("Stringified UUID is invalid");return r}var YM=JM;Ja.default=YM});var jv=l(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.default=void 0;var XM=Dv(Wm()),QM=Dv(zs());function Dv(e){return e&&e.__esModule?e:{default:e}}var kv,Km,Jm=0,Ym=0;function ZM(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let i=e.node||kv,o=e.clockseq!==void 0?e.clockseq:Km;if(i==null||o==null){let p=e.random||(e.rng||XM.default)();i==null&&(i=kv=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),o==null&&(o=Km=(p[6]<<8|p[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Ym+1,d=a-Jm+(c-Ym)/1e4;if(d<0&&e.clockseq===void 0&&(o=o+1&16383),(d<0||a>Jm)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Jm=a,Ym=c,Km=o,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;s[n++]=u>>>24&255,s[n++]=u>>>16&255,s[n++]=u>>>8&255,s[n++]=u&255;let f=a/4294967296*1e4&268435455;s[n++]=f>>>8&255,s[n++]=f&255,s[n++]=f>>>24&15|16,s[n++]=f>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(let p=0;p<6;++p)s[n+p]=i[p];return t||(0,QM.default)(s)}var ek=ZM;Ya.default=ek});var Xm=l(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.default=void 0;var tk=rk(Ls());function rk(e){return e&&e.__esModule?e:{default:e}}function nk(e){if(!(0,tk.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var sk=nk;Xa.default=sk});var Qm=l(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.default=ck;an.URL=an.DNS=void 0;var ik=Lv(zs()),ok=Lv(Xm());function Lv(e){return e&&e.__esModule?e:{default:e}}function ak(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var zv="6ba7b810-9dad-11d1-80b4-00c04fd430c8";an.DNS=zv;var Fv="6ba7b811-9dad-11d1-80b4-00c04fd430c8";an.URL=Fv;function ck(e,t,r){function n(s,i,o,a){if(typeof s=="string"&&(s=ak(s)),typeof i=="string"&&(i=(0,ok.default)(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(let d=0;d<16;++d)o[a+d]=c[d];return o}return(0,ik.default)(c)}try{n.name=e}catch{}return n.DNS=zv,n.URL=Fv,n}});var Uv=l(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.default=void 0;var dk=lk(require("crypto"));function lk(e){return e&&e.__esModule?e:{default:e}}function uk(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),dk.default.createHash("md5").update(e).digest()}var fk=uk;Qa.default=fk});var Hv=l(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.default=void 0;var pk=$v(Qm()),mk=$v(Uv());function $v(e){return e&&e.__esModule?e:{default:e}}var hk=(0,pk.default)("v3",48,mk.default),_k=hk;Za.default=_k});var Bv=l(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.default=void 0;var yk=Gv(Wm()),gk=Gv(zs());function Gv(e){return e&&e.__esModule?e:{default:e}}function wk(e,t,r){e=e||{};let n=e.random||(e.rng||yk.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return(0,gk.default)(n)}var vk=wk;ec.default=vk});var Vv=l(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.default=void 0;var Ek=Sk(require("crypto"));function Sk(e){return e&&e.__esModule?e:{default:e}}function Pk(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Ek.default.createHash("sha1").update(e).digest()}var Ik=Pk;tc.default=Ik});var Kv=l(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.default=void 0;var bk=Wv(Qm()),Ak=Wv(Vv());function Wv(e){return e&&e.__esModule?e:{default:e}}var Rk=(0,bk.default)("v5",80,Ak.default),Ck=Rk;rc.default=Ck});var Jv=l(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.default=void 0;var Tk="00000000-0000-0000-0000-000000000000";nc.default=Tk});var Yv=l(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.default=void 0;var xk=qk(Ls());function qk(e){return e&&e.__esModule?e:{default:e}}function Ok(e){if(!(0,xk.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Nk=Ok;sc.default=Nk});var ic=l(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});Object.defineProperty(vt,"v1",{enumerable:!0,get:function(){return Mk.default}});Object.defineProperty(vt,"v3",{enumerable:!0,get:function(){return kk.default}});Object.defineProperty(vt,"v4",{enumerable:!0,get:function(){return Dk.default}});Object.defineProperty(vt,"v5",{enumerable:!0,get:function(){return jk.default}});Object.defineProperty(vt,"NIL",{enumerable:!0,get:function(){return Lk.default}});Object.defineProperty(vt,"version",{enumerable:!0,get:function(){return zk.default}});Object.defineProperty(vt,"validate",{enumerable:!0,get:function(){return Fk.default}});Object.defineProperty(vt,"stringify",{enumerable:!0,get:function(){return Uk.default}});Object.defineProperty(vt,"parse",{enumerable:!0,get:function(){return $k.default}});var Mk=or(jv()),kk=or(Hv()),Dk=or(Bv()),jk=or(Kv()),Lk=or(Jv()),zk=or(Yv()),Fk=or(Ls()),Uk=or(zs()),$k=or(Xm());function or(e){return e&&e.__esModule?e:{default:e}}});var eE=l(Ze=>{"use strict";var Hk=Ze&&Ze.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Gk=Ze&&Ze.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Qv=Ze&&Ze.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Hk(t,e,r);return Gk(t,e),t};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.prepareKeyValueMessage=Ze.issueFileCommand=void 0;var Xv=Qv(require("fs")),Zm=Qv(require("os")),Bk=ic(),Zv=Ga();function Vk(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!Xv.existsSync(r))throw new Error(`Missing file at path: ${r}`);Xv.appendFileSync(r,`${Zv.toCommandValue(t)}${Zm.EOL}`,{encoding:"utf8"})}Ze.issueFileCommand=Vk;function Wk(e,t){let r=`ghadelimiter_${Bk.v4()}`,n=Zv.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${Zm.EOL}${n}${Zm.EOL}${r}`}Ze.prepareKeyValueMessage=Wk});var rE=l(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.checkBypass=jn.getProxyUrl=void 0;function Kk(e){let t=e.protocol==="https:";if(tE(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}jn.getProxyUrl=Kk;function tE(e){if(!e.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let n=[e.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let s of t.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(n.some(i=>i===s))return!0;return!1}jn.checkBypass=tE});var oE=l(Ln=>{"use strict";var sne=require("net"),Jk=require("tls"),eh=require("http"),nE=require("https"),Yk=require("events"),ine=require("assert"),Xk=require("util");Ln.httpOverHttp=Qk;Ln.httpsOverHttp=Zk;Ln.httpOverHttps=eD;Ln.httpsOverHttps=tD;function Qk(e){var t=new ar(e);return t.request=eh.request,t}function Zk(e){var t=new ar(e);return t.request=eh.request,t.createSocket=sE,t.defaultPort=443,t}function eD(e){var t=new ar(e);return t.request=nE.request,t}function tD(e){var t=new ar(e);return t.request=nE.request,t.createSocket=sE,t.defaultPort=443,t}function ar(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||eh.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,s,i,o){for(var a=iE(s,i,o),c=0,d=t.requests.length;c<d;++c){var u=t.requests[c];if(u.host===a.host&&u.port===a.port){t.requests.splice(c,1),u.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}Xk.inherits(ar,Yk.EventEmitter);ar.prototype.addRequest=function(t,r,n,s){var i=this,o=th({request:t},i.options,iE(r,n,s));if(i.sockets.length>=this.maxSockets){i.requests.push(o);return}i.createSocket(o,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),t.onSocket(a);function c(){i.emit("free",a,o)}function d(u){i.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};ar.prototype.createSocket=function(t,r){var n=this,s={};n.sockets.push(s);var i=th({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(i.localAddress=t.localAddress),i.proxyAuth&&(i.headers=i.headers||{},i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")),xr("making CONNECT request");var o=n.request(i);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",c),o.once("connect",d),o.once("error",u),o.end();function a(f){f.upgrade=!0}function c(f,p,m){process.nextTick(function(){d(f,p,m)})}function d(f,p,m){if(o.removeAllListeners(),p.removeAllListeners(),f.statusCode!==200){xr("tunneling socket could not be established, statusCode=%d",f.statusCode),p.destroy();var _=new Error("tunneling socket could not be established, statusCode="+f.statusCode);_.code="ECONNRESET",t.request.emit("error",_),n.removeSocket(s);return}if(m.length>0){xr("got illegal response body from proxy"),p.destroy();var _=new Error("got illegal response body from proxy");_.code="ECONNRESET",t.request.emit("error",_),n.removeSocket(s);return}return xr("tunneling connection has established"),n.sockets[n.sockets.indexOf(s)]=p,r(p)}function u(f){o.removeAllListeners(),xr(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var p=new Error("tunneling socket could not be established, cause="+f.message);p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(s)}};ar.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(s){n.request.onSocket(s)})}};function sE(e,t){var r=this;ar.prototype.createSocket.call(r,e,function(n){var s=e.request.getHeader("host"),i=th({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):e.host}),o=Jk.connect(0,i);r.sockets[r.sockets.indexOf(n)]=o,t(o)})}function iE(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function th(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var s=Object.keys(n),i=0,o=s.length;i<o;++i){var a=s[i];n[a]!==void 0&&(e[a]=n[a])}}return e}var xr;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?xr=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:xr=function(){};Ln.debug=xr});var cE=l((ane,aE)=>{aE.exports=oE()});var lE=l(W=>{"use strict";var rD=W&&W.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nD=W&&W.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lc=W&&W.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&rD(t,e,r);return nD(t,e),t},ve=W&&W.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(W,"__esModule",{value:!0});W.HttpClient=W.isHttps=W.HttpClientResponse=W.HttpClientError=W.getProxyUrl=W.MediaTypes=W.Headers=W.HttpCodes=void 0;var oc=lc(require("http")),rh=lc(require("https")),dE=lc(rE()),ac=lc(cE()),Et;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Et=W.HttpCodes||(W.HttpCodes={}));var Me;(function(e){e.Accept="accept",e.ContentType="content-type"})(Me=W.Headers||(W.Headers={}));var qr;(function(e){e.ApplicationJson="application/json"})(qr=W.MediaTypes||(W.MediaTypes={}));function sD(e){let t=dE.getProxyUrl(new URL(e));return t?t.href:""}W.getProxyUrl=sD;var iD=[Et.MovedPermanently,Et.ResourceMoved,Et.SeeOther,Et.TemporaryRedirect,Et.PermanentRedirect],oD=[Et.BadGateway,Et.ServiceUnavailable,Et.GatewayTimeout],aD=["OPTIONS","GET","DELETE","HEAD"],cD=10,dD=5,zn=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,zn.prototype)}};W.HttpClientError=zn;var dc=class{constructor(t){this.message=t}readBody(){return ve(this,void 0,void 0,function*(){return new Promise(t=>ve(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};W.HttpClientResponse=dc;function lD(e){return new URL(e).protocol==="https:"}W.isHttps=lD;var nh=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return ve(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return ve(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return ve(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return ve(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return ve(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return ve(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return ve(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,s){return ve(this,void 0,void 0,function*(){return this.request(t,r,n,s)})}getJson(t,r={}){return ve(this,void 0,void 0,function*(){r[Me.Accept]=this._getExistingOrDefaultHeader(r,Me.Accept,qr.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return ve(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Me.Accept]=this._getExistingOrDefaultHeader(n,Me.Accept,qr.ApplicationJson),n[Me.ContentType]=this._getExistingOrDefaultHeader(n,Me.ContentType,qr.ApplicationJson);let i=yield this.post(t,s,n);return this._processResponse(i,this.requestOptions)})}putJson(t,r,n={}){return ve(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Me.Accept]=this._getExistingOrDefaultHeader(n,Me.Accept,qr.ApplicationJson),n[Me.ContentType]=this._getExistingOrDefaultHeader(n,Me.ContentType,qr.ApplicationJson);let i=yield this.put(t,s,n);return this._processResponse(i,this.requestOptions)})}patchJson(t,r,n={}){return ve(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Me.Accept]=this._getExistingOrDefaultHeader(n,Me.Accept,qr.ApplicationJson),n[Me.ContentType]=this._getExistingOrDefaultHeader(n,Me.ContentType,qr.ApplicationJson);let i=yield this.patch(t,s,n);return this._processResponse(i,this.requestOptions)})}request(t,r,n,s){return ve(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let i=new URL(r),o=this._prepareRequest(t,i,s),a=this._allowRetries&&aD.includes(t)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(o,n),d&&d.message&&d.message.statusCode===Et.Unauthorized){let f;for(let p of this.handlers)if(p.canHandleAuthentication(d)){f=p;break}return f?f.handleAuthentication(this,o,n):d}let u=this._maxRedirects;for(;d.message.statusCode&&iD.includes(d.message.statusCode)&&this._allowRedirects&&u>0;){let f=d.message.headers.location;if(!f)break;let p=new URL(f);if(i.protocol==="https:"&&i.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),p.hostname!==i.hostname)for(let m in s)m.toLowerCase()==="authorization"&&delete s[m];o=this._prepareRequest(t,p,s),d=yield this.requestRaw(o,n),u--}if(!d.message.statusCode||!oD.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return ve(this,void 0,void 0,function*(){return new Promise((n,s)=>{function i(o,a){o?s(o):a?n(a):s(new Error("Unknown error"))}this.requestRawWithCallback(t,r,i)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let s=!1;function i(c,d){s||(s=!0,n(c,d))}let o=t.httpModule.request(t.options,c=>{let d=new dc(c);i(void 0,d)}),a;o.on("socket",c=>{a=c}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),i(new Error(`Request timeout: ${t.options.path}`))}),o.on("error",function(c){i(c)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let s={};s.parsedUrl=r;let i=s.parsedUrl.protocol==="https:";s.httpModule=i?rh:oc;let o=i?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):o,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=t,s.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(s.options);return s}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},cc(this.requestOptions.headers),cc(t||{})):cc(t||{})}_getExistingOrDefaultHeader(t,r,n){let s;return this.requestOptions&&this.requestOptions.headers&&(s=cc(this.requestOptions.headers)[r]),t[r]||s||n}_getAgent(t){let r,n=dE.getProxyUrl(t),s=n&&n.hostname;if(this._keepAlive&&s&&(r=this._proxyAgent),this._keepAlive&&!s&&(r=this._agent),r)return r;let i=t.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||oc.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";i?c=d?ac.httpsOverHttps:ac.httpsOverHttp:c=d?ac.httpOverHttps:ac.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=i?new rh.Agent(a):new oc.Agent(a),this._agent=r}return r||(r=i?rh.globalAgent:oc.globalAgent),i&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return ve(this,void 0,void 0,function*(){t=Math.min(cD,t);let r=dD*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return ve(this,void 0,void 0,function*(){return new Promise((n,s)=>ve(this,void 0,void 0,function*(){let i=t.message.statusCode||0,o={statusCode:i,result:null,headers:{}};i===Et.NotFound&&n(o);function a(u,f){if(typeof f=="string"){let p=new Date(f);if(!isNaN(p.valueOf()))return p}return f}let c,d;try{d=yield t.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),o.result=c),o.headers=t.message.headers}catch{}if(i>299){let u;c&&c.message?u=c.message:d&&d.length>0?u=d:u=`Failed request: (${i})`;let f=new zn(u,i);f.result=o.result,s(f)}else n(o)}))})}};W.HttpClient=nh;var cc=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var uE=l(Ct=>{"use strict";var ah=Ct&&Ct.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.PersonalAccessTokenCredentialHandler=Ct.BearerCredentialHandler=Ct.BasicCredentialHandler=void 0;var sh=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return ah(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Ct.BasicCredentialHandler=sh;var ih=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return ah(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Ct.BearerCredentialHandler=ih;var oh=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return ah(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Ct.PersonalAccessTokenCredentialHandler=oh});var mE=l(Fn=>{"use strict";var fE=Fn&&Fn.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.OidcClient=void 0;var uD=lE(),fD=uE(),pE=ch(),Or=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new uD.HttpClient("actions/oidc-client",[new fD.BearerCredentialHandler(Or.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return fE(this,void 0,void 0,function*(){let i=(r=(yield Or.createHttpClient().getJson(t).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!i)throw new Error("Response json body do not have ID Token field");return i})}static getIDToken(t){return fE(this,void 0,void 0,function*(){try{let r=Or.getIDTokenUrl();if(t){let s=encodeURIComponent(t);r=`${r}&audience=${s}`}pE.debug(`ID token url is ${r}`);let n=yield Or.getCall(r);return pE.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Fn.OidcClient=Or});var fh=l(Fe=>{"use strict";var dh=Fe&&Fe.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.summary=Fe.markdownSummary=Fe.SUMMARY_DOCS_URL=Fe.SUMMARY_ENV_VAR=void 0;var pD=require("os"),lh=require("fs"),{access:mD,appendFile:hD,writeFile:_D}=lh.promises;Fe.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";Fe.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var uh=class{constructor(){this._buffer=""}filePath(){return dh(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[Fe.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${Fe.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield mD(t,lh.constants.R_OK|lh.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let s=Object.entries(n).map(([i,o])=>` ${i}="${o}"`).join("");return r?`<${t}${s}>${r}</${t}>`:`<${t}${s}>`}write(t){return dh(this,void 0,void 0,function*(){let r=!!t?.overwrite,n=yield this.filePath();return yield(r?_D:hD)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return dh(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(pD.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),s=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(s).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",s=t.map(o=>this.wrap("li",o)).join(""),i=this.wrap(n,s);return this.addRaw(i).addEOL()}addTable(t){let r=t.map(s=>{let i=s.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:c,colspan:d,rowspan:u}=o,f=a?"th":"td",p=Object.assign(Object.assign({},d&&{colspan:d}),u&&{rowspan:u});return this.wrap(f,c,p)}).join("");return this.wrap("tr",i)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:s,height:i}=n||{},o=Object.assign(Object.assign({},s&&{width:s}),i&&{height:i}),a=this.wrap("img",null,Object.assign({src:t,alt:r},o));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,s=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",i=this.wrap(s,t);return this.addRaw(i).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),s=this.wrap("blockquote",t,n);return this.addRaw(s).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},hE=new uh;Fe.markdownSummary=hE;Fe.summary=hE});var _E=l(Ue=>{"use strict";var yD=Ue&&Ue.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gD=Ue&&Ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wD=Ue&&Ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&yD(t,e,r);return gD(t,e),t};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.toPlatformPath=Ue.toWin32Path=Ue.toPosixPath=void 0;var vD=wD(require("path"));function ED(e){return e.replace(/[\\]/g,"/")}Ue.toPosixPath=ED;function SD(e){return e.replace(/[/]/g,"\\")}Ue.toWin32Path=SD;function PD(e){return e.replace(/[/\\]/g,vD.sep)}Ue.toPlatformPath=PD});var ch=l(x=>{"use strict";var ID=x&&x.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bD=x&&x.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yE=x&&x.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&ID(t,e,r);return bD(t,e),t},gE=x&&x.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(x,"__esModule",{value:!0});x.getIDToken=x.getState=x.saveState=x.group=x.endGroup=x.startGroup=x.info=x.notice=x.warning=x.error=x.debug=x.isDebug=x.setFailed=x.setCommandEcho=x.setOutput=x.getBooleanInput=x.getMultilineInput=x.getInput=x.addPath=x.setSecret=x.exportVariable=x.ExitCode=void 0;var et=Nv(),cn=eE(),Un=Ga(),wE=yE(require("os")),AD=yE(require("path")),RD=mE(),vE;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(vE=x.ExitCode||(x.ExitCode={}));function CD(e,t){let r=Un.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return cn.issueFileCommand("ENV",cn.prepareKeyValueMessage(e,t));et.issueCommand("set-env",{name:e},r)}x.exportVariable=CD;function TD(e){et.issueCommand("add-mask",{},e)}x.setSecret=TD;function xD(e){process.env.GITHUB_PATH||""?cn.issueFileCommand("PATH",e):et.issueCommand("add-path",{},e),process.env.PATH=`${e}${AD.delimiter}${process.env.PATH}`}x.addPath=xD;function ph(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}x.getInput=ph;function qD(e,t){let r=ph(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}x.getMultilineInput=qD;function OD(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],s=ph(e,t);if(r.includes(s))return!0;if(n.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}x.getBooleanInput=OD;function ND(e,t){if(process.env.GITHUB_OUTPUT||"")return cn.issueFileCommand("OUTPUT",cn.prepareKeyValueMessage(e,t));process.stdout.write(wE.EOL),et.issueCommand("set-output",{name:e},Un.toCommandValue(t))}x.setOutput=ND;function MD(e){et.issue("echo",e?"on":"off")}x.setCommandEcho=MD;function kD(e){process.exitCode=vE.Failure,EE(e)}x.setFailed=kD;function DD(){return process.env.RUNNER_DEBUG==="1"}x.isDebug=DD;function jD(e){et.issueCommand("debug",{},e)}x.debug=jD;function EE(e,t={}){et.issueCommand("error",Un.toCommandProperties(t),e instanceof Error?e.toString():e)}x.error=EE;function LD(e,t={}){et.issueCommand("warning",Un.toCommandProperties(t),e instanceof Error?e.toString():e)}x.warning=LD;function zD(e,t={}){et.issueCommand("notice",Un.toCommandProperties(t),e instanceof Error?e.toString():e)}x.notice=zD;function FD(e){process.stdout.write(e+wE.EOL)}x.info=FD;function SE(e){et.issue("group",e)}x.startGroup=SE;function PE(){et.issue("endgroup")}x.endGroup=PE;function UD(e,t){return gE(this,void 0,void 0,function*(){SE(e);let r;try{r=yield t()}finally{PE()}return r})}x.group=UD;function $D(e,t){if(process.env.GITHUB_STATE||"")return cn.issueFileCommand("STATE",cn.prepareKeyValueMessage(e,t));et.issueCommand("save-state",{name:e},Un.toCommandValue(t))}x.saveState=$D;function HD(e){return process.env[`STATE_${e}`]||""}x.getState=HD;function GD(e){return gE(this,void 0,void 0,function*(){return yield RD.OidcClient.getIDToken(e)})}x.getIDToken=GD;var BD=fh();Object.defineProperty(x,"summary",{enumerable:!0,get:function(){return BD.summary}});var VD=fh();Object.defineProperty(x,"markdownSummary",{enumerable:!0,get:function(){return VD.markdownSummary}});var mh=_E();Object.defineProperty(x,"toPosixPath",{enumerable:!0,get:function(){return mh.toPosixPath}});Object.defineProperty(x,"toWin32Path",{enumerable:!0,get:function(){return mh.toWin32Path}});Object.defineProperty(x,"toPlatformPath",{enumerable:!0,get:function(){return mh.toPlatformPath}})});var A=l((mne,pc)=>{var IE,bE,AE,RE,CE,TE,xE,qE,OE,NE,ME,kE,DE,uc,hh,jE,LE,zE,$n,FE,UE,$E,HE,GE,BE,VE,WE,KE,fc;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof pc=="object"&&typeof pc.exports=="object"?e(r(t,r(pc.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])};IE=function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(n,s);function i(){this.constructor=n}n.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)},bE=Object.assign||function(n){for(var s,i=1,o=arguments.length;i<o;i++){s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},AE=function(n,s){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(n);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(n,o[a])&&(i[o[a]]=n[o[a]]);return i},RE=function(n,s,i,o){var a=arguments.length,c=a<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,s,i,o);else for(var u=n.length-1;u>=0;u--)(d=n[u])&&(c=(a<3?d(c):a>3?d(s,i,c):d(s,i))||c);return a>3&&c&&Object.defineProperty(s,i,c),c},CE=function(n,s){return function(i,o){s(i,o,n)}},TE=function(n,s,i,o,a,c){function d(he){if(he!==void 0&&typeof he!="function")throw new TypeError("Function expected");return he}for(var u=o.kind,f=u==="getter"?"get":u==="setter"?"set":"value",p=!s&&n?o.static?n:n.prototype:null,m=s||(p?Object.getOwnPropertyDescriptor(p,o.name):{}),_,g=!1,y=i.length-1;y>=0;y--){var P={};for(var N in o)P[N]=N==="access"?{}:o[N];for(var N in o.access)P.access[N]=o.access[N];P.addInitializer=function(he){if(g)throw new TypeError("Cannot add initializers after decoration has completed");c.push(d(he||null))};var M=(0,i[y])(u==="accessor"?{get:m.get,set:m.set}:m[f],P);if(u==="accessor"){if(M===void 0)continue;if(M===null||typeof M!="object")throw new TypeError("Object expected");(_=d(M.get))&&(m.get=_),(_=d(M.set))&&(m.set=_),(_=d(M.init))&&a.push(_)}else(_=d(M))&&(u==="field"?a.push(_):m[f]=_)}p&&Object.defineProperty(p,o.name,m),g=!0},xE=function(n,s,i){for(var o=arguments.length>2,a=0;a<s.length;a++)i=o?s[a].call(n,i):s[a].call(n);return o?i:void 0},qE=function(n){return typeof n=="symbol"?n:"".concat(n)},OE=function(n,s,i){return typeof s=="symbol"&&(s=s.description?"[".concat(s.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:i?"".concat(i," ",s):s})},NE=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},ME=function(n,s,i,o){function a(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function u(m){try{p(o.next(m))}catch(_){d(_)}}function f(m){try{p(o.throw(m))}catch(_){d(_)}}function p(m){m.done?c(m.value):a(m.value).then(u,f)}p((o=o.apply(n,s||[])).next())})},kE=function(n,s){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(p){return function(m){return f([p,m])}}function f(p){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(i=0)),i;)try{if(o=1,a&&(c=p[0]&2?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,a=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){i.label=p[1];break}if(p[0]===6&&i.label<c[1]){i.label=c[1],c=p;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(p);break}c[2]&&i.ops.pop(),i.trys.pop();continue}p=s.call(n,i)}catch(m){p=[6,m],a=0}finally{o=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},DE=function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&fc(s,n,i)},fc=Object.create?function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]},uc=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,i=s&&n[s],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},hh=function(n,s){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var o=i.call(n),a,c=[],d;try{for(;(s===void 0||s-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(u){d={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(d)throw d.error}}return c},jE=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(hh(arguments[s]));return n},LE=function(){for(var n=0,s=0,i=arguments.length;s<i;s++)n+=arguments[s].length;for(var o=Array(n),a=0,s=0;s<i;s++)for(var c=arguments[s],d=0,u=c.length;d<u;d++,a++)o[a]=c[d];return o},zE=function(n,s,i){if(i||arguments.length===2)for(var o=0,a=s.length,c;o<a;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return n.concat(c||Array.prototype.slice.call(s))},$n=function(n){return this instanceof $n?(this.v=n,this):new $n(n)},FE=function(n,s,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,s||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(g){o[g]&&(a[g]=function(y){return new Promise(function(P,N){c.push([g,y,P,N])>1||u(g,y)})})}function u(g,y){try{f(o[g](y))}catch(P){_(c[0][3],P)}}function f(g){g.value instanceof $n?Promise.resolve(g.value.v).then(p,m):_(c[0][2],g)}function p(g){u("next",g)}function m(g){u("throw",g)}function _(g,y){g(y),c.shift(),c.length&&u(c[0][0],c[0][1])}},UE=function(n){var s,i;return s={},o("next"),o("throw",function(a){throw a}),o("return"),s[Symbol.iterator]=function(){return this},s;function o(a,c){s[a]=n[a]?function(d){return(i=!i)?{value:$n(n[a](d)),done:!1}:c?c(d):d}:c}},$E=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],i;return s?s.call(n):(n=typeof uc=="function"?uc(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(c){i[c]=n[c]&&function(d){return new Promise(function(u,f){d=n[c](d),a(u,f,d.done,d.value)})}}function a(c,d,u,f){Promise.resolve(f).then(function(p){c({value:p,done:u})},d)}},HE=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n};var r=Object.create?function(n,s){Object.defineProperty(n,"default",{enumerable:!0,value:s})}:function(n,s){n.default=s};GE=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var i in n)i!=="default"&&Object.prototype.hasOwnProperty.call(n,i)&&fc(s,n,i);return r(s,n),s},BE=function(n){return n&&n.__esModule?n:{default:n}},VE=function(n,s,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?n!==s||!o:!s.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(n):o?o.value:s.get(n)},WE=function(n,s,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?n!==s||!a:!s.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(n,i):a?a.value=i:s.set(n,i),i},KE=function(n,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?s===n:n.has(s)},e("__extends",IE),e("__assign",bE),e("__rest",AE),e("__decorate",RE),e("__param",CE),e("__esDecorate",TE),e("__runInitializers",xE),e("__propKey",qE),e("__setFunctionName",OE),e("__metadata",NE),e("__awaiter",ME),e("__generator",kE),e("__exportStar",DE),e("__createBinding",fc),e("__values",uc),e("__read",hh),e("__spread",jE),e("__spreadArrays",LE),e("__spreadArray",zE),e("__await",$n),e("__asyncGenerator",FE),e("__asyncDelegator",UE),e("__asyncValues",$E),e("__makeTemplateObject",HE),e("__importStar",GE),e("__importDefault",BE),e("__classPrivateFieldGet",VE),e("__classPrivateFieldSet",WE),e("__classPrivateFieldIn",KE)})});var mc=l(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.toHex=Hn.fromHex=void 0;var JE={},_h={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),JE[e]=t,_h[t]=e}function WD(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in _h)t[r/2]=_h[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}Hn.fromHex=WD;function KD(e){let t="";for(let r=0;r<e.byteLength;r++)t+=JE[e[r]];return t}Hn.toHex=KD});var YE=l(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.normalizeProvider=void 0;var JD=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};hc.normalizeProvider=JD});var dn=l(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var YD=A();YD.__exportStar(YE(),yh)});var gh=l(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.isArrayBuffer=void 0;var XD=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";_c.isArrayBuffer=XD});var Bn=l(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.fromString=Gn.fromArrayBuffer=void 0;var QD=gh(),wh=require("buffer"),ZD=(e,t=0,r=e.byteLength-t)=>{if(!(0,QD.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return wh.Buffer.from(e,t,r)};Gn.fromArrayBuffer=ZD;var ej=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?wh.Buffer.from(e,t):wh.Buffer.from(e)};Gn.fromString=ej});var vh=l(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.fromUtf8=void 0;var tj=Bn(),rj=e=>{let t=(0,tj.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};yc.fromUtf8=rj});var XE=l(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.toUint8Array=void 0;var nj=vh(),sj=e=>typeof e=="string"?(0,nj.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);gc.toUint8Array=sj});var QE=l(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.toUtf8=void 0;var ij=Bn(),oj=e=>(0,ij.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8");wc.toUtf8=oj});var cr=l(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var Eh=A();Eh.__exportStar(vh(),Fs);Eh.__exportStar(XE(),Fs);Eh.__exportStar(QE(),Fs)});var ln=l(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.MAX_PRESIGNED_TTL=T.KEY_TYPE_IDENTIFIER=T.MAX_CACHE_SIZE=T.UNSIGNED_PAYLOAD=T.EVENT_ALGORITHM_IDENTIFIER=T.ALGORITHM_IDENTIFIER_V4A=T.ALGORITHM_IDENTIFIER=T.UNSIGNABLE_PATTERNS=T.SEC_HEADER_PATTERN=T.PROXY_HEADER_PATTERN=T.ALWAYS_UNSIGNABLE_HEADERS=T.HOST_HEADER=T.TOKEN_HEADER=T.SHA256_HEADER=T.SIGNATURE_HEADER=T.GENERATED_HEADERS=T.DATE_HEADER=T.AMZ_DATE_HEADER=T.AUTH_HEADER=T.REGION_SET_PARAM=T.TOKEN_QUERY_PARAM=T.SIGNATURE_QUERY_PARAM=T.EXPIRES_QUERY_PARAM=T.SIGNED_HEADERS_QUERY_PARAM=T.AMZ_DATE_QUERY_PARAM=T.CREDENTIAL_QUERY_PARAM=T.ALGORITHM_QUERY_PARAM=void 0;T.ALGORITHM_QUERY_PARAM="X-Amz-Algorithm";T.CREDENTIAL_QUERY_PARAM="X-Amz-Credential";T.AMZ_DATE_QUERY_PARAM="X-Amz-Date";T.SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders";T.EXPIRES_QUERY_PARAM="X-Amz-Expires";T.SIGNATURE_QUERY_PARAM="X-Amz-Signature";T.TOKEN_QUERY_PARAM="X-Amz-Security-Token";T.REGION_SET_PARAM="X-Amz-Region-Set";T.AUTH_HEADER="authorization";T.AMZ_DATE_HEADER=T.AMZ_DATE_QUERY_PARAM.toLowerCase();T.DATE_HEADER="date";T.GENERATED_HEADERS=[T.AUTH_HEADER,T.AMZ_DATE_HEADER,T.DATE_HEADER];T.SIGNATURE_HEADER=T.SIGNATURE_QUERY_PARAM.toLowerCase();T.SHA256_HEADER="x-amz-content-sha256";T.TOKEN_HEADER=T.TOKEN_QUERY_PARAM.toLowerCase();T.HOST_HEADER="host";T.ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0};T.PROXY_HEADER_PATTERN=/^proxy-/;T.SEC_HEADER_PATTERN=/^sec-/;T.UNSIGNABLE_PATTERNS=[/^proxy-/i,/^sec-/i];T.ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256";T.ALGORITHM_IDENTIFIER_V4A="AWS4-ECDSA-P256-SHA256";T.EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD";T.UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD";T.MAX_CACHE_SIZE=50;T.KEY_TYPE_IDENTIFIER="aws4_request";T.MAX_PRESIGNED_TTL=60*60*24*7});var Ph=l(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.clearCredentialCache=Nr.getSigningKey=Nr.createScope=void 0;var aj=mc(),cj=cr(),Sh=ln(),Vn={},vc=[],dj=(e,t,r)=>`${e}/${t}/${r}/${Sh.KEY_TYPE_IDENTIFIER}`;Nr.createScope=dj;var lj=async(e,t,r,n,s)=>{let i=await ZE(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${(0,aj.toHex)(i)}:${t.sessionToken}`;if(o in Vn)return Vn[o];for(vc.push(o);vc.length>Sh.MAX_CACHE_SIZE;)delete Vn[vc.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,Sh.KEY_TYPE_IDENTIFIER])a=await ZE(e,a,c);return Vn[o]=a};Nr.getSigningKey=lj;var uj=()=>{vc.length=0,Object.keys(Vn).forEach(e=>{delete Vn[e]})};Nr.clearCredentialCache=uj;var ZE=(e,t,r)=>{let n=new e(t);return n.update((0,cj.toUint8Array)(r)),n.digest()}});var bh=l(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.getCanonicalHeaders=void 0;var Ih=ln(),fj=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in Ih.ALWAYS_UNSIGNABLE_HEADERS||t?.has(i)||Ih.PROXY_HEADER_PATTERN.test(i)||Ih.SEC_HEADER_PATTERN.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n};Ec.getCanonicalHeaders=fj});var Ah=l(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.escapeUri=void 0;var pj=e=>encodeURIComponent(e).replace(/[!'()*]/g,mj);Sc.escapeUri=pj;var mj=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`});var eS=l(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.escapeUriPath=void 0;var hj=Ah(),_j=e=>e.split("/").map(hj.escapeUri).join("/");Pc.escapeUriPath=_j});var Rh=l(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});var tS=A();tS.__exportStar(Ah(),Ic);tS.__exportStar(eS(),Ic)});var Ch=l(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.getCanonicalQuery=void 0;var bc=Rh(),yj=ln(),gj=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===yj.SIGNATURE_HEADER)continue;t.push(n);let s=e[n];typeof s=="string"?r[n]=`${(0,bc.escapeUri)(n)}=${(0,bc.escapeUri)(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).sort().reduce((i,o)=>i.concat([`${(0,bc.escapeUri)(n)}=${(0,bc.escapeUri)(o)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};Ac.getCanonicalQuery=gj});var Th=l(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.getPayloadHash=void 0;var wj=gh(),vj=mc(),Ej=cr(),rS=ln(),Sj=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===rS.SHA256_HEADER)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,wj.isArrayBuffer)(t)){let n=new r;return n.update((0,Ej.toUint8Array)(t)),(0,vj.toHex)(await n.digest())}return rS.UNSIGNED_PAYLOAD};Rc.getPayloadHash=Sj});var nS=l(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.deleteHeader=Mr.getHeaderValue=Mr.hasHeader=void 0;var Pj=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};Mr.hasHeader=Pj;var Ij=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return t[r]};Mr.getHeaderValue=Ij;var bj=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))e===r.toLowerCase()&&delete t[r]};Mr.deleteHeader=bj});var xh=l(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.cloneQuery=un.cloneRequest=void 0;var Aj=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?(0,un.cloneQuery)(t):void 0});un.cloneRequest=Aj;var Rj=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});un.cloneQuery=Rj});var qh=l(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.moveHeadersToQuery=void 0;var Cj=xh(),Tj=(e,t={})=>{var r;let{headers:n,query:s={}}=typeof e.clone=="function"?e.clone():(0,Cj.cloneRequest)(e);for(let i of Object.keys(n)){let o=i.toLowerCase();o.slice(0,6)==="x-amz-"&&!(!((r=t.unhoistableHeaders)===null||r===void 0)&&r.has(o))&&(s[i]=n[i],delete n[i])}return{...e,headers:n,query:s}};Cc.moveHeadersToQuery=Tj});var Oh=l(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.prepareRequest=void 0;var xj=xh(),qj=ln(),Oj=e=>{e=typeof e.clone=="function"?e.clone():(0,xj.cloneRequest)(e);for(let t of Object.keys(e.headers))qj.GENERATED_HEADERS.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};Tc.prepareRequest=Oj});var sS=l(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.toDate=fn.iso8601=void 0;var Nj=e=>(0,fn.toDate)(e).toISOString().replace(/\.\d{3}Z$/,"Z");fn.iso8601=Nj;var Mj=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;fn.toDate=Mj});var dS=l(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.SignatureV4=void 0;var xc=mc(),iS=dn(),Nh=cr(),be=ln(),qc=Ph(),oS=bh(),kj=Ch(),Mh=Th(),Dj=nS(),jj=qh(),aS=Oh(),Lj=sS(),kh=class{constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,iS.normalizeProvider)(n),this.credentialProvider=(0,iS.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,signingRegion:c,signingService:d}=r,u=await this.credentialProvider();this.validateResolvedCredentials(u);let f=c??await this.regionProvider(),{longDate:p,shortDate:m}=Oc(n);if(s>be.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=(0,qc.createScope)(m,f,d??this.service),g=(0,jj.moveHeadersToQuery)((0,aS.prepareRequest)(t),{unhoistableHeaders:o});u.sessionToken&&(g.query[be.TOKEN_QUERY_PARAM]=u.sessionToken),g.query[be.ALGORITHM_QUERY_PARAM]=be.ALGORITHM_IDENTIFIER,g.query[be.CREDENTIAL_QUERY_PARAM]=`${u.accessKeyId}/${_}`,g.query[be.AMZ_DATE_QUERY_PARAM]=p,g.query[be.EXPIRES_QUERY_PARAM]=s.toString(10);let y=(0,oS.getCanonicalHeaders)(g,i,a);return g.query[be.SIGNED_HEADERS_QUERY_PARAM]=cS(y),g.query[be.SIGNATURE_QUERY_PARAM]=await this.getSignature(p,_,this.getSigningKey(u,f,m,d),this.createCanonicalRequest(g,y,await(0,Mh.getPayloadHash)(t,this.sha256))),g}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){let a=i??await this.regionProvider(),{shortDate:c,longDate:d}=Oc(n),u=(0,qc.createScope)(c,a,o??this.service),f=await(0,Mh.getPayloadHash)({headers:{},body:r},this.sha256),p=new this.sha256;p.update(t);let m=(0,xc.toHex)(await p.digest()),_=[be.EVENT_ALGORITHM_IDENTIFIER,d,u,s,m,f].join(`
`);return this.signString(_,{signingDate:n,signingRegion:a,signingService:o})}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let o=n??await this.regionProvider(),{shortDate:a}=Oc(r),c=new this.sha256(await this.getSigningKey(i,o,a,s));return c.update((0,Nh.toUint8Array)(t)),(0,xc.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),d=(0,aS.prepareRequest)(t),{longDate:u,shortDate:f}=Oc(r),p=(0,qc.createScope)(f,c,o??this.service);d.headers[be.AMZ_DATE_HEADER]=u,a.sessionToken&&(d.headers[be.TOKEN_HEADER]=a.sessionToken);let m=await(0,Mh.getPayloadHash)(d,this.sha256);!(0,Dj.hasHeader)(be.SHA256_HEADER,d.headers)&&this.applyChecksum&&(d.headers[be.SHA256_HEADER]=m);let _=(0,oS.getCanonicalHeaders)(d,s,n),g=await this.getSignature(u,p,this.getSigningKey(a,c,f,o),this.createCanonicalRequest(d,_,m));return d.headers[be.AUTH_HEADER]=`${be.ALGORITHM_IDENTIFIER} Credential=${a.accessKeyId}/${p}, SignedHeaders=${cS(_)}, Signature=${g}`,d}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${(0,kj.getCanonicalQuery)(t)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n){let s=new this.sha256;s.update((0,Nh.toUint8Array)(n));let i=await s.digest();return`${be.ALGORITHM_IDENTIFIER}
${t}
${r}
${(0,xc.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,s){let i=await this.createStringToSign(t,r,s),o=new this.sha256(await n);return o.update((0,Nh.toUint8Array)(i)),(0,xc.toHex)(await o.digest())}getSigningKey(t,r,n,s){return(0,qc.getSigningKey)(this.sha256,t,n,r,s||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};Nc.SignatureV4=kh;var Oc=e=>{let t=(0,Lj.iso8601)(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},cS=e=>Object.keys(e).sort().join(";")});var Dh=l($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.prepareRequest=$e.moveHeadersToQuery=$e.getPayloadHash=$e.getCanonicalQuery=$e.getCanonicalHeaders=void 0;var lS=A();lS.__exportStar(dS(),$e);var zj=bh();Object.defineProperty($e,"getCanonicalHeaders",{enumerable:!0,get:function(){return zj.getCanonicalHeaders}});var Fj=Ch();Object.defineProperty($e,"getCanonicalQuery",{enumerable:!0,get:function(){return Fj.getCanonicalQuery}});var Uj=Th();Object.defineProperty($e,"getPayloadHash",{enumerable:!0,get:function(){return Uj.getPayloadHash}});var $j=qh();Object.defineProperty($e,"moveHeadersToQuery",{enumerable:!0,get:function(){return $j.moveHeadersToQuery}});var Hj=Oh();Object.defineProperty($e,"prepareRequest",{enumerable:!0,get:function(){return Hj.prepareRequest}});lS.__exportStar(Ph(),$e)});var Lh=l((zne,kc)=>{var uS,fS,pS,mS,hS,_S,yS,gS,wS,Mc,jh,vS,ES,Wn,SS,PS,IS,bS,AS,RS,CS,TS,xS;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof kc=="object"&&typeof kc.exports=="object"?e(r(t,r(kc.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])};uS=function(r,n){t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)},fS=Object.assign||function(r){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},pS=function(r,n){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&n.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(s[i[o]]=r[i[o]]);return s},mS=function(r,n,s,i){var o=arguments.length,a=o<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,s):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,n,s,i);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(a=(o<3?c(a):o>3?c(n,s,a):c(n,s))||a);return o>3&&a&&Object.defineProperty(n,s,a),a},hS=function(r,n){return function(s,i){n(s,i,r)}},_S=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},yS=function(r,n,s,i){function o(a){return a instanceof s?a:new s(function(c){c(a)})}return new(s||(s=Promise))(function(a,c){function d(p){try{f(i.next(p))}catch(m){c(m)}}function u(p){try{f(i.throw(p))}catch(m){c(m)}}function f(p){p.done?a(p.value):o(p.value).then(d,u)}f((i=i.apply(r,n||[])).next())})},gS=function(r,n){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(f){return function(p){return u([f,p])}}function u(f){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return s.label++,{value:f[1],done:!1};case 5:s.label++,o=f[1],f=[0];continue;case 7:f=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){s=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){s.label=f[1];break}if(f[0]===6&&s.label<a[1]){s.label=a[1],a=f;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(f);break}a[2]&&s.ops.pop(),s.trys.pop();continue}f=n.call(r,s)}catch(p){f=[6,p],o=0}finally{i=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},xS=function(r,n,s,i){i===void 0&&(i=s),r[i]=n[s]},wS=function(r,n){for(var s in r)s!=="default"&&!n.hasOwnProperty(s)&&(n[s]=r[s])},Mc=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&r[n],i=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},jh=function(r,n){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var i=s.call(r),o,a=[],c;try{for(;(n===void 0||n-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(c)throw c.error}}return a},vS=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(jh(arguments[n]));return r},ES=function(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;for(var i=Array(r),o=0,n=0;n<s;n++)for(var a=arguments[n],c=0,d=a.length;c<d;c++,o++)i[o]=a[c];return i},Wn=function(r){return this instanceof Wn?(this.v=r,this):new Wn(r)},SS=function(r,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(r,n||[]),o,a=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(_){i[_]&&(o[_]=function(g){return new Promise(function(y,P){a.push([_,g,y,P])>1||d(_,g)})})}function d(_,g){try{u(i[_](g))}catch(y){m(a[0][3],y)}}function u(_){_.value instanceof Wn?Promise.resolve(_.value.v).then(f,p):m(a[0][2],_)}function f(_){d("next",_)}function p(_){d("throw",_)}function m(_,g){_(g),a.shift(),a.length&&d(a[0][0],a[0][1])}},PS=function(r){var n,s;return n={},i("next"),i("throw",function(o){throw o}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(o,a){n[o]=r[o]?function(c){return(s=!s)?{value:Wn(r[o](c)),done:o==="return"}:a?a(c):c}:a}},IS=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],s;return n?n.call(r):(r=typeof Mc=="function"?Mc(r):r[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(a){s[a]=r[a]&&function(c){return new Promise(function(d,u){c=r[a](c),o(d,u,c.done,c.value)})}}function o(a,c,d,u){Promise.resolve(u).then(function(f){a({value:f,done:d})},c)}},bS=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},AS=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var s in r)Object.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n.default=r,n},RS=function(r){return r&&r.__esModule?r:{default:r}},CS=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},TS=function(r,n,s){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,s),s},e("__extends",uS),e("__assign",fS),e("__rest",pS),e("__decorate",mS),e("__param",hS),e("__metadata",_S),e("__awaiter",yS),e("__generator",gS),e("__exportStar",wS),e("__createBinding",xS),e("__values",Mc),e("__read",jh),e("__spread",vS),e("__spreadArrays",ES),e("__await",Wn),e("__asyncGenerator",SS),e("__asyncDelegator",PS),e("__asyncValues",IS),e("__makeTemplateObject",bS),e("__importStar",AS),e("__importDefault",RS),e("__classPrivateFieldGet",CS),e("__classPrivateFieldSet",TS)})});var zh=l(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.MAX_HASHABLE_LENGTH=tt.INIT=tt.KEY=tt.DIGEST_LENGTH=tt.BLOCK_SIZE=void 0;tt.BLOCK_SIZE=64;tt.DIGEST_LENGTH=32;tt.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);tt.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];tt.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var qS=l(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.RawSha256=void 0;var rt=zh(),Gj=function(){function e(){this.state=Int32Array.from(rt.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>rt.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===rt.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%rt.BLOCK_SIZE>=rt.BLOCK_SIZE-8){for(var s=this.bufferLength;s<rt.BLOCK_SIZE;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<rt.BLOCK_SIZE-8;s++)r.setUint8(s,0);r.setUint32(rt.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(rt.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(rt.DIGEST_LENGTH),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,s=n[0],i=n[1],o=n[2],a=n[3],c=n[4],d=n[5],u=n[6],f=n[7],p=0;p<rt.BLOCK_SIZE;p++){if(p<16)this.temp[p]=(r[p*4]&255)<<24|(r[p*4+1]&255)<<16|(r[p*4+2]&255)<<8|r[p*4+3]&255;else{var m=this.temp[p-2],_=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[p-15];var g=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[p]=(_+this.temp[p-7]|0)+(g+this.temp[p-16]|0)}var y=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&d^~c&u)|0)+(f+(rt.KEY[p]+this.temp[p]|0)|0)|0,P=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&o^i&o)|0;f=u,u=d,d=c,c=a+y|0,a=o,o=i,i=s,s=y+P|0}n[0]+=s,n[1]+=i,n[2]+=o,n[3]+=a,n[4]+=c,n[5]+=d,n[6]+=u,n[7]+=f},e}();Dc.RawSha256=Gj});var OS=l(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.toUtf8=Kn.fromUtf8=void 0;var Bj=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let s=e.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192,s&63|128);else if(r+1<e.length&&(s&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let i=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else t.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(t)};Kn.fromUtf8=Bj;var Vj=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let s=e[r];if(s<128)t+=String.fromCharCode(s);else if(192<=s&&s<224){let i=e[++r];t+=String.fromCharCode((s&31)<<6|i&63)}else if(240<=s&&s<365){let o="%"+[s,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((s&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};Kn.toUtf8=Vj});var NS=l(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.toUtf8=Jn.fromUtf8=void 0;function Wj(e){return new TextEncoder().encode(e)}Jn.fromUtf8=Wj;function Kj(e){return new TextDecoder("utf-8").decode(e)}Jn.toUtf8=Kj});var DS=l(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.toUtf8=Yn.fromUtf8=void 0;var MS=OS(),kS=NS(),Jj=e=>typeof TextEncoder=="function"?(0,kS.fromUtf8)(e):(0,MS.fromUtf8)(e);Yn.fromUtf8=Jj;var Yj=e=>typeof TextDecoder=="function"?(0,kS.toUtf8)(e):(0,MS.toUtf8)(e);Yn.toUtf8=Yj});var jS=l(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.convertToBuffer=void 0;var Xj=DS(),Qj=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Xj.fromUtf8;function Zj(e){return e instanceof Uint8Array?e:typeof e=="string"?Qj(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}jc.convertToBuffer=Zj});var LS=l(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.isEmptyData=void 0;function eL(e){return typeof e=="string"?e.length===0:e.byteLength===0}Lc.isEmptyData=eL});var zS=l(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.numToUint8=void 0;function tL(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}zc.numToUint8=tL});var FS=l(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.uint32ArrayFrom=void 0;function rL(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}Fc.uint32ArrayFrom=rL});var US=l(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.uint32ArrayFrom=Tt.numToUint8=Tt.isEmptyData=Tt.convertToBuffer=void 0;var nL=jS();Object.defineProperty(Tt,"convertToBuffer",{enumerable:!0,get:function(){return nL.convertToBuffer}});var sL=LS();Object.defineProperty(Tt,"isEmptyData",{enumerable:!0,get:function(){return sL.isEmptyData}});var iL=zS();Object.defineProperty(Tt,"numToUint8",{enumerable:!0,get:function(){return iL.numToUint8}});var oL=FS();Object.defineProperty(Tt,"uint32ArrayFrom",{enumerable:!0,get:function(){return oL.uint32ArrayFrom}})});var HS=l(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.Sha256=void 0;var $S=Lh(),$c=zh(),Uc=qS(),Fh=US(),aL=function(){function e(t){this.secret=t,this.hash=new Uc.RawSha256,this.reset()}return e.prototype.update=function(t){if(!((0,Fh.isEmptyData)(t)||this.error))try{this.hash.update((0,Fh.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return $S.__awaiter(this,void 0,void 0,function(){return $S.__generator(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Uc.RawSha256,this.secret){this.outer=new Uc.RawSha256;var t=cL(this.secret),r=new Uint8Array($c.BLOCK_SIZE);r.set(t);for(var n=0;n<$c.BLOCK_SIZE;n++)t[n]^=54,r[n]^=92;this.hash.update(t),this.outer.update(r);for(var n=0;n<t.byteLength;n++)t[n]=0}},e}();Hc.Sha256=aL;function cL(e){var t=(0,Fh.convertToBuffer)(e);if(t.byteLength>$c.BLOCK_SIZE){var r=new Uc.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array($c.BLOCK_SIZE);return n.set(t),n}});var GS=l(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});var dL=Lh();dL.__exportStar(HS(),Uh)});var BS=l(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.booleanSelector=pn.SelectorType=void 0;var lL;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(lL=pn.SelectorType||(pn.SelectorType={}));var uL=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};pn.booleanSelector=uL});var Hh=l($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});var fL=A();fL.__exportStar(BS(),$h)});var VS=l(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=nt.DEFAULT_USE_DUALSTACK_ENDPOINT=nt.CONFIG_USE_DUALSTACK_ENDPOINT=nt.ENV_USE_DUALSTACK_ENDPOINT=void 0;var Gc=Hh();nt.ENV_USE_DUALSTACK_ENDPOINT="AWS_USE_DUALSTACK_ENDPOINT";nt.CONFIG_USE_DUALSTACK_ENDPOINT="use_dualstack_endpoint";nt.DEFAULT_USE_DUALSTACK_ENDPOINT=!1;nt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>(0,Gc.booleanSelector)(e,nt.ENV_USE_DUALSTACK_ENDPOINT,Gc.SelectorType.ENV),configFileSelector:e=>(0,Gc.booleanSelector)(e,nt.CONFIG_USE_DUALSTACK_ENDPOINT,Gc.SelectorType.CONFIG),default:!1}});var WS=l(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=st.DEFAULT_USE_FIPS_ENDPOINT=st.CONFIG_USE_FIPS_ENDPOINT=st.ENV_USE_FIPS_ENDPOINT=void 0;var Bc=Hh();st.ENV_USE_FIPS_ENDPOINT="AWS_USE_FIPS_ENDPOINT";st.CONFIG_USE_FIPS_ENDPOINT="use_fips_endpoint";st.DEFAULT_USE_FIPS_ENDPOINT=!1;st.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>(0,Bc.booleanSelector)(e,st.ENV_USE_FIPS_ENDPOINT,Bc.SelectorType.ENV),configFileSelector:e=>(0,Bc.booleanSelector)(e,st.CONFIG_USE_FIPS_ENDPOINT,Bc.SelectorType.CONFIG),default:!1}});var JS=l(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.resolveCustomEndpointsConfig=void 0;var KS=dn(),pL=e=>{var t,r;let{endpoint:n,urlParser:s}=e;return{...e,tls:(t=e.tls)!==null&&t!==void 0?t:!0,endpoint:(0,KS.normalizeProvider)(typeof n=="string"?s(n):n),isCustomEndpoint:!0,useDualstackEndpoint:(0,KS.normalizeProvider)((r=e.useDualstackEndpoint)!==null&&r!==void 0?r:!1)}};Vc.resolveCustomEndpointsConfig=pL});var YS=l(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.getEndpointFromRegion=void 0;var mL=async e=>{var t;let{tls:r=!0}=e,n=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw new Error("Invalid region in client config");let i=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:a}=(t=await e.regionInfoProvider(n,{useDualstackEndpoint:i,useFipsEndpoint:o}))!==null&&t!==void 0?t:{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${r?"https:":"http:"}//${a}`)};Wc.getEndpointFromRegion=mL});var QS=l(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.resolveEndpointsConfig=void 0;var XS=dn(),hL=YS(),_L=e=>{var t,r;let n=(0,XS.normalizeProvider)((t=e.useDualstackEndpoint)!==null&&t!==void 0?t:!1),{endpoint:s,useFipsEndpoint:i,urlParser:o}=e;return{...e,tls:(r=e.tls)!==null&&r!==void 0?r:!0,endpoint:s?(0,XS.normalizeProvider)(typeof s=="string"?o(s):s):()=>(0,hL.getEndpointFromRegion)({...e,useDualstackEndpoint:n,useFipsEndpoint:i}),isCustomEndpoint:!!s,useDualstackEndpoint:n}};Kc.resolveEndpointsConfig=_L});var ZS=l(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});var Jc=A();Jc.__exportStar(VS(),Xn);Jc.__exportStar(WS(),Xn);Jc.__exportStar(JS(),Xn);Jc.__exportStar(QS(),Xn)});var e0=l(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.NODE_REGION_CONFIG_FILE_OPTIONS=it.NODE_REGION_CONFIG_OPTIONS=it.REGION_INI_NAME=it.REGION_ENV_NAME=void 0;it.REGION_ENV_NAME="AWS_REGION";it.REGION_INI_NAME="region";it.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:e=>e[it.REGION_ENV_NAME],configFileSelector:e=>e[it.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};it.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var Gh=l(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.isFipsRegion=void 0;var yL=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));Yc.isFipsRegion=yL});var t0=l(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.getRealRegion=void 0;var gL=Gh(),wL=e=>(0,gL.isFipsRegion)(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;Xc.getRealRegion=wL});var n0=l(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.resolveRegionConfig=void 0;var r0=t0(),vL=Gh(),EL=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return(0,r0.getRealRegion)(t);let n=await t();return(0,r0.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return(0,vL.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};Qc.resolveRegionConfig=EL});var i0=l(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});var s0=A();s0.__exportStar(e0(),Zc);s0.__exportStar(n0(),Zc)});var a0=l(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0})});var d0=l(c0=>{"use strict";Object.defineProperty(c0,"__esModule",{value:!0})});var l0=l(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.getHostnameFromVariants=void 0;var SL=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:s})=>t===s.includes("fips")&&r===s.includes("dualstack")))===null||n===void 0?void 0:n.hostname};ed.getHostnameFromVariants=SL});var u0=l(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.getResolvedHostname=void 0;var PL=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0);td.getResolvedHostname=PL});var f0=l(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.getResolvedPartition=void 0;var IL=(e,{partitionHash:t})=>{var r;return(r=Object.keys(t||{}).find(n=>t[n].regions.includes(e)))!==null&&r!==void 0?r:"aws"};rd.getResolvedPartition=IL});var p0=l(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.getResolvedSigningRegion=void 0;var bL=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}};nd.getResolvedSigningRegion=bL});var h0=l(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.getRegionInfo=void 0;var m0=l0(),AL=u0(),RL=f0(),CL=p0(),TL=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{var o,a,c,d,u,f;let p=(0,RL.getResolvedPartition)(e,{partitionHash:i}),m=e in s?e:(a=(o=i[p])===null||o===void 0?void 0:o.endpoint)!==null&&a!==void 0?a:e,_={useFipsEndpoint:t,useDualstackEndpoint:r},g=(0,m0.getHostnameFromVariants)((c=s[m])===null||c===void 0?void 0:c.variants,_),y=(0,m0.getHostnameFromVariants)((d=i[p])===null||d===void 0?void 0:d.variants,_),P=(0,AL.getResolvedHostname)(m,{regionHostname:g,partitionHostname:y});if(P===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:m,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let N=(0,CL.getResolvedSigningRegion)(P,{signingRegion:(u=s[m])===null||u===void 0?void 0:u.signingRegion,regionRegex:i[p].regionRegex,useFipsEndpoint:t});return{partition:p,signingService:n,hostname:P,...N&&{signingRegion:N},...((f=s[m])===null||f===void 0?void 0:f.signingService)&&{signingService:s[m].signingService}}};sd.getRegionInfo=TL});var _0=l(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});var Bh=A();Bh.__exportStar(a0(),Us);Bh.__exportStar(d0(),Us);Bh.__exportStar(h0(),Us)});var xt=l($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});var Vh=A();Vh.__exportStar(ZS(),$s);Vh.__exportStar(i0(),$s);Vh.__exportStar(_0(),$s)});var Wh=l(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.FieldPosition=void 0;var xL;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(xL=Hs.FieldPosition||(Hs.FieldPosition={}))});var y0=l(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.Field=void 0;var qL=Wh(),Kh=class{constructor({name:t,kind:r=qL.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};id.Field=Kh});var g0=l(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.Fields=void 0;var Jh=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};od.Fields=Jh});var v0=l(w0=>{"use strict";Object.defineProperty(w0,"__esModule",{value:!0})});var E0=l(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.HttpRequest=void 0;var Gs=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new Gs({...this,headers:{...this.headers}});return t.query&&(t.query=OL(t.query)),t}};ad.HttpRequest=Gs;function OL(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}});var S0=l(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.HttpResponse=void 0;var Yh=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};cd.HttpResponse=Yh});var P0=l(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.isValidHostname=void 0;function NL(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}dd.isValidHostname=NL});var ke=l(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});var mn=A();mn.__exportStar(y0(),dr);mn.__exportStar(Wh(),dr);mn.__exportStar(g0(),dr);mn.__exportStar(v0(),dr);mn.__exportStar(E0(),dr);mn.__exportStar(S0(),dr);mn.__exportStar(P0(),dr)});var Bs=l(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.getContentLengthPlugin=lr.contentLengthMiddlewareOptions=lr.contentLengthMiddleware=void 0;var ML=ke(),I0="content-length";function b0(e){return t=>async r=>{let n=r.request;if(ML.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(I0)===-1)try{let o=e(s);n.headers={...n.headers,[I0]:String(o)}}catch{}}return t({...r,request:n})}}lr.contentLengthMiddleware=b0;lr.contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0};var kL=e=>({applyToStack:t=>{t.add(b0(e.bodyLengthChecker),lr.contentLengthMiddlewareOptions)}});lr.getContentLengthPlugin=kL});var A0=l(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.isArnBucketName=He.isDnsCompatibleBucketName=He.S3_HOSTNAME_PATTERN=He.DOT_PATTERN=He.resolveParamsForS3=void 0;var DL=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(0,He.isArnBucketName)(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!(0,He.isDnsCompatibleBucketName)(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e};He.resolveParamsForS3=DL;var jL=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,LL=/(\d+\.){3}\d+/,zL=/\.\./;He.DOT_PATTERN=/\./;He.S3_HOSTNAME_PATTERN=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./;var FL=e=>jL.test(e)&&!LL.test(e)&&!zL.test(e);He.isDnsCompatibleBucketName=FL;var UL=e=>{let[t,r,n,s,i,o]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,c=[t,r,n,i,o].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!i&&!!o};He.isArnBucketName=UL});var R0=l(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});var $L=A();$L.__exportStar(A0(),Xh)});var C0=l(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.createConfigValueProvider=void 0;var HL=(e,t,r)=>{let n=async()=>{var s;let i=(s=r[e])!==null&&s!==void 0?s:r[t];return typeof i=="function"?i():i};return e==="endpoint"||t==="endpoint"?async()=>{let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n};ld.createConfigValueProvider=HL});var Qh=l(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.resolveParams=hn.getEndpointFromInstructions=void 0;var GL=R0(),BL=C0(),VL=async(e,t,r,n)=>{let s=await(0,hn.resolveParams)(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)};hn.getEndpointFromInstructions=VL;var WL=async(e,t,r)=>{var n;let s={},i=((n=t?.getEndpointParameterInstructions)===null||n===void 0?void 0:n.call(t))||{};for(let[o,a]of Object.entries(i))switch(a.type){case"staticContextParams":s[o]=a.value;break;case"contextParams":s[o]=e[a.name];break;case"clientContextParams":case"builtInParams":s[o]=await(0,BL.createConfigValueProvider)(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(s,r),String(r.serviceId).toLowerCase()==="s3"&&await(0,GL.resolveParamsForS3)(s),s};hn.resolveParams=WL});var T0=l(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.parseQueryString=void 0;function KL(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}ud.parseQueryString=KL});var _n=l(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.parseUrl=void 0;var JL=T0(),YL=e=>{if(typeof e=="string")return(0,Vs.parseUrl)(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=(0,JL.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}};Vs.parseUrl=YL});var Zh=l(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.toEndpointV1=void 0;var x0=_n(),XL=e=>typeof e=="object"?"url"in e?(0,x0.parseUrl)(e.url):e:(0,x0.parseUrl)(e);fd.toEndpointV1=XL});var O0=l(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});var q0=A();q0.__exportStar(Qh(),pd);q0.__exportStar(Zh(),pd)});var e_=l(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.endpointMiddleware=void 0;var QL=Qh(),ZL=({config:e,instructions:t})=>(r,n)=>async s=>{var i,o;let a=await(0,QL.getEndpointFromInstructions)(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=a,n.authSchemes=(i=a.properties)===null||i===void 0?void 0:i.authSchemes;let c=(o=n.authSchemes)===null||o===void 0?void 0:o[0];return c&&(n.signing_region=c.signingRegion,n.signing_service=c.signingName),r({...s})};md.endpointMiddleware=ZL});var t_=l(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.deserializerMiddleware=void 0;var ez=(e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){throw Object.defineProperty(o,"$response",{value:i}),o}};hd.deserializerMiddleware=ez});var r_=l(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.serializerMiddleware=void 0;var tz=(e,t)=>(r,n)=>async s=>{var i;let o=((i=n.endpointV2)===null||i===void 0?void 0:i.url)&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})};_d.serializerMiddleware=tz});var N0=l(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.getSerdePlugin=qt.serializerMiddlewareOption=qt.deserializerMiddlewareOption=void 0;var rz=t_(),nz=r_();qt.deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0};qt.serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function sz(e,t,r){return{applyToStack:n=>{n.add((0,rz.deserializerMiddleware)(e,r),qt.deserializerMiddlewareOption),n.add((0,nz.serializerMiddleware)(e,t),qt.serializerMiddlewareOption)}}}qt.getSerdePlugin=sz});var j=l(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});var n_=A();n_.__exportStar(t_(),Ws);n_.__exportStar(N0(),Ws);n_.__exportStar(r_(),Ws)});var M0=l(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.getEndpointPlugin=yn.endpointMiddlewareOptions=void 0;var iz=j(),oz=e_();yn.endpointMiddlewareOptions={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:iz.serializerMiddlewareOption.name};var az=(e,t)=>({applyToStack:r=>{r.addRelativeTo((0,oz.endpointMiddleware)({config:e,instructions:t}),yn.endpointMiddlewareOptions)}});yn.getEndpointPlugin=az});var k0=l(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.resolveEndpointConfig=void 0;var s_=dn(),cz=Zh(),dz=e=>{var t,r,n;let s=(t=e.tls)!==null&&t!==void 0?t:!0,{endpoint:i}=e,o=i!=null?async()=>(0,cz.toEndpointV1)(await(0,s_.normalizeProvider)(i)()):void 0;return{...e,endpoint:o,tls:s,isCustomEndpoint:!!i,useDualstackEndpoint:(0,s_.normalizeProvider)((r=e.useDualstackEndpoint)!==null&&r!==void 0?r:!1),useFipsEndpoint:(0,s_.normalizeProvider)((n=e.useFipsEndpoint)!==null&&n!==void 0?n:!1)}};yd.resolveEndpointConfig=dz});var j0=l(D0=>{"use strict";Object.defineProperty(D0,"__esModule",{value:!0})});var k=l(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var Ks=A();Ks.__exportStar(O0(),gn);Ks.__exportStar(e_(),gn);Ks.__exportStar(M0(),gn);Ks.__exportStar(k0(),gn);Ks.__exportStar(j0(),gn)});var Js=l(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.getHostHeaderPlugin=ot.hostHeaderMiddlewareOptions=ot.hostHeaderMiddleware=ot.resolveHostHeaderConfig=void 0;var lz=ke();function uz(e){return e}ot.resolveHostHeaderConfig=uz;var fz=e=>t=>async r=>{if(!lz.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)};ot.hostHeaderMiddleware=fz;ot.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};var pz=e=>({applyToStack:t=>{t.add((0,ot.hostHeaderMiddleware)(e),ot.hostHeaderMiddlewareOptions)}});ot.getHostHeaderPlugin=pz});var L0=l(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getLoggerPlugin=Ot.loggerMiddlewareOptions=Ot.loggerMiddleware=void 0;var mz=()=>(e,t)=>async r=>{var n,s;try{let i=await e(r),{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:f}=d,p=u??t.inputFilterSensitiveLog,m=f??t.outputFilterSensitiveLog,{$metadata:_,...g}=i.output;return(n=c?.info)===null||n===void 0||n.call(c,{clientName:o,commandName:a,input:p(r.input),output:m(g),metadata:_}),i}catch(i){let{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:u}=d,f=u??t.inputFilterSensitiveLog;throw(s=c?.error)===null||s===void 0||s.call(c,{clientName:o,commandName:a,input:f(r.input),error:i,metadata:i.$metadata}),i}};Ot.loggerMiddleware=mz;Ot.loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var hz=e=>({applyToStack:t=>{t.add((0,Ot.loggerMiddleware)(),Ot.loggerMiddlewareOptions)}});Ot.getLoggerPlugin=hz});var Ys=l(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});var _z=A();_z.__exportStar(L0(),i_)});var Xs=l(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.getRecursionDetectionPlugin=Nt.addRecursionDetectionMiddlewareOptions=Nt.recursionDetectionMiddleware=void 0;var yz=ke(),z0="X-Amzn-Trace-Id",gz="AWS_LAMBDA_FUNCTION_NAME",wz="_X_AMZN_TRACE_ID",vz=e=>t=>async r=>{let{request:n}=r;if(!yz.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(z0))return t(r);let s=process.env[gz],i=process.env[wz],o=a=>typeof a=="string"&&a.length>0;return o(s)&&o(i)&&(n.headers[z0]=i),t({...r,request:n})};Nt.recursionDetectionMiddleware=vz;Nt.addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var Ez=e=>({applyToStack:t=>{t.add((0,Nt.recursionDetectionMiddleware)(e),Nt.addRecursionDetectionMiddlewareOptions)}});Nt.getRecursionDetectionPlugin=Ez});var gd=l(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.DEFAULT_RETRY_MODE=ur.DEFAULT_MAX_ATTEMPTS=ur.RETRY_MODES=void 0;var Sz;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Sz=ur.RETRY_MODES||(ur.RETRY_MODES={}));ur.DEFAULT_MAX_ATTEMPTS=3;ur.DEFAULT_RETRY_MODE="STANDARD"});var F0=l(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.NODEJS_TIMEOUT_ERROR_CODES=at.TRANSIENT_ERROR_STATUS_CODES=at.TRANSIENT_ERROR_CODES=at.THROTTLING_ERROR_CODES=at.CLOCK_SKEW_ERROR_CODES=void 0;at.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"];at.THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];at.TRANSIENT_ERROR_CODES=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"];at.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504];at.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var Zs=l(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.isServerError=Ke.isTransientError=Ke.isThrottlingError=Ke.isClockSkewError=Ke.isRetryableByTrait=void 0;var Qs=F0(),Pz=e=>e.$retryable!==void 0;Ke.isRetryableByTrait=Pz;var Iz=e=>Qs.CLOCK_SKEW_ERROR_CODES.includes(e.name);Ke.isClockSkewError=Iz;var bz=e=>{var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||Qs.THROTTLING_ERROR_CODES.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0};Ke.isThrottlingError=bz;var Az=e=>{var t;return Qs.TRANSIENT_ERROR_CODES.includes(e.name)||Qs.NODEJS_TIMEOUT_ERROR_CODES.includes(e?.code||"")||Qs.TRANSIENT_ERROR_STATUS_CODES.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)};Ke.isTransientError=Az;var Rz=e=>{var t;if(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!(0,Ke.isTransientError)(e)}return!1};Ke.isServerError=Rz});var a_=l(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.DefaultRateLimiter=void 0;var Cz=Zs(),o_=class{constructor(t){var r,n,s,i,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r=t?.beta)!==null&&r!==void 0?r:.7,this.minCapacity=(n=t?.minCapacity)!==null&&n!==void 0?n:1,this.minFillRate=(s=t?.minFillRate)!==null&&s!==void 0?s:.5,this.scaleConstant=(i=t?.scaleConstant)!==null&&i!==void 0?i:.4,this.smooth=(o=t?.smooth)!==null&&o!==void 0?o:.8;let a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(!!this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,Cz.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};wd.DefaultRateLimiter=o_});var ei=l(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.REQUEST_HEADER=_e.INVOCATION_ID_HEADER=_e.NO_RETRY_INCREMENT=_e.TIMEOUT_RETRY_COST=_e.RETRY_COST=_e.INITIAL_RETRY_TOKENS=_e.THROTTLING_RETRY_DELAY_BASE=_e.MAXIMUM_RETRY_DELAY=_e.DEFAULT_RETRY_DELAY_BASE=void 0;_e.DEFAULT_RETRY_DELAY_BASE=100;_e.MAXIMUM_RETRY_DELAY=20*1e3;_e.THROTTLING_RETRY_DELAY_BASE=500;_e.INITIAL_RETRY_TOKENS=500;_e.RETRY_COST=5;_e.TIMEOUT_RETRY_COST=10;_e.NO_RETRY_INCREMENT=1;_e.INVOCATION_ID_HEADER="amz-sdk-invocation-id";_e.REQUEST_HEADER="amz-sdk-request"});var $0=l(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.getDefaultRetryBackoffStrategy=void 0;var U0=ei(),Tz=()=>{let e=U0.DEFAULT_RETRY_DELAY_BASE;return{computeNextBackoffDelay:n=>Math.floor(Math.min(U0.MAXIMUM_RETRY_DELAY,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};vd.getDefaultRetryBackoffStrategy=Tz});var H0=l(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.getDefaultRetryToken=void 0;var Qn=ei(),xz=$0(),qz=(e,t,r,n)=>{var s,i,o;let a=e,c=(s=n?.retryCost)!==null&&s!==void 0?s:Qn.RETRY_COST,d=(i=n?.timeoutRetryCost)!==null&&i!==void 0?i:Qn.TIMEOUT_RETRY_COST,u=(o=n?.retryBackoffStrategy)!==null&&o!==void 0?o:(0,xz.getDefaultRetryBackoffStrategy)(),f=e,p=Math.min(Qn.MAXIMUM_RETRY_DELAY,t),m,_=r??0,g=Ne=>Ne==="TRANSIENT"?d:c,y=()=>_,P=()=>p,N=()=>m,M=Ne=>g(Ne)<=f;return{getRetryCount:y,getRetryDelay:P,getLastRetryCost:N,hasRetryTokens:M,getRetryTokenCount:Ne=>{let ir=Ne.errorType;if(!M(ir))throw new Error("No retry token available");let on=g(ir),Gm=ir==="THROTTLING"?Qn.THROTTLING_RETRY_DELAY_BASE:Qn.DEFAULT_RETRY_DELAY_BASE;u.setDelayBase(Gm);let Cv=u.computeNextBackoffDelay(_);if(Ne.retryAfterHint){let PM=Ne.retryAfterHint.getTime()-Date.now();p=Math.max(PM||0,Cv)}else p=Cv;return _++,m=on,f-=on,on},releaseRetryTokens:Ne=>{f+=Ne??Qn.NO_RETRY_INCREMENT,f=Math.min(f,a)}}};Ed.getDefaultRetryToken=qz});var l_=l(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.StandardRetryStrategy=void 0;var c_=gd(),G0=ei(),Oz=H0(),d_=class{constructor(t){this.maxAttemptsProvider=t,this.mode=c_.RETRY_MODES.STANDARD,this.retryToken=(0,Oz.getDefaultRetryToken)(G0.INITIAL_RETRY_TOKENS,G0.DEFAULT_RETRY_DELAY_BASE),this.maxAttemptsProvider=t}async acquireInitialRetryToken(t){return this.retryToken}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n))return t.getRetryTokenCount(r),t;throw new Error("No retry token available")}recordSuccess(t){this.retryToken.releaseRetryTokens(t.getLastRetryCost())}async getMaxAttempts(){let t;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${c_.DEFAULT_MAX_ATTEMPTS}`),c_.DEFAULT_MAX_ATTEMPTS}}shouldRetry(t,r,n){return t.getRetryCount()<n&&t.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};Sd.StandardRetryStrategy=d_});var B0=l(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.AdaptiveRetryStrategy=void 0;var Nz=gd(),Mz=a_(),kz=l_(),u_=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=Nz.RETRY_MODES.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Mz.DefaultRateLimiter,this.standardRetryStrategy=new kz.StandardRetryStrategy(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};Pd.AdaptiveRetryStrategy=u_});var W0=l(V0=>{"use strict";Object.defineProperty(V0,"__esModule",{value:!0})});var ct=l(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});var Zn=A();Zn.__exportStar(B0(),kr);Zn.__exportStar(a_(),kr);Zn.__exportStar(l_(),kr);Zn.__exportStar(gd(),kr);Zn.__exportStar(ei(),kr);Zn.__exportStar(W0(),kr)});var K0=l(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.getDefaultRetryQuota=void 0;var f_=ct(),Dz=(e,t)=>{var r,n,s;let i=e,o=(r=t?.noRetryIncrement)!==null&&r!==void 0?r:f_.NO_RETRY_INCREMENT,a=(n=t?.retryCost)!==null&&n!==void 0?n:f_.RETRY_COST,c=(s=t?.timeoutRetryCost)!==null&&s!==void 0?s:f_.TIMEOUT_RETRY_COST,d=e,u=_=>_.name==="TimeoutError"?c:a,f=_=>u(_)<=d;return Object.freeze({hasRetryTokens:f,retrieveRetryTokens:_=>{if(!f(_))throw new Error("No retry token available");let g=u(_);return d-=g,g},releaseRetryTokens:_=>{d+=_??o,d=Math.min(d,i)}})};Id.getDefaultRetryQuota=Dz});var p_=l(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.defaultDelayDecider=void 0;var jz=ct(),Lz=(e,t)=>Math.floor(Math.min(jz.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e));bd.defaultDelayDecider=Lz});var m_=l(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.defaultRetryDecider=void 0;var Ad=Zs(),zz=e=>e?(0,Ad.isRetryableByTrait)(e)||(0,Ad.isClockSkewError)(e)||(0,Ad.isThrottlingError)(e)||(0,Ad.isTransientError)(e):!1;Rd.defaultRetryDecider=zz});var h_=l(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.asSdkError=void 0;var Fz=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);Cd.asSdkError=Fz});var g_=l(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.StandardRetryStrategy=void 0;var __=ke(),Uz=Zs(),wn=ct(),$z=ic(),Hz=K0(),Gz=p_(),Bz=m_(),Vz=h_(),y_=class{constructor(t,r){var n,s,i;this.maxAttemptsProvider=t,this.mode=wn.RETRY_MODES.STANDARD,this.retryDecider=(n=r?.retryDecider)!==null&&n!==void 0?n:Bz.defaultRetryDecider,this.delayDecider=(s=r?.delayDecider)!==null&&s!==void 0?s:Gz.defaultDelayDecider,this.retryQuota=(i=r?.retryQuota)!==null&&i!==void 0?i:(0,Hz.getDefaultRetryQuota)(wn.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=wn.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,i=0,o=0,a=await this.getMaxAttempts(),{request:c}=r;for(__.HttpRequest.isInstance(c)&&(c.headers[wn.INVOCATION_ID_HEADER]=(0,$z.v4)());;)try{__.HttpRequest.isInstance(c)&&(c.headers[wn.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:u}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(s),u.$metadata.attempts=i+1,u.$metadata.totalRetryDelay=o,{response:d,output:u}}catch(d){let u=(0,Vz.asSdkError)(d);if(i++,this.shouldRetry(u,i,a)){s=this.retryQuota.retrieveRetryTokens(u);let f=this.delayDecider((0,Uz.isThrottlingError)(u)?wn.THROTTLING_RETRY_DELAY_BASE:wn.DEFAULT_RETRY_DELAY_BASE,i),p=Wz(u.$response),m=Math.max(p||0,f);o+=m,await new Promise(_=>setTimeout(_,m));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=i,u.$metadata.totalRetryDelay=o,u}}};Td.StandardRetryStrategy=y_;var Wz=e=>{if(!__.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3}});var Y0=l(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.AdaptiveRetryStrategy=void 0;var J0=ct(),Kz=g_(),w_=class extends Kz.StandardRetryStrategy{constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new J0.DefaultRateLimiter,this.mode=J0.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};xd.AdaptiveRetryStrategy=w_});var Q0=l(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.NODE_RETRY_MODE_CONFIG_OPTIONS=ue.CONFIG_RETRY_MODE=ue.ENV_RETRY_MODE=ue.resolveRetryConfig=ue.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=ue.CONFIG_MAX_ATTEMPTS=ue.ENV_MAX_ATTEMPTS=void 0;var X0=dn(),es=ct();ue.ENV_MAX_ATTEMPTS="AWS_MAX_ATTEMPTS";ue.CONFIG_MAX_ATTEMPTS="max_attempts";ue.NODE_MAX_ATTEMPT_CONFIG_OPTIONS={environmentVariableSelector:e=>{let t=e[ue.ENV_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${ue.ENV_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[ue.CONFIG_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${ue.CONFIG_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},default:es.DEFAULT_MAX_ATTEMPTS};var Jz=e=>{var t;let{retryStrategy:r}=e,n=(0,X0.normalizeProvider)((t=e.maxAttempts)!==null&&t!==void 0?t:es.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:n,retryStrategy:async()=>r||(await(0,X0.normalizeProvider)(e.retryMode)()===es.RETRY_MODES.ADAPTIVE?new es.AdaptiveRetryStrategy(n):new es.StandardRetryStrategy(n))}};ue.resolveRetryConfig=Jz;ue.ENV_RETRY_MODE="AWS_RETRY_MODE";ue.CONFIG_RETRY_MODE="retry_mode";ue.NODE_RETRY_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[ue.ENV_RETRY_MODE],configFileSelector:e=>e[ue.CONFIG_RETRY_MODE],default:es.DEFAULT_RETRY_MODE}});var eP=l(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.getOmitRetryHeadersPlugin=Mt.omitRetryHeadersMiddlewareOptions=Mt.omitRetryHeadersMiddleware=void 0;var Yz=ke(),Z0=ct(),Xz=()=>e=>async t=>{let{request:r}=t;return Yz.HttpRequest.isInstance(r)&&(delete r.headers[Z0.INVOCATION_ID_HEADER],delete r.headers[Z0.REQUEST_HEADER]),e(t)};Mt.omitRetryHeadersMiddleware=Xz;Mt.omitRetryHeadersMiddlewareOptions={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0};var Qz=e=>({applyToStack:t=>{t.addRelativeTo((0,Mt.omitRetryHeadersMiddleware)(),Mt.omitRetryHeadersMiddlewareOptions)}});Mt.getOmitRetryHeadersPlugin=Qz});var rP=l(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.getRetryAfterHint=Je.getRetryPlugin=Je.retryMiddlewareOptions=Je.retryMiddleware=void 0;var E_=ke(),v_=Zs(),tP=ct(),Zz=ic(),eF=h_(),tF=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(rF(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:u}=n;for(E_.HttpRequest.isInstance(u)&&(u.headers[tP.INVOCATION_ID_HEADER]=(0,Zz.v4)());;)try{E_.HttpRequest.isInstance(u)&&(u.headers[tP.REQUEST_HEADER]=`attempt=${c+1}; max=${i}`);let{response:f,output:p}=await t(n);return s.recordSuccess(o),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=d,{response:f,output:p}}catch(f){let p=nF(f);a=(0,eF.asSdkError)(f);try{o=await s.refreshRetryTokenForRetry(o,p)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=o.getRetryCount();let m=o.getRetryDelay();d+=m,await new Promise(_=>setTimeout(_,m))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)};Je.retryMiddleware=tF;var rF=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",nF=e=>{let t={errorType:sF(e)},r=(0,Je.getRetryAfterHint)(e.$response);return r&&(t.retryAfterHint=r),t},sF=e=>(0,v_.isThrottlingError)(e)?"THROTTLING":(0,v_.isTransientError)(e)?"TRANSIENT":(0,v_.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR";Je.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0};var iF=e=>({applyToStack:t=>{t.add((0,Je.retryMiddleware)(e),Je.retryMiddlewareOptions)}});Je.getRetryPlugin=iF;var oF=e=>{if(!E_.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Je.getRetryAfterHint=oF});var pr=l(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});var vn=A();vn.__exportStar(Y0(),fr);vn.__exportStar(g_(),fr);vn.__exportStar(Q0(),fr);vn.__exportStar(p_(),fr);vn.__exportStar(eP(),fr);vn.__exportStar(m_(),fr);vn.__exportStar(rP(),fr)});var ri=l(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.ProviderError=void 0;var ti=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,ti.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};qd.ProviderError=ti});var nP=l(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.CredentialsProviderError=void 0;var aF=ri(),ni=class extends aF.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,ni.prototype)}};Od.CredentialsProviderError=ni});var sP=l(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.TokenProviderError=void 0;var cF=ri(),si=class extends cF.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,si.prototype)}};Nd.TokenProviderError=si});var iP=l(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.chain=void 0;var dF=ri();function lF(...e){return()=>{let t=Promise.reject(new dF.ProviderError("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n?.tryNextLink)return r();throw n});return t}}Md.chain=lF});var oP=l(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.fromStatic=void 0;var uF=e=>()=>Promise.resolve(e);kd.fromStatic=uF});var aP=l(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.memoize=void 0;var fF=(e,t,r)=>{let n,s,i,o=!1,a=async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))};Dd.memoize=fF});var V=l(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});var ts=A();ts.__exportStar(nP(),Dr);ts.__exportStar(ri(),Dr);ts.__exportStar(sP(),Dr);ts.__exportStar(iP(),Dr);ts.__exportStar(oP(),Dr);ts.__exportStar(aP(),Dr)});var dP=l(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.resolveSigV4AuthConfig=ns.resolveAwsAuthConfig=void 0;var pF=V(),S_=Dh(),rs=dn(),mF=3e5,hF=e=>{let t=e.credentials?cP(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e,i;return e.signer?i=(0,rs.normalizeProvider)(e.signer):e.regionInfoProvider?i=()=>(0,rs.normalizeProvider)(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{let{signingRegion:c,signingService:d}=o;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let u={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},f=e.signerConstructor||S_.SignatureV4;return new f(u)}):i=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,rs.normalizeProvider)(e.region)(),properties:{}},o);let a=o.signingRegion,c=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},u=e.signerConstructor||S_.SignatureV4;return new u(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}};ns.resolveAwsAuthConfig=hF;var _F=e=>{let t=e.credentials?cP(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e,i;return e.signer?i=(0,rs.normalizeProvider)(e.signer):i=(0,rs.normalizeProvider)(new S_.SignatureV4({credentials:t,region:e.region,service:e.signingName,sha256:s,uriEscapePath:r})),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}};ns.resolveSigV4AuthConfig=_F;var cP=e=>typeof e=="function"?(0,pF.memoize)(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<mF,t=>t.expiration!==void 0):(0,rs.normalizeProvider)(e)});var P_=l(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.getSkewCorrectedDate=void 0;var yF=e=>new Date(Date.now()+e);jd.getSkewCorrectedDate=yF});var lP=l(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.isClockSkewed=void 0;var gF=P_(),wF=(e,t)=>Math.abs((0,gF.getSkewCorrectedDate)(t).getTime()-e)>=3e5;Ld.isClockSkewed=wF});var uP=l(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.getUpdatedSystemClockOffset=void 0;var vF=lP(),EF=(e,t)=>{let r=Date.parse(e);return(0,vF.isClockSkewed)(r,t)?r-Date.now():t};zd.getUpdatedSystemClockOffset=EF});var hP=l(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getSigV4AuthPlugin=Ye.getAwsAuthPlugin=Ye.awsAuthMiddlewareOptions=Ye.awsAuthMiddleware=void 0;var mP=ke(),SF=P_(),fP=uP(),PF=e=>(t,r)=>async function(n){var s,i,o,a;if(!mP.HttpRequest.isInstance(n.request))return t(n);let c=(o=(i=(s=r.endpointV2)===null||s===void 0?void 0:s.properties)===null||i===void 0?void 0:i.authSchemes)===null||o===void 0?void 0:o[0],d=c?.name==="sigv4a"?(a=c?.signingRegionSet)===null||a===void 0?void 0:a.join(","):void 0,u=await e.signer(c),f=await t({...n,request:await u.sign(n.request,{signingDate:(0,SF.getSkewCorrectedDate)(e.systemClockOffset),signingRegion:d||r.signing_region,signingService:r.signing_service})}).catch(m=>{var _;let g=(_=m.ServerTime)!==null&&_!==void 0?_:pP(m.$response);throw g&&(e.systemClockOffset=(0,fP.getUpdatedSystemClockOffset)(g,e.systemClockOffset)),m}),p=pP(f.response);return p&&(e.systemClockOffset=(0,fP.getUpdatedSystemClockOffset)(p,e.systemClockOffset)),f};Ye.awsAuthMiddleware=PF;var pP=e=>{var t,r,n;return mP.HttpResponse.isInstance(e)?(r=(t=e.headers)===null||t===void 0?void 0:t.date)!==null&&r!==void 0?r:(n=e.headers)===null||n===void 0?void 0:n.Date:void 0};Ye.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};var IF=e=>({applyToStack:t=>{t.addRelativeTo((0,Ye.awsAuthMiddleware)(e),Ye.awsAuthMiddlewareOptions)}});Ye.getAwsAuthPlugin=IF;Ye.getSigV4AuthPlugin=Ye.getAwsAuthPlugin});var J=l(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});var _P=A();_P.__exportStar(dP(),Fd);_P.__exportStar(hP(),Fd)});var yP=l(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.resolveUserAgentConfig=void 0;function bF(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Ud.resolveUserAgentConfig=bF});var gP=l((qie,AF)=>{AF.exports={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"}});var I_=l(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.getUserAgentPrefix=St.useDefaultPartitionInfo=St.setPartitionInfo=St.partition=void 0;var RF=A(),wP=RF.__importDefault(gP()),vP=wP.default,EP="",CF=e=>{let{partitions:t}=vP;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}};St.partition=CF;var TF=(e,t="")=>{vP=e,EP=t};St.setPartitionInfo=TF;var xF=()=>{(0,St.setPartitionInfo)(wP.default,"")};St.useDefaultPartitionInfo=xF;var qF=()=>EP;St.getUserAgentPrefix=qF});var SP=l($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.debugId=void 0;$d.debugId="endpoints"});var PP=l(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.toDebugString=void 0;function b_(e){return typeof e!="object"||e==null?e:"ref"in e?`$${b_(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(b_).join(", ")})`:JSON.stringify(e,null,2)}Hd.toDebugString=b_});var ii=l(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});var IP=A();IP.__exportStar(SP(),Gd);IP.__exportStar(PP(),Gd)});var bP=l(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.EndpointError=void 0;var A_=class extends Error{constructor(t){super(t),this.name="EndpointError"}};Bd.EndpointError=A_});var RP=l(AP=>{"use strict";Object.defineProperty(AP,"__esModule",{value:!0})});var TP=l(CP=>{"use strict";Object.defineProperty(CP,"__esModule",{value:!0})});var qP=l(xP=>{"use strict";Object.defineProperty(xP,"__esModule",{value:!0})});var NP=l(OP=>{"use strict";Object.defineProperty(OP,"__esModule",{value:!0})});var kP=l(MP=>{"use strict";Object.defineProperty(MP,"__esModule",{value:!0})});var dt=l(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});var ss=A();ss.__exportStar(bP(),jr);ss.__exportStar(RP(),jr);ss.__exportStar(TP(),jr);ss.__exportStar(qP(),jr);ss.__exportStar(NP(),jr);ss.__exportStar(kP(),jr)});var R_=l(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.isIpAddress=void 0;var OF=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),NF=e=>OF.test(e)||e.startsWith("[")&&e.endsWith("]");Vd.isIpAddress=NF});var C_=l(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.isValidHostLabel=void 0;var MF=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),kF=(e,t=!1)=>{if(!t)return MF.test(e);let r=e.split(".");for(let n of r)if(!(0,oi.isValidHostLabel)(n))return!1;return!0};oi.isValidHostLabel=kF});var DP=l(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.isVirtualHostableS3Bucket=void 0;var DF=R_(),jF=C_(),LF=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!(0,ai.isVirtualHostableS3Bucket)(r))return!1;return!0}return!(!(0,jF.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,DF.isIpAddress)(e))};ai.isVirtualHostableS3Bucket=LF});var jP=l(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.parseArn=void 0;var zF=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,s,i,o,...a]=t;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:i,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}};Wd.parseArn=zF});var LP=l(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});var T_=A();T_.__exportStar(DP(),ci);T_.__exportStar(jP(),ci);T_.__exportStar(I_(),ci)});var zP=l(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.booleanEquals=void 0;var FF=(e,t)=>e===t;Kd.booleanEquals=FF});var UP=l(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.getAttrPathList=void 0;var FP=dt(),UF=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new FP.EndpointError(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new FP.EndpointError(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r};Jd.getAttrPathList=UF});var $P=l(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.getAttr=void 0;var $F=dt(),HF=UP(),GF=(e,t)=>(0,HF.getAttrPathList)(t).reduce((r,n)=>{if(typeof r!="object")throw new $F.EndpointError(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);Yd.getAttr=GF});var HP=l(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.isSet=void 0;var BF=e=>e!=null;Xd.isSet=BF});var GP=l(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.not=void 0;var VF=e=>!e;Qd.not=VF});var VP=l(BP=>{"use strict";Object.defineProperty(BP,"__esModule",{value:!0})});var WP=l(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.HttpAuthLocation=void 0;var WF;(function(e){e.HEADER="header",e.QUERY="query"})(WF=di.HttpAuthLocation||(di.HttpAuthLocation={}))});var JP=l(KP=>{"use strict";Object.defineProperty(KP,"__esModule",{value:!0})});var XP=l(YP=>{"use strict";Object.defineProperty(YP,"__esModule",{value:!0})});var ZP=l(QP=>{"use strict";Object.defineProperty(QP,"__esModule",{value:!0})});var tI=l(eI=>{"use strict";Object.defineProperty(eI,"__esModule",{value:!0})});var nI=l(rI=>{"use strict";Object.defineProperty(rI,"__esModule",{value:!0})});var sI=l(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.HostAddressType=void 0;var KF;(function(e){e.AAAA="AAAA",e.A="A"})(KF=li.HostAddressType||(li.HostAddressType={}))});var iI=l(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.EndpointURLScheme=void 0;var JF;(function(e){e.HTTP="http",e.HTTPS="https"})(JF=ui.EndpointURLScheme||(ui.EndpointURLScheme={}))});var aI=l(oI=>{"use strict";Object.defineProperty(oI,"__esModule",{value:!0})});var dI=l(cI=>{"use strict";Object.defineProperty(cI,"__esModule",{value:!0})});var uI=l(lI=>{"use strict";Object.defineProperty(lI,"__esModule",{value:!0})});var pI=l(fI=>{"use strict";Object.defineProperty(fI,"__esModule",{value:!0})});var hI=l(mI=>{"use strict";Object.defineProperty(mI,"__esModule",{value:!0})});var yI=l(_I=>{"use strict";Object.defineProperty(_I,"__esModule",{value:!0})});var wI=l(gI=>{"use strict";Object.defineProperty(gI,"__esModule",{value:!0})});var vI=l(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var fi=A();fi.__exportStar(uI(),En);fi.__exportStar(pI(),En);fi.__exportStar(hI(),En);fi.__exportStar(yI(),En);fi.__exportStar(wI(),En)});var SI=l(EI=>{"use strict";Object.defineProperty(EI,"__esModule",{value:!0})});var II=l(PI=>{"use strict";Object.defineProperty(PI,"__esModule",{value:!0})});var AI=l(bI=>{"use strict";Object.defineProperty(bI,"__esModule",{value:!0})});var CI=l(RI=>{"use strict";Object.defineProperty(RI,"__esModule",{value:!0})});var xI=l(TI=>{"use strict";Object.defineProperty(TI,"__esModule",{value:!0})});var OI=l(qI=>{"use strict";Object.defineProperty(qI,"__esModule",{value:!0})});var MI=l(NI=>{"use strict";Object.defineProperty(NI,"__esModule",{value:!0})});var DI=l(kI=>{"use strict";Object.defineProperty(kI,"__esModule",{value:!0})});var LI=l(jI=>{"use strict";Object.defineProperty(jI,"__esModule",{value:!0})});var FI=l(zI=>{"use strict";Object.defineProperty(zI,"__esModule",{value:!0})});var $I=l(UI=>{"use strict";Object.defineProperty(UI,"__esModule",{value:!0})});var GI=l(HI=>{"use strict";Object.defineProperty(HI,"__esModule",{value:!0})});var VI=l(BI=>{"use strict";Object.defineProperty(BI,"__esModule",{value:!0})});var KI=l(WI=>{"use strict";Object.defineProperty(WI,"__esModule",{value:!0})});var YI=l(JI=>{"use strict";Object.defineProperty(JI,"__esModule",{value:!0})});var XI=l(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});var Y=A();Y.__exportStar(VP(),K);Y.__exportStar(WP(),K);Y.__exportStar(JP(),K);Y.__exportStar(XP(),K);Y.__exportStar(ZP(),K);Y.__exportStar(tI(),K);Y.__exportStar(nI(),K);Y.__exportStar(sI(),K);Y.__exportStar(iI(),K);Y.__exportStar(aI(),K);Y.__exportStar(dI(),K);Y.__exportStar(vI(),K);Y.__exportStar(SI(),K);Y.__exportStar(II(),K);Y.__exportStar(AI(),K);Y.__exportStar(CI(),K);Y.__exportStar(xI(),K);Y.__exportStar(OI(),K);Y.__exportStar(MI(),K);Y.__exportStar(DI(),K);Y.__exportStar(LI(),K);Y.__exportStar(FI(),K);Y.__exportStar($I(),K);Y.__exportStar(GI(),K);Y.__exportStar(VI(),K);Y.__exportStar(KI(),K);Y.__exportStar(YI(),K)});var QI=l(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.parseURL=void 0;var q_=XI(),YF=R_(),x_={[q_.EndpointURLScheme.HTTP]:80,[q_.EndpointURLScheme.HTTPS]:443},XF=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:p,port:m,protocol:_="",path:g="",query:y={}}=e,P=new URL(`${_}//${p}${m?`:${m}`:""}${g}`);return P.search=Object.entries(y).map(([N,M])=>`${N}=${M}`).join("&"),P}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(q_.EndpointURLScheme).includes(c))return null;let d=(0,YF.isIpAddress)(s),u=r.includes(`${n}:${x_[c]}`)||typeof e=="string"&&e.includes(`${n}:${x_[c]}`),f=`${n}${u?`:${x_[c]}`:""}`;return{scheme:c,authority:f,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:d}};Zd.parseURL=XF});var ZI=l(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.stringEquals=void 0;var QF=(e,t)=>e===t;el.stringEquals=QF});var eb=l(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.substring=void 0;var ZF=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);tl.substring=ZF});var tb=l(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.uriEncode=void 0;var eU=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);rl.uriEncode=eU});var O_=l(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.aws=void 0;var kt=A();Xe.aws=kt.__importStar(LP());kt.__exportStar(zP(),Xe);kt.__exportStar($P(),Xe);kt.__exportStar(HP(),Xe);kt.__exportStar(C_(),Xe);kt.__exportStar(GP(),Xe);kt.__exportStar(QI(),Xe);kt.__exportStar(ZI(),Xe);kt.__exportStar(eb(),Xe);kt.__exportStar(tb(),Xe)});var N_=l(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.evaluateTemplate=void 0;var tU=O_(),rU=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,d]=a.split("#");r.push((0,tU.getAttr)(n[c],d))}else r.push(n[a]);s=o+1}return r.join("")};nl.evaluateTemplate=rU});var rb=l(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.getReferenceValue=void 0;var nU=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];sl.getReferenceValue=nU});var pi=l(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.evaluateExpression=void 0;var sU=dt(),iU=M_(),oU=N_(),aU=rb(),cU=(e,t,r)=>{if(typeof e=="string")return(0,oU.evaluateTemplate)(e,r);if(e.fn)return(0,iU.callFunction)(e,r);if(e.ref)return(0,aU.getReferenceValue)(e,r);throw new sU.EndpointError(`'${t}': ${String(e)} is not a string, function or reference.`)};il.evaluateExpression=cU});var M_=l(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.callFunction=void 0;var dU=A(),lU=dU.__importStar(O_()),uU=pi(),fU=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:(0,uU.evaluateExpression)(s,"arg",r));return e.split(".").reduce((s,i)=>s[i],lU)(...n)};ol.callFunction=fU});var nb=l(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.evaluateCondition=void 0;var k_=ii(),pU=dt(),mU=M_(),hU=({assign:e,...t},r)=>{var n,s;if(e&&e in r.referenceRecord)throw new pU.EndpointError(`'${e}' is already defined in Reference Record.`);let i=(0,mU.callFunction)(t,r);return(s=(n=r.logger)===null||n===void 0?void 0:n.debug)===null||s===void 0||s.call(n,k_.debugId,`evaluateCondition: ${(0,k_.toDebugString)(t)} = ${(0,k_.toDebugString)(i)}`),{result:i===""?!0:!!i,...e!=null&&{toAssign:{name:e,value:i}}}};al.evaluateCondition=hU});var dl=l(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.evaluateConditions=void 0;var sb=ii(),_U=nb(),yU=(e=[],t)=>{var r,n;let s={};for(let i of e){let{result:o,toAssign:a}=(0,_U.evaluateCondition)(i,{...t,referenceRecord:{...t.referenceRecord,...s}});if(!o)return{result:o};a&&(s[a.name]=a.value,(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,sb.debugId,`assign: ${a.name} := ${(0,sb.toDebugString)(a.value)}`))}return{result:!0,referenceRecord:s}};cl.evaluateConditions=yU});var ib=l(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.getEndpointHeaders=void 0;var gU=dt(),wU=pi(),vU=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=(0,wU.evaluateExpression)(i,"Header value entry",t);if(typeof o!="string")throw new gU.EndpointError(`Header '${n}' value '${o}' is not a string`);return o})}),{});ll.getEndpointHeaders=vU});var ab=l(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.getEndpointProperty=void 0;var ob=dt(),EU=N_(),SU=D_(),PU=(e,t)=>{if(Array.isArray(e))return e.map(r=>(0,mi.getEndpointProperty)(r,t));switch(typeof e){case"string":return(0,EU.evaluateTemplate)(e,t);case"object":if(e===null)throw new ob.EndpointError(`Unexpected endpoint property: ${e}`);return(0,SU.getEndpointProperties)(e,t);case"boolean":return e;default:throw new ob.EndpointError(`Unexpected endpoint property type: ${typeof e}`)}};mi.getEndpointProperty=PU});var D_=l(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.getEndpointProperties=void 0;var IU=ab(),bU=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:(0,IU.getEndpointProperty)(s,t)}),{});ul.getEndpointProperties=bU});var cb=l(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.getEndpointUrl=void 0;var AU=dt(),RU=pi(),CU=(e,t)=>{let r=(0,RU.evaluateExpression)(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new AU.EndpointError(`Endpoint URL must be a string, got ${typeof r}`)};fl.getEndpointUrl=CU});var lb=l(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.evaluateEndpointRule=void 0;var db=ii(),TU=dl(),xU=ib(),qU=D_(),OU=cb(),NU=(e,t)=>{var r,n;let{conditions:s,endpoint:i}=e,{result:o,referenceRecord:a}=(0,TU.evaluateConditions)(s,t);if(!o)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:d,properties:u,headers:f}=i;return(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,db.debugId,`Resolving endpoint from template: ${(0,db.toDebugString)(i)}`),{...f!=null&&{headers:(0,xU.getEndpointHeaders)(f,c)},...u!=null&&{properties:(0,qU.getEndpointProperties)(u,c)},url:(0,OU.getEndpointUrl)(d,c)}};pl.evaluateEndpointRule=NU});var ub=l(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.evaluateErrorRule=void 0;var MU=dt(),kU=dl(),DU=pi(),jU=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=(0,kU.evaluateConditions)(r,t);if(!!s)throw new MU.EndpointError((0,DU.evaluateExpression)(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))};ml.evaluateErrorRule=jU});var fb=l(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.evaluateTreeRule=void 0;var LU=dl(),zU=j_(),FU=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=(0,LU.evaluateConditions)(r,t);if(!!s)return(0,zU.evaluateRules)(n,{...t,referenceRecord:{...t.referenceRecord,...i}})};hl.evaluateTreeRule=FU});var j_=l(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.evaluateRules=void 0;var pb=dt(),UU=lb(),$U=ub(),HU=fb(),GU=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=(0,UU.evaluateEndpointRule)(r,t);if(n)return n}else if(r.type==="error")(0,$U.evaluateErrorRule)(r,t);else if(r.type==="tree"){let n=(0,HU.evaluateTreeRule)(r,t);if(n)return n}else throw new pb.EndpointError(`Unknown endpoint rule: ${r}`);throw new pb.EndpointError("Rules evaluation failed")};_l.evaluateRules=GU});var mb=l(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});var BU=A();BU.__exportStar(j_(),L_)});var hb=l(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.resolveEndpoint=void 0;var yl=ii(),VU=dt(),WU=mb(),KU=(e,t)=>{var r,n,s,i,o,a;let{endpointParams:c,logger:d}=t,{parameters:u,rules:f}=e;(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,yl.debugId,`Initial EndpointParams: ${(0,yl.toDebugString)(c)}`);let p=Object.entries(u).filter(([,g])=>g.default!=null).map(([g,y])=>[g,y.default]);if(p.length>0)for(let[g,y]of p)c[g]=(s=c[g])!==null&&s!==void 0?s:y;let m=Object.entries(u).filter(([,g])=>g.required).map(([g])=>g);for(let g of m)if(c[g]==null)throw new VU.EndpointError(`Missing required parameter: '${g}'`);let _=(0,WU.evaluateRules)(f,{endpointParams:c,logger:d,referenceRecord:{}});if(!((i=t.endpointParams)===null||i===void 0)&&i.Endpoint)try{let g=new URL(t.endpointParams.Endpoint),{protocol:y,port:P}=g;_.url.protocol=y,_.url.port=P}catch{}return(a=(o=t.logger)===null||o===void 0?void 0:o.debug)===null||a===void 0||a.call(o,yl.debugId,`Resolved endpoint: ${(0,yl.toDebugString)(_)}`),_};gl.resolveEndpoint=KU});var is=l(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});var z_=A();z_.__exportStar(I_(),hi);z_.__exportStar(hb(),hi);z_.__exportStar(dt(),hi)});var _b=l(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.UA_ESCAPE_REGEX=Dt.SPACE=Dt.X_AMZ_USER_AGENT=Dt.USER_AGENT=void 0;Dt.USER_AGENT="user-agent";Dt.X_AMZ_USER_AGENT="x-amz-user-agent";Dt.SPACE=" ";Dt.UA_ESCAPE_REGEX=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g});var yb=l(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.getUserAgentPlugin=jt.getUserAgentMiddlewareOptions=jt.userAgentMiddleware=void 0;var JU=ke(),YU=is(),Lr=_b(),XU=e=>(t,r)=>async n=>{var s,i;let{request:o}=n;if(!JU.HttpRequest.isInstance(o))return t(n);let{headers:a}=o,c=((s=r?.userAgent)===null||s===void 0?void 0:s.map(F_))||[],d=(await e.defaultUserAgentProvider()).map(F_),u=((i=e?.customUserAgent)===null||i===void 0?void 0:i.map(F_))||[],f=(0,YU.getUserAgentPrefix)(),p=(f?[f]:[]).concat([...d,...c,...u]).join(Lr.SPACE),m=[...d.filter(_=>_.startsWith("aws-sdk-")),...u].join(Lr.SPACE);return e.runtime!=="browser"?(m&&(a[Lr.X_AMZ_USER_AGENT]=a[Lr.X_AMZ_USER_AGENT]?`${a[Lr.USER_AGENT]} ${m}`:m),a[Lr.USER_AGENT]=p):a[Lr.X_AMZ_USER_AGENT]=p,t({...n,request:o})};jt.userAgentMiddleware=XU;var F_=([e,t])=>{let r=e.indexOf("/"),n=e.substring(0,r),s=e.substring(r+1);return n==="api"&&(s=s.toLowerCase()),[n,s,t].filter(i=>i&&i.length>0).map(i=>i?.replace(Lr.UA_ESCAPE_REGEX,"_")).join("/")};jt.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var QU=e=>({applyToStack:t=>{t.add((0,jt.userAgentMiddleware)(e),jt.getUserAgentMiddlewareOptions)}});jt.getUserAgentPlugin=QU});var _i=l(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});var gb=A();gb.__exportStar(yP(),wl);gb.__exportStar(yb(),wl)});var wb=l(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.NoOpLogger=void 0;var U_=class{trace(){}debug(){}info(){}warn(){}error(){}};vl.NoOpLogger=U_});var Sb=l(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.constructStack=void 0;var ZU=()=>{let e=[],t=[],r=new Set,n=u=>u.sort((f,p)=>vb[p.step]-vb[f.step]||Eb[p.priority||"normal"]-Eb[f.priority||"normal"]),s=u=>{let f=!1,p=m=>m.name&&m.name===u?(f=!0,r.delete(u),!1):!0;return e=e.filter(p),t=t.filter(p),f},i=u=>{let f=!1,p=m=>m.middleware===u?(f=!0,m.name&&r.delete(m.name),!1):!0;return e=e.filter(p),t=t.filter(p),f},o=u=>(e.forEach(f=>{u.add(f.middleware,{...f})}),t.forEach(f=>{u.addRelativeTo(f.middleware,{...f})}),u),a=u=>{let f=[];return u.before.forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...a(p))}),f.push(u),u.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?f.push(p):f.push(...a(p))}),f},c=(u=!1)=>{let f=[],p=[],m={};return e.forEach(g=>{let y={...g,before:[],after:[]};y.name&&(m[y.name]=y),f.push(y)}),t.forEach(g=>{let y={...g,before:[],after:[]};y.name&&(m[y.name]=y),p.push(y)}),p.forEach(g=>{if(g.toMiddleware){let y=m[g.toMiddleware];if(y===void 0){if(u)return;throw new Error(`${g.toMiddleware} is not found when adding ${g.name||"anonymous"} middleware ${g.relation} ${g.toMiddleware}`)}g.relation==="after"&&y.after.push(g),g.relation==="before"&&y.before.push(g)}}),n(f).map(a).reduce((g,y)=>(g.push(...y),g),[])},d={add:(u,f={})=>{let{name:p,override:m}=f,_={step:"initialize",priority:"normal",middleware:u,...f};if(p){if(r.has(p)){if(!m)throw new Error(`Duplicate middleware name '${p}'`);let g=e.findIndex(P=>P.name===p),y=e[g];if(y.step!==_.step||y.priority!==_.priority)throw new Error(`"${p}" middleware with ${y.priority} priority in ${y.step} step cannot be overridden by same-name middleware with ${_.priority} priority in ${_.step} step.`);e.splice(g,1)}r.add(p)}e.push(_)},addRelativeTo:(u,f)=>{let{name:p,override:m}=f,_={middleware:u,...f};if(p){if(r.has(p)){if(!m)throw new Error(`Duplicate middleware name '${p}'`);let g=t.findIndex(P=>P.name===p),y=t[g];if(y.toMiddleware!==_.toMiddleware||y.relation!==_.relation)throw new Error(`"${p}" middleware ${y.relation} "${y.toMiddleware}" middleware cannot be overridden by same-name middleware ${_.relation} "${_.toMiddleware}" middleware.`);t.splice(g,1)}r.add(p)}t.push(_)},clone:()=>o((0,os.constructStack)()),use:u=>{u.applyToStack(d)},remove:u=>typeof u=="string"?s(u):i(u),removeByTag:u=>{let f=!1,p=m=>{let{tags:_,name:g}=m;return _&&_.includes(u)?(g&&r.delete(g),f=!0,!1):!0};return e=e.filter(p),t=t.filter(p),f},concat:u=>{let f=o((0,os.constructStack)());return f.use(u),f},applyToStack:o,identify:()=>c(!0).map(u=>u.name+": "+(u.tags||[]).join(",")),resolve:(u,f)=>{for(let p of c().map(m=>m.middleware).reverse())u=p(u,f);return u}};return d};os.constructStack=ZU;var vb={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Eb={high:3,normal:2,low:1}});var H_=l($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});var e$=A();e$.__exportStar(Sb(),$_)});var Pb=l(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.Client=void 0;var t$=H_(),G_=class{constructor(t){this.middlewareStack=(0,t$.constructStack)(),this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,s);if(i)o(t).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};El.Client=G_});var Ib=l(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.Command=void 0;var r$=H_(),B_=class{constructor(){this.middlewareStack=(0,r$.constructStack)()}};Sl.Command=B_});var bb=l(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.SENSITIVE_STRING=void 0;Pl.SENSITIVE_STRING="***SensitiveInformation***"});var W_=l(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.logger=b.strictParseByte=b.strictParseShort=b.strictParseInt32=b.strictParseInt=b.strictParseLong=b.limitedParseFloat32=b.limitedParseFloat=b.handleFloat=b.limitedParseDouble=b.strictParseFloat32=b.strictParseFloat=b.strictParseDouble=b.expectUnion=b.expectString=b.expectObject=b.expectNonNull=b.expectByte=b.expectShort=b.expectInt32=b.expectInt=b.expectLong=b.expectFloat32=b.expectNumber=b.expectBoolean=b.parseBoolean=void 0;var n$=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};b.parseBoolean=n$;var s$=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&b.logger.warn(Il(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&b.logger.warn(Il(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}};b.expectBoolean=s$;var i$=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&b.logger.warn(Il(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}};b.expectNumber=i$;var o$=Math.ceil(2**127*(2-2**-23)),a$=e=>{let t=(0,b.expectNumber)(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>o$)throw new TypeError(`Expected 32-bit float, got ${e}`);return t};b.expectFloat32=a$;var c$=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};b.expectLong=c$;b.expectInt=b.expectLong;var d$=e=>V_(e,32);b.expectInt32=d$;var l$=e=>V_(e,16);b.expectShort=l$;var u$=e=>V_(e,8);b.expectByte=u$;var V_=(e,t)=>{let r=(0,b.expectLong)(e);if(r!==void 0&&f$(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},f$=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},p$=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e};b.expectNonNull=p$;var m$=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)};b.expectObject=m$;var h$=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return b.logger.warn(Il(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};b.expectString=h$;var _$=e=>{if(e==null)return;let t=(0,b.expectObject)(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t};b.expectUnion=_$;var y$=e=>typeof e=="string"?(0,b.expectNumber)(as(e)):(0,b.expectNumber)(e);b.strictParseDouble=y$;b.strictParseFloat=b.strictParseDouble;var g$=e=>typeof e=="string"?(0,b.expectFloat32)(as(e)):(0,b.expectFloat32)(e);b.strictParseFloat32=g$;var w$=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,as=e=>{let t=e.match(w$);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},v$=e=>typeof e=="string"?Ab(e):(0,b.expectNumber)(e);b.limitedParseDouble=v$;b.handleFloat=b.limitedParseDouble;b.limitedParseFloat=b.limitedParseDouble;var E$=e=>typeof e=="string"?Ab(e):(0,b.expectFloat32)(e);b.limitedParseFloat32=E$;var Ab=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},S$=e=>typeof e=="string"?(0,b.expectLong)(as(e)):(0,b.expectLong)(e);b.strictParseLong=S$;b.strictParseInt=b.strictParseLong;var P$=e=>typeof e=="string"?(0,b.expectInt32)(as(e)):(0,b.expectInt32)(e);b.strictParseInt32=P$;var I$=e=>typeof e=="string"?(0,b.expectShort)(as(e)):(0,b.expectShort)(e);b.strictParseShort=I$;var b$=e=>typeof e=="string"?(0,b.expectByte)(as(e)):(0,b.expectByte)(e);b.strictParseByte=b$;var Il=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`);b.logger={warn:console.warn}});var Rb=l(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.parseEpochTimestamp=lt.parseRfc7231DateTime=lt.parseRfc3339DateTimeWithOffset=lt.parseRfc3339DateTime=lt.dateToUtcString=void 0;var zr=W_(),A$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],J_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R$(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,u=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`;return`${A$[n]}, ${c} ${J_[r]} ${t} ${d}:${u}:${f} GMT`}lt.dateToUtcString=R$;var C$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),T$=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=C$.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,d]=t,u=(0,zr.strictParseShort)(cs(n)),f=Lt(s,"month",1,12),p=Lt(i,"day",1,31);return yi(u,f,p,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d})};lt.parseRfc3339DateTime=T$;var x$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),q$=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=x$.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,d,u]=t,f=(0,zr.strictParseShort)(cs(n)),p=Lt(s,"month",1,12),m=Lt(i,"day",1,31),_=yi(f,p,m,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d});return u.toUpperCase()!="Z"&&_.setTime(_.getTime()-G$(u)),_};lt.parseRfc3339DateTimeWithOffset=q$;var O$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),N$=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),M$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),k$=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=O$.exec(e);if(t){let[r,n,s,i,o,a,c,d]=t;return yi((0,zr.strictParseShort)(cs(i)),K_(s),Lt(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=N$.exec(e),t){let[r,n,s,i,o,a,c,d]=t;return z$(yi(j$(i),K_(s),Lt(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=M$.exec(e),t){let[r,n,s,i,o,a,c,d]=t;return yi((0,zr.strictParseShort)(cs(d)),K_(n),Lt(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")};lt.parseRfc7231DateTime=k$;var D$=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=(0,zr.strictParseDouble)(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))};lt.parseEpochTimestamp=D$;var yi=(e,t,r,n)=>{let s=t-1;return U$(e,s,r),new Date(Date.UTC(e,s,r,Lt(n.hours,"hour",0,23),Lt(n.minutes,"minute",0,59),Lt(n.seconds,"seconds",0,60),H$(n.fractionalMilliseconds)))},j$=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+(0,zr.strictParseShort)(cs(e));return r<t?r+100:r},L$=50*365*24*60*60*1e3,z$=e=>e.getTime()-new Date().getTime()>L$?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,K_=e=>{let t=J_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},F$=[31,28,31,30,31,30,31,31,30,31,30,31],U$=(e,t,r)=>{let n=F$[t];if(t===1&&$$(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${J_[t]} in ${e}: ${r}`)},$$=e=>e%4===0&&(e%100!==0||e%400===0),Lt=(e,t,r,n)=>{let s=(0,zr.strictParseByte)(cs(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},H$=e=>e==null?0:(0,zr.strictParseFloat32)("0."+e)*1e3,G$=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},cs=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Y_=l(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.decorateServiceException=ds.ServiceException=void 0;var gi=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,gi.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};ds.ServiceException=gi;var B$=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};ds.decorateServiceException=B$});var Cb=l(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.throwDefaultError=void 0;var V$=Y_(),W$=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=K$(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw(0,V$.decorateServiceException)(o,t)};bl.throwDefaultError=W$;var K$=e=>{var t,r;return{httpStatusCode:e.statusCode,requestId:(r=(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"])!==null&&r!==void 0?r:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}});var Tb=l(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.loadConfigsForDefaultMode=void 0;var J$=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};Al.loadConfigsForDefaultMode=J$});var qb=l(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.emitWarningIfUnsupportedVersion=void 0;var xb=!1,Y$=e=>{e&&!xb&&parseInt(e.substring(1,e.indexOf(".")))<14&&(xb=!0)};Rl.emitWarningIfUnsupportedVersion=Y$});var X_=l(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.extendedEncodeURIComponent=void 0;function X$(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}Cl.extendedEncodeURIComponent=X$});var Ob=l(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.getArrayIfSingleItem=void 0;var Q$=e=>Array.isArray(e)?e:[e];Tl.getArrayIfSingleItem=Q$});var Nb=l(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.getValueFromTextNode=void 0;var Z$=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=(0,wi.getValueFromTextNode)(e[r]));return e};wi.getValueFromTextNode=Z$});var Mb=l(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.LazyJsonString=zt.StringWrapper=void 0;var eH=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};zt.StringWrapper=eH;zt.StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:zt.StringWrapper,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(zt.StringWrapper,String);var Sn=class extends zt.StringWrapper{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof Sn?t:t instanceof String||typeof t=="string"?new Sn(t):new Sn(JSON.stringify(t))}};zt.LazyJsonString=Sn});var Db=l(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.convertMap=ls.map=void 0;function kb(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,rH(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}let[a,c]=i[o];if(typeof c=="function"){let d,u=a===void 0&&(d=c())!=null,f=typeof a=="function"&&!!a(void 0)||typeof a!="function"&&!!a;u?n[o]=d:f&&(n[o]=c())}else{let d=a===void 0&&c!=null,u=typeof a=="function"&&!!a(c)||typeof a!="function"&&!!a;(d||u)&&(n[o]=c)}}return n}ls.map=kb;var tH=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t};ls.convertMap=tH;var rH=(e,t,r)=>kb(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{}))});var Lb=l(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.resolvedPath=void 0;var jb=X_(),nH=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>(0,jb.extendedEncodeURIComponent)(a)).join("/"):(0,jb.extendedEncodeURIComponent)(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};xl.resolvedPath=nH});var zb=l(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.serializeFloat=void 0;var sH=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};ql.serializeFloat=sH});var Fb=l(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.splitEvery=void 0;function iH(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}Ol.splitEvery=iH});var R=l(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});var Ee=A();Ee.__exportStar(wb(),ye);Ee.__exportStar(Pb(),ye);Ee.__exportStar(Ib(),ye);Ee.__exportStar(bb(),ye);Ee.__exportStar(Rb(),ye);Ee.__exportStar(Cb(),ye);Ee.__exportStar(Tb(),ye);Ee.__exportStar(qb(),ye);Ee.__exportStar(Y_(),ye);Ee.__exportStar(X_(),ye);Ee.__exportStar(Ob(),ye);Ee.__exportStar(Nb(),ye);Ee.__exportStar(Mb(),ye);Ee.__exportStar(Db(),ye);Ee.__exportStar(W_(),ye);Ee.__exportStar(Lb(),ye);Ee.__exportStar(zb(),ye);Ee.__exportStar(Fb(),ye)});var Ub=l(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.resolveClientEndpointParameters=void 0;var oH=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"});Nl.resolveClientEndpointParameters=oH});var $b=l((bae,aH)=>{aH.exports={name:"@aws-sdk/client-cognito-identity",description:"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",version:"3.295.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.295.0","@aws-sdk/config-resolver":"3.295.0","@aws-sdk/credential-provider-node":"3.295.0","@aws-sdk/fetch-http-handler":"3.295.0","@aws-sdk/hash-node":"3.295.0","@aws-sdk/invalid-dependency":"3.295.0","@aws-sdk/middleware-content-length":"3.295.0","@aws-sdk/middleware-endpoint":"3.295.0","@aws-sdk/middleware-host-header":"3.295.0","@aws-sdk/middleware-logger":"3.295.0","@aws-sdk/middleware-recursion-detection":"3.295.0","@aws-sdk/middleware-retry":"3.295.0","@aws-sdk/middleware-serde":"3.295.0","@aws-sdk/middleware-signing":"3.295.0","@aws-sdk/middleware-stack":"3.295.0","@aws-sdk/middleware-user-agent":"3.295.0","@aws-sdk/node-config-provider":"3.295.0","@aws-sdk/node-http-handler":"3.295.0","@aws-sdk/protocol-http":"3.295.0","@aws-sdk/smithy-client":"3.295.0","@aws-sdk/types":"3.295.0","@aws-sdk/url-parser":"3.295.0","@aws-sdk/util-base64":"3.295.0","@aws-sdk/util-body-length-browser":"3.295.0","@aws-sdk/util-body-length-node":"3.295.0","@aws-sdk/util-defaults-mode-browser":"3.295.0","@aws-sdk/util-defaults-mode-node":"3.295.0","@aws-sdk/util-endpoints":"3.295.0","@aws-sdk/util-retry":"3.295.0","@aws-sdk/util-user-agent-browser":"3.295.0","@aws-sdk/util-user-agent-node":"3.295.0","@aws-sdk/util-utf8":"3.295.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/client-iam":"3.295.0","@aws-sdk/service-client-documentation-generator":"3.295.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"}}});var kl=l(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.STSServiceException=void 0;var cH=R(),vi=class extends cH.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,vi.prototype)}};Ml.STSServiceException=vi});var Pt=l(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.GetSessionTokenResponseFilterSensitiveLog=q.GetSessionTokenRequestFilterSensitiveLog=q.GetFederationTokenResponseFilterSensitiveLog=q.FederatedUserFilterSensitiveLog=q.GetFederationTokenRequestFilterSensitiveLog=q.GetCallerIdentityResponseFilterSensitiveLog=q.GetCallerIdentityRequestFilterSensitiveLog=q.GetAccessKeyInfoResponseFilterSensitiveLog=q.GetAccessKeyInfoRequestFilterSensitiveLog=q.DecodeAuthorizationMessageResponseFilterSensitiveLog=q.DecodeAuthorizationMessageRequestFilterSensitiveLog=q.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=q.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=q.AssumeRoleWithSAMLResponseFilterSensitiveLog=q.AssumeRoleWithSAMLRequestFilterSensitiveLog=q.AssumeRoleResponseFilterSensitiveLog=q.CredentialsFilterSensitiveLog=q.AssumeRoleRequestFilterSensitiveLog=q.TagFilterSensitiveLog=q.PolicyDescriptorTypeFilterSensitiveLog=q.AssumedRoleUserFilterSensitiveLog=q.InvalidAuthorizationMessageException=q.IDPCommunicationErrorException=q.InvalidIdentityTokenException=q.IDPRejectedClaimException=q.RegionDisabledException=q.PackedPolicyTooLargeException=q.MalformedPolicyDocumentException=q.ExpiredTokenException=void 0;var Fr=kl(),Ei=class extends Fr.STSServiceException{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Ei.prototype)}};q.ExpiredTokenException=Ei;var Si=class extends Fr.STSServiceException{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Si.prototype)}};q.MalformedPolicyDocumentException=Si;var Pi=class extends Fr.STSServiceException{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Pi.prototype)}};q.PackedPolicyTooLargeException=Pi;var Ii=class extends Fr.STSServiceException{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Ii.prototype)}};q.RegionDisabledException=Ii;var bi=class extends Fr.STSServiceException{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,bi.prototype)}};q.IDPRejectedClaimException=bi;var Ai=class extends Fr.STSServiceException{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,Ai.prototype)}};q.InvalidIdentityTokenException=Ai;var Ri=class extends Fr.STSServiceException{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,Ri.prototype)}};q.IDPCommunicationErrorException=Ri;var Ci=class extends Fr.STSServiceException{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,Ci.prototype)}};q.InvalidAuthorizationMessageException=Ci;var dH=e=>({...e});q.AssumedRoleUserFilterSensitiveLog=dH;var lH=e=>({...e});q.PolicyDescriptorTypeFilterSensitiveLog=lH;var uH=e=>({...e});q.TagFilterSensitiveLog=uH;var fH=e=>({...e});q.AssumeRoleRequestFilterSensitiveLog=fH;var pH=e=>({...e});q.CredentialsFilterSensitiveLog=pH;var mH=e=>({...e});q.AssumeRoleResponseFilterSensitiveLog=mH;var hH=e=>({...e});q.AssumeRoleWithSAMLRequestFilterSensitiveLog=hH;var _H=e=>({...e});q.AssumeRoleWithSAMLResponseFilterSensitiveLog=_H;var yH=e=>({...e});q.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=yH;var gH=e=>({...e});q.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=gH;var wH=e=>({...e});q.DecodeAuthorizationMessageRequestFilterSensitiveLog=wH;var vH=e=>({...e});q.DecodeAuthorizationMessageResponseFilterSensitiveLog=vH;var EH=e=>({...e});q.GetAccessKeyInfoRequestFilterSensitiveLog=EH;var SH=e=>({...e});q.GetAccessKeyInfoResponseFilterSensitiveLog=SH;var PH=e=>({...e});q.GetCallerIdentityRequestFilterSensitiveLog=PH;var IH=e=>({...e});q.GetCallerIdentityResponseFilterSensitiveLog=IH;var bH=e=>({...e});q.GetFederationTokenRequestFilterSensitiveLog=bH;var AH=e=>({...e});q.FederatedUserFilterSensitiveLog=AH;var RH=e=>({...e});q.GetFederationTokenResponseFilterSensitiveLog=RH;var CH=e=>({...e});q.GetSessionTokenRequestFilterSensitiveLog=CH;var TH=e=>({...e});q.GetSessionTokenResponseFilterSensitiveLog=TH});var Q_=l(mr=>{"use strict";var Hb=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",xH=Hb+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Gb="["+Hb+"]["+xH+"]*",qH=new RegExp("^"+Gb+"$"),OH=function(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let o=0;o<i;o++)s.push(n[o]);r.push(s),n=t.exec(e)}return r},NH=function(e){let t=qH.exec(e);return!(t===null||typeof t>"u")};mr.isExist=function(e){return typeof e<"u"};mr.isEmptyObject=function(e){return Object.keys(e).length===0};mr.merge=function(e,t,r){if(t){let n=Object.keys(t),s=n.length;for(let i=0;i<s;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};mr.getValue=function(e){return mr.isExist(e)?e:""};mr.isName=NH;mr.getAllMatches=OH;mr.nameRegexp=Gb});var ey=l(Jb=>{"use strict";var Z_=Q_(),MH={allowBooleanAttributes:!1,unpairedTags:[]};Jb.validate=function(e,t){t=Object.assign({},MH,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=Vb(e,i),i.err)return i}else if(e[i]==="<"){let o=i;if(i++,e[i]==="!"){i=Wb(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!$H(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",ge("InvalidTag",f,Ge(e,i))}let d=jH(e,i);if(d===!1)return ge("InvalidAttr","Attributes for '"+c+"' have open quote.",Ge(e,i));let u=d.value;if(i=d.index,u[u.length-1]==="/"){let f=i-u.length;u=u.substring(0,u.length-1);let p=Kb(u,t);if(p===!0)n=!0;else return ge(p.err.code,p.err.msg,Ge(e,f+p.err.line))}else if(a)if(d.tagClosed){if(u.trim().length>0)return ge("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ge(e,o));{let f=r.pop();if(c!==f.tagName){let p=Ge(e,f.tagStartPos);return ge("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",Ge(e,o))}r.length==0&&(s=!0)}}else return ge("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ge(e,i));else{let f=Kb(u,t);if(f!==!0)return ge(f.err.code,f.err.msg,Ge(e,i-u.length+f.err.line));if(s===!0)return ge("InvalidXml","Multiple possible root nodes found.",Ge(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=Wb(e,i);continue}else if(e[i+1]==="?"){if(i=Vb(e,++i),i.err)return i}else break;else if(e[i]==="&"){let f=FH(e,i);if(f==-1)return ge("InvalidChar","char '&' is not expected.",Ge(e,i));i=f}else if(s===!0&&!Bb(e[i]))return ge("InvalidXml","Extra text at the end",Ge(e,i));e[i]==="<"&&i--}}else{if(Bb(e[i]))continue;return ge("InvalidChar","char '"+e[i]+"' is not expected.",Ge(e,i))}if(n){if(r.length==1)return ge("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ge(e,r[0].tagStartPos));if(r.length>0)return ge("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ge("InvalidXml","Start tag expected.",1);return!0};function Bb(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Vb(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ge("InvalidXml","XML declaration allowed only at the start of the document.",Ge(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Wb(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var kH='"',DH="'";function jH(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===kH||e[t]===DH)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}var LH=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Kb(e,t){let r=Z_.getAllMatches(e,LH),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return ge("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",Ti(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return ge("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",Ti(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return ge("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",Ti(r[s]));let i=r[s][2];if(!UH(i))return ge("InvalidAttr","Attribute '"+i+"' is an invalid name.",Ti(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return ge("InvalidAttr","Attribute '"+i+"' is repeated.",Ti(r[s]))}return!0}function zH(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function FH(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,zH(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ge(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function UH(e){return Z_.isName(e)}function $H(e){return Z_.isName(e)}function Ge(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Ti(e){return e.startIndex+e[1].length}});var Xb=l(ty=>{var Yb={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},HH=function(e){return Object.assign({},Yb,e)};ty.buildOptions=HH;ty.defaultOptions=Yb});var Zb=l((qae,Qb)=>{"use strict";var ry=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};Qb.exports=ry});var tA=l((Oae,eA)=>{function GH(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,i=!1,o=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!o){if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,i=!0;else if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")o=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(o?e[t-1]==="-"&&e[t-2]==="-"&&(o=!1,n--):(i&&(VH(a,r),i=!1),n--),n===0)break}else e[t]==="["?s=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}var BH=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function VH(e,t){let r=BH.exec(e);r&&(t[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}eA.exports=GH});var nA=l((Nae,rA)=>{var WH=/^[-+]?0x[a-fA-F0-9]+$/,KH=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var JH={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function YH(e,t={}){if(t=Object.assign({},JH,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&WH.test(r))return Number.parseInt(r,16);{let n=KH.exec(r);if(n){let s=n[1],i=n[2],o=XH(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&i.length>0&&s&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!s&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&o===""||d===o||s&&d==="-"+o?c:e:i?o===d||s+o===d?c:e:r===d||r===s+d?c:e}}else return e}}function XH(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}rA.exports=YH});var iA=l((kae,sA)=>{"use strict";var oy=Q_(),xi=Zb(),QH=tA(),ZH=nA(),Mae="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,oy.nameRegexp),ny=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=e2,this.parseXml=i2,this.parseTextData=t2,this.resolveNameSpace=r2,this.buildAttributesMap=s2,this.isItStopNode=c2,this.replaceEntitiesValue=o2,this.readStopNodeData=l2,this.saveTextToParentTag=a2}};function e2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function t2(e,t,r,n,s,i,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?iy(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?iy(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function r2(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var n2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function s2(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let r=oy.getAllMatches(e,n2),n=r.length,s={};for(let i=0;i<n;i++){let o=this.resolveNameSpace(r[i][1]),a=r[i][4],c=this.options.attributeNamePrefix+o;if(o.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(o,a,t);d==null?s[c]=a:typeof d!=typeof a||d!==a?s[c]=d:s[c]=iy(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}var i2=function(e){e=e.replace(/\r\n?/g,`
`);let t=new xi("!xml"),r=t,n="",s="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=Pn(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s)),s=s.substr(0,s.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=sy(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new xi(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s)),r.addChild(c)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=Pn(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=QH(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=Pn(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,s,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}i=a+2}else{let a=sy(e,i,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,u=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1)),c!==t.tagname&&(s+=s?"."+c:c);let p=r;if(p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,c)){let m="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let g=this.readStopNodeData(e,c,f+1);if(!g)throw new Error(`Unexpected end of ${c}`);i=g.i,m=g.tagContent}let _=new xi(c);c!==d&&u&&(_[":@"]=this.buildAttributesMap(d,s)),m&&(m=this.parseTextData(m,c,s,!0,u,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),_.add(this.options.textNodeName,m),r.addChild(_)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let m=new xi(c);c!==d&&u&&(m[":@"]=this.buildAttributesMap(d,s)),s=s.substr(0,s.lastIndexOf(".")),r.addChild(m)}else{let m=new xi(c);this.tagsNodeStack.push(r),c!==d&&u&&(m[":@"]=this.buildAttributesMap(d,s)),r.addChild(m),r=m}n="",i=f}}else n+=e[i];return t.child},o2=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function a2(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function c2(e,t,r){let n="*."+r;for(let s in e){let i=e[s];if(n===i||t===i)return!0}return!1}function d2(e,t,r=">"){let n,s="";for(let i=t;i<e.length;i++){let o=e[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function Pn(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function sy(e,t,r,n=">"){let s=d2(e,t+1,n);if(!s)return;let i=s.data,o=s.index,a=i.search(/\s/),c=i,d=!0;if(a!==-1&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1),d=c!==s.data.substr(u+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:d}}function l2(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=Pn(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=Pn(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Pn(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Pn(e,"]]>",r,"StopNode is not closed.")-2;else{let i=sy(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function iy(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:ZH(e,r)}else return oy.isExist(e)?e:""}sA.exports=ny});var cA=l(aA=>{"use strict";function u2(e,t){return oA(e,t)}function oA(e,t,r){let n,s={};for(let i=0;i<e.length;i++){let o=e[i],a=f2(o),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let d=oA(o[a],t,c),u=m2(d,t);o[":@"]?p2(d,o[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(d)):t.isArray(a,c,u)?s[a]=[d]:s[a]=d}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function f2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function p2(e,t,r,n){if(t){let s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){let a=s[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function m2(e,t){let r=Object.keys(e).length;return!!(r===0||r===1&&e[t.textNodeName])}aA.prettify=u2});var lA=l((jae,dA)=>{var{buildOptions:h2}=Xb(),_2=iA(),{prettify:y2}=cA(),g2=ey(),ay=class{constructor(t){this.externalEntities={},this.options=h2(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=g2.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new _2(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:y2(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};dA.exports=ay});var hA=l((Lae,mA)=>{var w2=`
`;function v2(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=w2),fA(e,t,"",r)}function fA(e,t,r,n){let s="",i=!1;for(let o=0;o<e.length;o++){let a=e[o],c=E2(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let _=a[c];S2(d,t)||(_=t.tagValueProcessor(c,_),_=pA(_,t)),i&&(s+=n),s+=_,i=!1;continue}else if(c===t.cdataPropName){i&&(s+=n),s+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,i=!1;continue}else if(c===t.commentPropName){s+=n+`<!--${a[c][0][t.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let _=uA(a[":@"],t),g=c==="?xml"?"":n,y=a[c][0][t.textNodeName];y=y.length!==0?" "+y:"",s+=g+`<${c}${y}${_}?>`,i=!0;continue}let u=n;u!==""&&(u+=t.indentBy);let f=uA(a[":@"],t),p=n+`<${c}${f}`,m=fA(a[c],t,d,u);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?s+=p+">":s+=p+"/>":(!m||m.length===0)&&t.suppressEmptyNode?s+=p+"/>":m&&m.endsWith(">")?s+=p+`>${m}${n}</${c}>`:(s+=p+">",m&&n!==""&&(m.includes("/>")||m.includes("</"))?s+=n+t.indentBy+m+n:s+=m,s+=`</${c}>`),i=!0}return s}function E2(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function uA(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let s=t.attributeValueProcessor(n,e[n]);s=pA(s,t),s===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${s}"`}return r}function S2(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function pA(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}mA.exports=v2});var yA=l((zae,_A)=>{"use strict";var P2=hA(),I2={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Ur(e){this.options=Object.assign({},I2,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=R2),this.processTextOrObjNode=b2,this.options.format?(this.indentate=A2,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Ur.prototype.build=function(e){return this.options.preserveOrder?P2(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Ur.prototype.j2x=function(e,t){let r="",n="";for(let s in e)if(!(typeof e[s]>"u"))if(e[s]===null)s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)n+=this.buildTextValNode(e[s],s,"",t);else if(typeof e[s]!="object"){let i=this.isAttribute(s);if(i)r+=this.buildAttrPairStr(i,""+e[s]);else if(s===this.options.textNodeName){let o=this.options.tagValueProcessor(s,""+e[s]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){let i=e[s].length;for(let o=0;o<i;o++){let a=e[s][o];typeof a>"u"||(a===null?s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,s,t):n+=this.buildTextValNode(a,s,"",t))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let i=Object.keys(e[s]),o=i.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(i[a],""+e[s][i[a]])}else n+=this.processTextOrObjNode(e[s],s,t);return{attrStr:r,val:n}};Ur.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function b2(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Ur.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",s=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+s:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+s}};Ur.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Ur.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+s+"</"+t+this.tagEndChar}};Ur.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function A2(e){return this.options.indentBy.repeat(e)}function R2(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}_A.exports=Ur});var wA=l((Fae,gA)=>{"use strict";var C2=ey(),T2=lA(),x2=yA();gA.exports={XMLParser:T2,XMLValidator:C2,XMLBuilder:x2}});var _r=l(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.deserializeAws_queryGetSessionTokenCommand=z.deserializeAws_queryGetFederationTokenCommand=z.deserializeAws_queryGetCallerIdentityCommand=z.deserializeAws_queryGetAccessKeyInfoCommand=z.deserializeAws_queryDecodeAuthorizationMessageCommand=z.deserializeAws_queryAssumeRoleWithWebIdentityCommand=z.deserializeAws_queryAssumeRoleWithSAMLCommand=z.deserializeAws_queryAssumeRoleCommand=z.serializeAws_queryGetSessionTokenCommand=z.serializeAws_queryGetFederationTokenCommand=z.serializeAws_queryGetCallerIdentityCommand=z.serializeAws_queryGetAccessKeyInfoCommand=z.serializeAws_queryDecodeAuthorizationMessageCommand=z.serializeAws_queryAssumeRoleWithWebIdentityCommand=z.serializeAws_queryAssumeRoleWithSAMLCommand=z.serializeAws_queryAssumeRoleCommand=void 0;var q2=ke(),O=R(),O2=wA(),$r=Pt(),Hr=kl(),N2=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Vr({...iG(e,t),Action:"AssumeRole",Version:"2011-06-15"}),Gr(t,r,"/",void 0,n)};z.serializeAws_queryAssumeRoleCommand=N2;var M2=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Vr({...oG(e,t),Action:"AssumeRoleWithSAML",Version:"2011-06-15"}),Gr(t,r,"/",void 0,n)};z.serializeAws_queryAssumeRoleWithSAMLCommand=M2;var k2=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Vr({...aG(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),Gr(t,r,"/",void 0,n)};z.serializeAws_queryAssumeRoleWithWebIdentityCommand=k2;var D2=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Vr({...cG(e,t),Action:"DecodeAuthorizationMessage",Version:"2011-06-15"}),Gr(t,r,"/",void 0,n)};z.serializeAws_queryDecodeAuthorizationMessageCommand=D2;var j2=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Vr({...dG(e,t),Action:"GetAccessKeyInfo",Version:"2011-06-15"}),Gr(t,r,"/",void 0,n)};z.serializeAws_queryGetAccessKeyInfoCommand=j2;var L2=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Vr({...lG(e,t),Action:"GetCallerIdentity",Version:"2011-06-15"}),Gr(t,r,"/",void 0,n)};z.serializeAws_queryGetCallerIdentityCommand=L2;var z2=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Vr({...uG(e,t),Action:"GetFederationToken",Version:"2011-06-15"}),Gr(t,r,"/",void 0,n)};z.serializeAws_queryGetFederationTokenCommand=z2;var F2=async(e,t)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Vr({...fG(e,t),Action:"GetSessionToken",Version:"2011-06-15"}),Gr(t,r,"/",void 0,n)};z.serializeAws_queryGetSessionTokenCommand=F2;var U2=async(e,t)=>{if(e.statusCode>=300)return $2(e,t);let r=await hr(e.body,t),n={};n=_G(r.AssumeRoleResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryAssumeRoleCommand=U2;var $2=async(e,t)=>{let r={...e,body:await Br(e.body,t)},n=Wr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await cy(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Dl(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await jl(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await qi(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Hr.STSServiceException,errorCode:n})}},H2=async(e,t)=>{if(e.statusCode>=300)return G2(e,t);let r=await hr(e.body,t),n={};n=yG(r.AssumeRoleWithSAMLResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryAssumeRoleWithSAMLCommand=H2;var G2=async(e,t)=>{let r={...e,body:await Br(e.body,t)},n=Wr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await cy(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await vA(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await EA(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Dl(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await jl(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await qi(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Hr.STSServiceException,errorCode:n})}},B2=async(e,t)=>{if(e.statusCode>=300)return V2(e,t);let r=await hr(e.body,t),n={};n=gG(r.AssumeRoleWithWebIdentityResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryAssumeRoleWithWebIdentityCommand=B2;var V2=async(e,t)=>{let r={...e,body:await Br(e.body,t)},n=Wr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await cy(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await nG(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await vA(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await EA(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Dl(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await jl(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await qi(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Hr.STSServiceException,errorCode:n})}},W2=async(e,t)=>{if(e.statusCode>=300)return K2(e,t);let r=await hr(e.body,t),n={};n=wG(r.DecodeAuthorizationMessageResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryDecodeAuthorizationMessageCommand=W2;var K2=async(e,t)=>{let r={...e,body:await Br(e.body,t)},n=Wr(e,r.body);switch(n){case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await sG(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Hr.STSServiceException,errorCode:n})}},J2=async(e,t)=>{if(e.statusCode>=300)return Y2(e,t);let r=await hr(e.body,t),n={};n=SG(r.GetAccessKeyInfoResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryGetAccessKeyInfoCommand=J2;var Y2=async(e,t)=>{let r={...e,body:await Br(e.body,t)},n=Wr(e,r.body),s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Hr.STSServiceException,errorCode:n})},X2=async(e,t)=>{if(e.statusCode>=300)return Q2(e,t);let r=await hr(e.body,t),n={};n=PG(r.GetCallerIdentityResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryGetCallerIdentityCommand=X2;var Q2=async(e,t)=>{let r={...e,body:await Br(e.body,t)},n=Wr(e,r.body),s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Hr.STSServiceException,errorCode:n})},Z2=async(e,t)=>{if(e.statusCode>=300)return eG(e,t);let r=await hr(e.body,t),n={};n=IG(r.GetFederationTokenResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryGetFederationTokenCommand=Z2;var eG=async(e,t)=>{let r={...e,body:await Br(e.body,t)},n=Wr(e,r.body);switch(n){case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Dl(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await jl(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await qi(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Hr.STSServiceException,errorCode:n})}},tG=async(e,t)=>{if(e.statusCode>=300)return rG(e,t);let r=await hr(e.body,t),n={};n=bG(r.GetSessionTokenResult,t);let s={$metadata:Te(e),...n};return Promise.resolve(s)};z.deserializeAws_queryGetSessionTokenCommand=tG;var rG=async(e,t)=>{let r={...e,body:await Br(e.body,t)},n=Wr(e,r.body);switch(n){case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await qi(r,t);default:let s=r.body;(0,O.throwDefaultError)({output:e,parsedBody:s.Error,exceptionCtor:Hr.STSServiceException,errorCode:n})}},cy=async(e,t)=>{let r=e.body,n=vG(r.Error,t),s=new $r.ExpiredTokenException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},nG=async(e,t)=>{let r=e.body,n=AG(r.Error,t),s=new $r.IDPCommunicationErrorException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},vA=async(e,t)=>{let r=e.body,n=RG(r.Error,t),s=new $r.IDPRejectedClaimException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},sG=async(e,t)=>{let r=e.body,n=CG(r.Error,t),s=new $r.InvalidAuthorizationMessageException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},EA=async(e,t)=>{let r=e.body,n=TG(r.Error,t),s=new $r.InvalidIdentityTokenException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},Dl=async(e,t)=>{let r=e.body,n=xG(r.Error,t),s=new $r.MalformedPolicyDocumentException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},jl=async(e,t)=>{let r=e.body,n=qG(r.Error,t),s=new $r.PackedPolicyTooLargeException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},qi=async(e,t)=>{let r=e.body,n=OG(r.Error,t),s=new $r.RegionDisabledException({$metadata:Te(e),...n});return(0,O.decorateServiceException)(s,r)},iG=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let n=Ll(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let n=SA(e.Tags,t);e.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e.TransitiveTagKeys!=null){let n=hG(e.TransitiveTagKeys,t);e.TransitiveTagKeys?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}return e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),r},oG=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.PrincipalArn!=null&&(r.PrincipalArn=e.PrincipalArn),e.SAMLAssertion!=null&&(r.SAMLAssertion=e.SAMLAssertion),e.PolicyArns!=null){let n=Ll(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r},aG=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let n=Ll(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r},cG=(e,t)=>{let r={};return e.EncodedMessage!=null&&(r.EncodedMessage=e.EncodedMessage),r},dG=(e,t)=>{let r={};return e.AccessKeyId!=null&&(r.AccessKeyId=e.AccessKeyId),r},lG=(e,t)=>({}),uG=(e,t)=>{let r={};if(e.Name!=null&&(r.Name=e.Name),e.Policy!=null&&(r.Policy=e.Policy),e.PolicyArns!=null){let n=Ll(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let n=SA(e.Tags,t);e.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}return r},fG=(e,t)=>{let r={};return e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),r},Ll=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=pG(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},pG=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},mG=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},hG=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},SA=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=mG(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},dy=(e,t)=>{let r={AssumedRoleId:void 0,Arn:void 0};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=(0,O.expectString)(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=(0,O.expectString)(e.Arn)),r},_G=(e,t)=>{let r={Credentials:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,SourceIdentity:void 0};return e.Credentials!==void 0&&(r.Credentials=Oi(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=dy(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,O.strictParseInt32)(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,O.expectString)(e.SourceIdentity)),r},yG=(e,t)=>{let r={Credentials:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,Subject:void 0,SubjectType:void 0,Issuer:void 0,Audience:void 0,NameQualifier:void 0,SourceIdentity:void 0};return e.Credentials!==void 0&&(r.Credentials=Oi(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=dy(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,O.strictParseInt32)(e.PackedPolicySize)),e.Subject!==void 0&&(r.Subject=(0,O.expectString)(e.Subject)),e.SubjectType!==void 0&&(r.SubjectType=(0,O.expectString)(e.SubjectType)),e.Issuer!==void 0&&(r.Issuer=(0,O.expectString)(e.Issuer)),e.Audience!==void 0&&(r.Audience=(0,O.expectString)(e.Audience)),e.NameQualifier!==void 0&&(r.NameQualifier=(0,O.expectString)(e.NameQualifier)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,O.expectString)(e.SourceIdentity)),r},gG=(e,t)=>{let r={Credentials:void 0,SubjectFromWebIdentityToken:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,Provider:void 0,Audience:void 0,SourceIdentity:void 0};return e.Credentials!==void 0&&(r.Credentials=Oi(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=(0,O.expectString)(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=dy(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,O.strictParseInt32)(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=(0,O.expectString)(e.Provider)),e.Audience!==void 0&&(r.Audience=(0,O.expectString)(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,O.expectString)(e.SourceIdentity)),r},Oi=(e,t)=>{let r={AccessKeyId:void 0,SecretAccessKey:void 0,SessionToken:void 0,Expiration:void 0};return e.AccessKeyId!==void 0&&(r.AccessKeyId=(0,O.expectString)(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=(0,O.expectString)(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=(0,O.expectString)(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=(0,O.expectNonNull)((0,O.parseRfc3339DateTimeWithOffset)(e.Expiration))),r},wG=(e,t)=>{let r={DecodedMessage:void 0};return e.DecodedMessage!==void 0&&(r.DecodedMessage=(0,O.expectString)(e.DecodedMessage)),r},vG=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},EG=(e,t)=>{let r={FederatedUserId:void 0,Arn:void 0};return e.FederatedUserId!==void 0&&(r.FederatedUserId=(0,O.expectString)(e.FederatedUserId)),e.Arn!==void 0&&(r.Arn=(0,O.expectString)(e.Arn)),r},SG=(e,t)=>{let r={Account:void 0};return e.Account!==void 0&&(r.Account=(0,O.expectString)(e.Account)),r},PG=(e,t)=>{let r={UserId:void 0,Account:void 0,Arn:void 0};return e.UserId!==void 0&&(r.UserId=(0,O.expectString)(e.UserId)),e.Account!==void 0&&(r.Account=(0,O.expectString)(e.Account)),e.Arn!==void 0&&(r.Arn=(0,O.expectString)(e.Arn)),r},IG=(e,t)=>{let r={Credentials:void 0,FederatedUser:void 0,PackedPolicySize:void 0};return e.Credentials!==void 0&&(r.Credentials=Oi(e.Credentials,t)),e.FederatedUser!==void 0&&(r.FederatedUser=EG(e.FederatedUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,O.strictParseInt32)(e.PackedPolicySize)),r},bG=(e,t)=>{let r={Credentials:void 0};return e.Credentials!==void 0&&(r.Credentials=Oi(e.Credentials,t)),r},AG=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},RG=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},CG=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},TG=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},xG=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},qG=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},OG=(e,t)=>{let r={message:void 0};return e.message!==void 0&&(r.message=(0,O.expectString)(e.message)),r},Te=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),NG=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),MG=(e,t)=>NG(e,t).then(r=>t.utf8Encoder(r)),Gr=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),d={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new q2.HttpRequest(d)},hr=(e,t)=>MG(e,t).then(r=>{if(r.length){let n=new O2.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),(0,O.getValueFromTextNode)(a)}return{}}),Br=async(e,t)=>{let r=await hr(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Vr=e=>Object.entries(e).map(([t,r])=>(0,O.extendedEncodeURIComponent)(t)+"="+(0,O.extendedEncodeURIComponent)(r)).join("&"),Wr=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var Fl=l(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.AssumeRoleCommand=void 0;var kG=k(),DG=j(),jG=J(),LG=R(),PA=Pt(),IA=_r(),Ni=class extends LG.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,DG.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,kG.getEndpointPlugin)(r,Ni.getEndpointParameterInstructions())),this.middlewareStack.use((0,jG.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:PA.AssumeRoleRequestFilterSensitiveLog,outputFilterSensitiveLog:PA.AssumeRoleResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,IA.serializeAws_queryAssumeRoleCommand)(t,r)}deserialize(t,r){return(0,IA.deserializeAws_queryAssumeRoleCommand)(t,r)}};zl.AssumeRoleCommand=Ni});var ly=l(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.AssumeRoleWithSAMLCommand=void 0;var zG=k(),FG=j(),UG=R(),bA=Pt(),AA=_r(),Mi=class extends UG.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,FG.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,zG.getEndpointPlugin)(r,Mi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleWithSAMLCommand",inputFilterSensitiveLog:bA.AssumeRoleWithSAMLRequestFilterSensitiveLog,outputFilterSensitiveLog:bA.AssumeRoleWithSAMLResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,AA.serializeAws_queryAssumeRoleWithSAMLCommand)(t,r)}deserialize(t,r){return(0,AA.deserializeAws_queryAssumeRoleWithSAMLCommand)(t,r)}};Ul.AssumeRoleWithSAMLCommand=Mi});var Hl=l($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.AssumeRoleWithWebIdentityCommand=void 0;var $G=k(),HG=j(),GG=R(),RA=Pt(),CA=_r(),ki=class extends GG.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,HG.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,$G.getEndpointPlugin)(r,ki.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:RA.AssumeRoleWithWebIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:RA.AssumeRoleWithWebIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,CA.serializeAws_queryAssumeRoleWithWebIdentityCommand)(t,r)}deserialize(t,r){return(0,CA.deserializeAws_queryAssumeRoleWithWebIdentityCommand)(t,r)}};$l.AssumeRoleWithWebIdentityCommand=ki});var uy=l(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.DecodeAuthorizationMessageCommand=void 0;var BG=k(),VG=j(),WG=J(),KG=R(),TA=Pt(),xA=_r(),Di=class extends KG.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,VG.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,BG.getEndpointPlugin)(r,Di.getEndpointParameterInstructions())),this.middlewareStack.use((0,WG.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"DecodeAuthorizationMessageCommand",inputFilterSensitiveLog:TA.DecodeAuthorizationMessageRequestFilterSensitiveLog,outputFilterSensitiveLog:TA.DecodeAuthorizationMessageResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,xA.serializeAws_queryDecodeAuthorizationMessageCommand)(t,r)}deserialize(t,r){return(0,xA.deserializeAws_queryDecodeAuthorizationMessageCommand)(t,r)}};Gl.DecodeAuthorizationMessageCommand=Di});var fy=l(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.GetAccessKeyInfoCommand=void 0;var JG=k(),YG=j(),XG=J(),QG=R(),qA=Pt(),OA=_r(),ji=class extends QG.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,YG.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,JG.getEndpointPlugin)(r,ji.getEndpointParameterInstructions())),this.middlewareStack.use((0,XG.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetAccessKeyInfoCommand",inputFilterSensitiveLog:qA.GetAccessKeyInfoRequestFilterSensitiveLog,outputFilterSensitiveLog:qA.GetAccessKeyInfoResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,OA.serializeAws_queryGetAccessKeyInfoCommand)(t,r)}deserialize(t,r){return(0,OA.deserializeAws_queryGetAccessKeyInfoCommand)(t,r)}};Bl.GetAccessKeyInfoCommand=ji});var py=l(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.GetCallerIdentityCommand=void 0;var ZG=k(),e3=j(),t3=J(),r3=R(),NA=Pt(),MA=_r(),Li=class extends r3.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,e3.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,ZG.getEndpointPlugin)(r,Li.getEndpointParameterInstructions())),this.middlewareStack.use((0,t3.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:NA.GetCallerIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:NA.GetCallerIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,MA.serializeAws_queryGetCallerIdentityCommand)(t,r)}deserialize(t,r){return(0,MA.deserializeAws_queryGetCallerIdentityCommand)(t,r)}};Vl.GetCallerIdentityCommand=Li});var my=l(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.GetFederationTokenCommand=void 0;var n3=k(),s3=j(),i3=J(),o3=R(),kA=Pt(),DA=_r(),zi=class extends o3.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,s3.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,n3.getEndpointPlugin)(r,zi.getEndpointParameterInstructions())),this.middlewareStack.use((0,i3.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetFederationTokenCommand",inputFilterSensitiveLog:kA.GetFederationTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:kA.GetFederationTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,DA.serializeAws_queryGetFederationTokenCommand)(t,r)}deserialize(t,r){return(0,DA.deserializeAws_queryGetFederationTokenCommand)(t,r)}};Wl.GetFederationTokenCommand=zi});var hy=l(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.GetSessionTokenCommand=void 0;var a3=k(),c3=j(),d3=J(),l3=R(),jA=Pt(),LA=_r(),Fi=class extends l3.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,c3.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,a3.getEndpointPlugin)(r,Fi.getEndpointParameterInstructions())),this.middlewareStack.use((0,d3.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetSessionTokenCommand",inputFilterSensitiveLog:jA.GetSessionTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:jA.GetSessionTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,LA.serializeAws_queryGetSessionTokenCommand)(t,r)}deserialize(t,r){return(0,LA.deserializeAws_queryGetSessionTokenCommand)(t,r)}};Kl.GetSessionTokenCommand=Fi});var zA=l(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.resolveStsAuthConfig=void 0;var u3=J(),f3=(e,{stsClientCtor:t})=>(0,u3.resolveAwsAuthConfig)({...e,stsClientCtor:t});Jl.resolveStsAuthConfig=f3});var FA=l(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.resolveClientEndpointParameters=void 0;var p3=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});Yl.resolveClientEndpointParameters=p3});var UA=l((Qae,m3)=>{m3.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.295.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.295.0","@aws-sdk/credential-provider-node":"3.295.0","@aws-sdk/fetch-http-handler":"3.295.0","@aws-sdk/hash-node":"3.295.0","@aws-sdk/invalid-dependency":"3.295.0","@aws-sdk/middleware-content-length":"3.295.0","@aws-sdk/middleware-endpoint":"3.295.0","@aws-sdk/middleware-host-header":"3.295.0","@aws-sdk/middleware-logger":"3.295.0","@aws-sdk/middleware-recursion-detection":"3.295.0","@aws-sdk/middleware-retry":"3.295.0","@aws-sdk/middleware-sdk-sts":"3.295.0","@aws-sdk/middleware-serde":"3.295.0","@aws-sdk/middleware-signing":"3.295.0","@aws-sdk/middleware-stack":"3.295.0","@aws-sdk/middleware-user-agent":"3.295.0","@aws-sdk/node-config-provider":"3.295.0","@aws-sdk/node-http-handler":"3.295.0","@aws-sdk/protocol-http":"3.295.0","@aws-sdk/smithy-client":"3.295.0","@aws-sdk/types":"3.295.0","@aws-sdk/url-parser":"3.295.0","@aws-sdk/util-base64":"3.295.0","@aws-sdk/util-body-length-browser":"3.295.0","@aws-sdk/util-body-length-node":"3.295.0","@aws-sdk/util-defaults-mode-browser":"3.295.0","@aws-sdk/util-defaults-mode-node":"3.295.0","@aws-sdk/util-endpoints":"3.295.0","@aws-sdk/util-retry":"3.295.0","@aws-sdk/util-user-agent-browser":"3.295.0","@aws-sdk/util-user-agent-node":"3.295.0","@aws-sdk/util-utf8":"3.295.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.295.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var _y=l(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.decorateDefaultCredentialProvider=Ft.getDefaultRoleAssumerWithWebIdentity=Ft.getDefaultRoleAssumer=void 0;var h3=Fl(),_3=Hl(),$A="us-east-1",HA=e=>typeof e!="function"?e===void 0?$A:e:async()=>{try{return await e()}catch{return $A}},y3=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:HA(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:o}=await r.send(new h3.AssumeRoleCommand(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}};Ft.getDefaultRoleAssumer=y3;var g3=(e,t)=>{let r;return async n=>{if(!r){let{logger:i,region:o,requestHandler:a}=e;r=new t({logger:i,region:HA(o||e.region),...a?{requestHandler:a}:{}})}let{Credentials:s}=await r.send(new _3.AssumeRoleWithWebIdentityCommand(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};Ft.getDefaultRoleAssumerWithWebIdentity=g3;var w3=e=>t=>e({roleAssumer:(0,Ft.getDefaultRoleAssumer)(t,t.stsClientCtor),roleAssumerWithWebIdentity:(0,Ft.getDefaultRoleAssumerWithWebIdentity)(t,t.stsClientCtor),...t});Ft.decorateDefaultCredentialProvider=w3});var GA=l(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.fromEnv=xe.ENV_EXPIRATION=xe.ENV_SESSION=xe.ENV_SECRET=xe.ENV_KEY=void 0;var v3=V();xe.ENV_KEY="AWS_ACCESS_KEY_ID";xe.ENV_SECRET="AWS_SECRET_ACCESS_KEY";xe.ENV_SESSION="AWS_SESSION_TOKEN";xe.ENV_EXPIRATION="AWS_CREDENTIAL_EXPIRATION";var E3=()=>async()=>{let e=process.env[xe.ENV_KEY],t=process.env[xe.ENV_SECRET],r=process.env[xe.ENV_SESSION],n=process.env[xe.ENV_EXPIRATION];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new v3.CredentialsProviderError("Unable to find environment variable credentials.")};xe.fromEnv=E3});var Xl=l(yy=>{"use strict";Object.defineProperty(yy,"__esModule",{value:!0});var S3=A();S3.__exportStar(GA(),yy)});var Ui=l(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.getHomeDir=void 0;var P3=require("os"),I3=require("path"),b3=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${I3.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,P3.homedir)())};Ql.getHomeDir=b3});var BA=l(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.getProfileName=Ut.DEFAULT_PROFILE=Ut.ENV_PROFILE=void 0;Ut.ENV_PROFILE="AWS_PROFILE";Ut.DEFAULT_PROFILE="default";var A3=e=>e.profile||process.env[Ut.ENV_PROFILE]||Ut.DEFAULT_PROFILE;Ut.getProfileName=A3});var gy=l(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.getSSOTokenFilepath=void 0;var R3=require("crypto"),C3=require("path"),T3=Ui(),x3=e=>{let r=(0,R3.createHash)("sha1").update(e).digest("hex");return(0,C3.join)((0,T3.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Zl.getSSOTokenFilepath=x3});var VA=l(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.getSSOTokenFromFile=void 0;var q3=require("fs"),O3=gy(),{readFile:N3}=q3.promises,M3=async e=>{let t=(0,O3.getSSOTokenFilepath)(e),r=await N3(t,"utf8");return JSON.parse(r)};eu.getSSOTokenFromFile=M3});var wy=l(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.getConfigFilepath=In.ENV_CONFIG_PATH=void 0;var k3=require("path"),D3=Ui();In.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var j3=()=>process.env[In.ENV_CONFIG_PATH]||(0,k3.join)((0,D3.getHomeDir)(),".aws","config");In.getConfigFilepath=j3});var WA=l(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.getCredentialsFilepath=bn.ENV_CREDENTIALS_PATH=void 0;var L3=require("path"),z3=Ui();bn.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var F3=()=>process.env[bn.ENV_CREDENTIALS_PATH]||(0,L3.join)((0,z3.getHomeDir)(),".aws","credentials");bn.getCredentialsFilepath=F3});var JA=l(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.getProfileData=void 0;var KA=/^profile\s(["'])?([^\1]+)\1$/,U3=e=>Object.entries(e).filter(([t])=>KA.test(t)).reduce((t,[r,n])=>({...t,[KA.exec(r)[2]]:n}),{...e.default&&{default:e.default}});tu.getProfileData=U3});var vy=l(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.parseIni=void 0;var $3=["__proto__","profile __proto__"],H3=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),$3.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let i=n.indexOf("="),o=0,a=n.length-1;if(i!==-1&&i!==o&&i!==a){let[d,u]=[n.substring(0,i).trim(),n.substring(i+1).trim()];t[r]=t[r]||{},t[r][d]=u}}return t};ru.parseIni=H3});var Sy=l(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.slurpFile=void 0;var G3=require("fs"),{readFile:B3}=G3.promises,Ey={},V3=(e,t)=>((!Ey[e]||t?.ignoreCache)&&(Ey[e]=B3(e,"utf8")),Ey[e]);nu.slurpFile=V3});var Py=l(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.loadSharedConfigFiles=void 0;var W3=wy(),K3=WA(),J3=JA(),YA=vy(),XA=Sy(),QA=()=>({}),Y3=async(e={})=>{let{filepath:t=(0,K3.getCredentialsFilepath)(),configFilepath:r=(0,W3.getConfigFilepath)()}=e,n=await Promise.all([(0,XA.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(YA.parseIni).then(J3.getProfileData).catch(QA),(0,XA.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(YA.parseIni).catch(QA)]);return{configFile:n[0],credentialsFile:n[1]}};su.loadSharedConfigFiles=Y3});var eR=l(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.getSsoSessionData=void 0;var ZA=/^sso-session\s(["'])?([^\1]+)\1$/,X3=e=>Object.entries(e).filter(([t])=>ZA.test(t)).reduce((t,[r,n])=>({...t,[ZA.exec(r)[2]]:n}),{});iu.getSsoSessionData=X3});var tR=l(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.loadSsoSessionData=void 0;var Q3=wy(),Z3=eR(),eB=vy(),tB=Sy(),rB=()=>({}),nB=async(e={})=>{var t;return(0,tB.slurpFile)((t=e.configFilepath)!==null&&t!==void 0?t:(0,Q3.getConfigFilepath)()).then(eB.parseIni).then(Z3.getSsoSessionData).catch(rB)};ou.loadSsoSessionData=nB});var rR=l(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.parseKnownFiles=void 0;var sB=Py(),iB=async e=>{let t=await(0,sB.loadSharedConfigFiles)(e);return{...t.configFile,...t.credentialsFile}};au.parseKnownFiles=iB});var sR=l(nR=>{"use strict";Object.defineProperty(nR,"__esModule",{value:!0})});var Ht=l($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});var Kr=A();Kr.__exportStar(Ui(),$t);Kr.__exportStar(BA(),$t);Kr.__exportStar(gy(),$t);Kr.__exportStar(VA(),$t);Kr.__exportStar(Py(),$t);Kr.__exportStar(tR(),$t);Kr.__exportStar(rR(),$t);Kr.__exportStar(sR(),$t)});var du=l(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.httpRequest=void 0;var Iy=V(),oB=require("buffer"),aB=require("http");function cB(e){return new Promise((t,r)=>{var n;let s=(0,aB.request)({method:"GET",...e,hostname:(n=e.hostname)===null||n===void 0?void 0:n.replace(/^\[(.+)\]$/,"$1")});s.on("error",i=>{r(Object.assign(new Iy.ProviderError("Unable to connect to instance metadata service"),i)),s.destroy()}),s.on("timeout",()=>{r(new Iy.ProviderError("TimeoutError from instance metadata service")),s.destroy()}),s.on("response",i=>{let{statusCode:o=400}=i;(o<200||300<=o)&&(r(Object.assign(new Iy.ProviderError("Error response received from instance metadata service"),{statusCode:o})),s.destroy());let a=[];i.on("data",c=>{a.push(c)}),i.on("end",()=>{t(oB.Buffer.concat(a)),s.destroy()})}),s.end()})}cu.httpRequest=cB});var by=l(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.fromImdsCredentials=us.isImdsCredentials=void 0;var dB=e=>Boolean(e)&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string";us.isImdsCredentials=dB;var lB=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});us.fromImdsCredentials=lB});var lu=l(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.providerConfigFromInit=Gt.DEFAULT_MAX_RETRIES=Gt.DEFAULT_TIMEOUT=void 0;Gt.DEFAULT_TIMEOUT=1e3;Gt.DEFAULT_MAX_RETRIES=0;var uB=({maxRetries:e=Gt.DEFAULT_MAX_RETRIES,timeout:t=Gt.DEFAULT_TIMEOUT})=>({maxRetries:e,timeout:t});Gt.providerConfigFromInit=uB});var Ay=l(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.retry=void 0;var fB=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r};uu.retry=fB});var oR=l(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.fromContainerMetadata=Se.ENV_CMDS_AUTH_TOKEN=Se.ENV_CMDS_RELATIVE_URI=Se.ENV_CMDS_FULL_URI=void 0;var fu=V(),pB=require("url"),mB=du(),iR=by(),hB=lu(),_B=Ay();Se.ENV_CMDS_FULL_URI="AWS_CONTAINER_CREDENTIALS_FULL_URI";Se.ENV_CMDS_RELATIVE_URI="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI";Se.ENV_CMDS_AUTH_TOKEN="AWS_CONTAINER_AUTHORIZATION_TOKEN";var yB=(e={})=>{let{timeout:t,maxRetries:r}=(0,hB.providerConfigFromInit)(e);return()=>(0,_B.retry)(async()=>{let n=await SB(),s=JSON.parse(await gB(t,n));if(!(0,iR.isImdsCredentials)(s))throw new fu.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,iR.fromImdsCredentials)(s)},r)};Se.fromContainerMetadata=yB;var gB=async(e,t)=>(process.env[Se.ENV_CMDS_AUTH_TOKEN]&&(t.headers={...t.headers,Authorization:process.env[Se.ENV_CMDS_AUTH_TOKEN]}),(await(0,mB.httpRequest)({...t,timeout:e})).toString()),wB="169.254.170.2",vB={localhost:!0,"127.0.0.1":!0},EB={"http:":!0,"https:":!0},SB=async()=>{if(process.env[Se.ENV_CMDS_RELATIVE_URI])return{hostname:wB,path:process.env[Se.ENV_CMDS_RELATIVE_URI]};if(process.env[Se.ENV_CMDS_FULL_URI]){let e=(0,pB.parse)(process.env[Se.ENV_CMDS_FULL_URI]);if(!e.hostname||!(e.hostname in vB))throw new fu.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in EB))throw new fu.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new fu.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Se.ENV_CMDS_RELATIVE_URI} or ${Se.ENV_CMDS_FULL_URI} environment variable is set`,!1)}});var aR=l(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.fromEnv=void 0;var PB=V(),IB=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new PB.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}};pu.fromEnv=IB});var dR=l(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.fromSharedConfigFiles=void 0;var bB=V(),cR=Ht(),AB=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,cR.getProfileName)(r),{configFile:s,credentialsFile:i}=await(0,cR.loadSharedConfigFiles)(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let d=e(c);if(d===void 0)throw new Error;return d}catch(d){throw new bB.CredentialsProviderError(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};mu.fromSharedConfigFiles=AB});var lR=l(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.fromStatic=void 0;var RB=V(),CB=e=>typeof e=="function",TB=e=>CB(e)?async()=>await e():(0,RB.fromStatic)(e);hu.fromStatic=TB});var fR=l(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.loadConfig=void 0;var uR=V(),xB=aR(),qB=dR(),OB=lR(),NB=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,uR.memoize)((0,uR.chain)((0,xB.fromEnv)(e),(0,qB.fromSharedConfigFiles)(t,n),(0,OB.fromStatic)(r)));_u.loadConfig=NB});var Jr=l(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0});var MB=A();MB.__exportStar(fR(),Ry)});var pR=l($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.Endpoint=void 0;var kB;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(kB=$i.Endpoint||($i.Endpoint={}))});var mR=l(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.ENDPOINT_CONFIG_OPTIONS=Bt.CONFIG_ENDPOINT_NAME=Bt.ENV_ENDPOINT_NAME=void 0;Bt.ENV_ENDPOINT_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT";Bt.CONFIG_ENDPOINT_NAME="ec2_metadata_service_endpoint";Bt.ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>e[Bt.ENV_ENDPOINT_NAME],configFileSelector:e=>e[Bt.CONFIG_ENDPOINT_NAME],default:void 0}});var Cy=l(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.EndpointMode=void 0;var DB;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(DB=Hi.EndpointMode||(Hi.EndpointMode={}))});var hR=l(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.ENDPOINT_MODE_CONFIG_OPTIONS=Vt.CONFIG_ENDPOINT_MODE_NAME=Vt.ENV_ENDPOINT_MODE_NAME=void 0;var jB=Cy();Vt.ENV_ENDPOINT_MODE_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE";Vt.CONFIG_ENDPOINT_MODE_NAME="ec2_metadata_service_endpoint_mode";Vt.ENDPOINT_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[Vt.ENV_ENDPOINT_MODE_NAME],configFileSelector:e=>e[Vt.CONFIG_ENDPOINT_MODE_NAME],default:jB.EndpointMode.IPv4}});var xy=l(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.getInstanceMetadataEndpoint=void 0;var yR=Jr(),LB=_n(),_R=pR(),zB=mR(),Ty=Cy(),FB=hR(),UB=async()=>(0,LB.parseUrl)(await $B()||await HB());yu.getInstanceMetadataEndpoint=UB;var $B=async()=>(0,yR.loadConfig)(zB.ENDPOINT_CONFIG_OPTIONS)(),HB=async()=>{let e=await(0,yR.loadConfig)(FB.ENDPOINT_MODE_CONFIG_OPTIONS)();switch(e){case Ty.EndpointMode.IPv4:return _R.Endpoint.IPv4;case Ty.EndpointMode.IPv6:return _R.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Ty.EndpointMode)}`)}}});var gR=l(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.getExtendedInstanceMetadataCredentials=void 0;var GB=5*60,BB=5*60,VB="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",WB=(e,t)=>{var r;let n=GB+Math.floor(Math.random()*BB),s=new Date(Date.now()+n*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+VB);let i=(r=e.originalExpiration)!==null&&r!==void 0?r:e.expiration;return{...e,...i?{originalExpiration:i}:{},expiration:s}};gu.getExtendedInstanceMetadataCredentials=WB});var vR=l(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.staticStabilityProvider=void 0;var wR=gR(),KB=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=(0,wR.getExtendedInstanceMetadataCredentials)(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=(0,wR.getExtendedInstanceMetadataCredentials)(n,r);else throw i}return n=s,s}};wu.staticStabilityProvider=KB});var IR=l(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.fromInstanceMetadata=void 0;var JB=V(),qy=du(),ER=by(),YB=lu(),SR=Ay(),XB=xy(),QB=vR(),PR="/latest/meta-data/iam/security-credentials/",ZB="/latest/api/token",eV=(e={})=>(0,QB.staticStabilityProvider)(tV(e),{logger:e.logger});vu.fromInstanceMetadata=eV;var tV=e=>{let t=!1,{timeout:r,maxRetries:n}=(0,YB.providerConfigFromInit)(e),s=async(i,o)=>{let a=(await(0,SR.retry)(async()=>{let c;try{c=await nV(o)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},i)).trim();return(0,SR.retry)(async()=>{let c;try{c=await sV(a,o)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},i)};return async()=>{let i=await(0,XB.getInstanceMetadataEndpoint)();if(t)return s(n,{...i,timeout:r});{let o;try{o=(await rV({...i,timeout:r})).toString()}catch(a){if(a?.statusCode===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(t=!0),s(n,{...i,timeout:r})}return s(n,{...i,headers:{"x-aws-ec2-metadata-token":o},timeout:r})}}},rV=async e=>(0,qy.httpRequest)({...e,path:ZB,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),nV=async e=>(await(0,qy.httpRequest)({...e,path:PR})).toString(),sV=async(e,t)=>{let r=JSON.parse((await(0,qy.httpRequest)({...t,path:PR+e})).toString());if(!(0,ER.isImdsCredentials)(r))throw new JB.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,ER.fromImdsCredentials)(r)}});var AR=l(bR=>{"use strict";Object.defineProperty(bR,"__esModule",{value:!0})});var fs=l(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.getInstanceMetadataEndpoint=Wt.httpRequest=void 0;var Eu=A();Eu.__exportStar(oR(),Wt);Eu.__exportStar(IR(),Wt);Eu.__exportStar(lu(),Wt);Eu.__exportStar(AR(),Wt);var iV=du();Object.defineProperty(Wt,"httpRequest",{enumerable:!0,get:function(){return iV.httpRequest}});var oV=xy();Object.defineProperty(Wt,"getInstanceMetadataEndpoint",{enumerable:!0,get:function(){return oV.getInstanceMetadataEndpoint}})});var CR=l(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.resolveCredentialSource=void 0;var aV=Xl(),RR=fs(),cV=V(),dV=(e,t)=>{let r={EcsContainer:RR.fromContainerMetadata,Ec2InstanceMetadata:RR.fromInstanceMetadata,Environment:aV.fromEnv};if(e in r)return r[e]();throw new cV.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};Su.resolveCredentialSource=dV});var TR=l(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.resolveAssumeRoleCredentials=ps.isAssumeRoleProfile=void 0;var Oy=V(),lV=Ht(),uV=CR(),fV=Ny(),pV=e=>Boolean(e)&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(mV(e)||hV(e));ps.isAssumeRoleProfile=pV;var mV=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",hV=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",_V=async(e,t,r,n={})=>{let s=t[e];if(!r.roleAssumer)throw new Oy.CredentialsProviderError(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:i}=s;if(i&&i in n)throw new Oy.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,lV.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let o=i?(0,fV.resolveProfileData)(i,t,r,{...n,[i]:!0}):(0,uV.resolveCredentialSource)(s.credential_source,e)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:c}=s;if(c){if(!r.mfaCodeProvider)throw new Oy.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await o;return r.roleAssumer(d,a)};ps.resolveAssumeRoleCredentials=_V});var xR=l(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.getValidatedProcessCredentials=void 0;var yV=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};Pu.getValidatedProcessCredentials=yV});var qR=l(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.resolveProcessCredentials=void 0;var My=V(),gV=require("child_process"),wV=require("util"),vV=xR(),EV=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let s=(0,wV.promisify)(gV.exec);try{let{stdout:i}=await s(n),o;try{o=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return(0,vV.getValidatedProcessCredentials)(e,o)}catch(i){throw new My.CredentialsProviderError(i.message)}}else throw new My.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new My.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)};Iu.resolveProcessCredentials=EV});var NR=l(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.fromProcess=void 0;var OR=Ht(),SV=qR(),PV=(e={})=>async()=>{let t=await(0,OR.parseKnownFiles)(e);return(0,SV.resolveProcessCredentials)((0,OR.getProfileName)(e),t)};bu.fromProcess=PV});var Au=l(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});var IV=A();IV.__exportStar(NR(),ky)});var MR=l(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.resolveProcessCredentials=ms.isProcessProfile=void 0;var bV=Au(),AV=e=>Boolean(e)&&typeof e=="object"&&typeof e.credential_process=="string";ms.isProcessProfile=AV;var RV=async(e,t)=>(0,bV.fromProcess)({...e,profile:t})();ms.resolveProcessCredentials=RV});var Dy=l(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.isSsoProfile=void 0;var CV=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");Ru.isSsoProfile=CV});var Tu=l(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.SSOServiceException=void 0;var TV=R(),Gi=class extends TV.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Gi.prototype)}};Cu.SSOServiceException=Gi});var An=l(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.LogoutRequestFilterSensitiveLog=H.ListAccountsResponseFilterSensitiveLog=H.ListAccountsRequestFilterSensitiveLog=H.ListAccountRolesResponseFilterSensitiveLog=H.RoleInfoFilterSensitiveLog=H.ListAccountRolesRequestFilterSensitiveLog=H.GetRoleCredentialsResponseFilterSensitiveLog=H.RoleCredentialsFilterSensitiveLog=H.GetRoleCredentialsRequestFilterSensitiveLog=H.AccountInfoFilterSensitiveLog=H.UnauthorizedException=H.TooManyRequestsException=H.ResourceNotFoundException=H.InvalidRequestException=void 0;var hs=R(),xu=Tu(),Bi=class extends xu.SSOServiceException{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Bi.prototype)}};H.InvalidRequestException=Bi;var Vi=class extends xu.SSOServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Vi.prototype)}};H.ResourceNotFoundException=Vi;var Wi=class extends xu.SSOServiceException{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Wi.prototype)}};H.TooManyRequestsException=Wi;var Ki=class extends xu.SSOServiceException{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,Ki.prototype)}};H.UnauthorizedException=Ki;var xV=e=>({...e});H.AccountInfoFilterSensitiveLog=xV;var qV=e=>({...e,...e.accessToken&&{accessToken:hs.SENSITIVE_STRING}});H.GetRoleCredentialsRequestFilterSensitiveLog=qV;var OV=e=>({...e,...e.secretAccessKey&&{secretAccessKey:hs.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:hs.SENSITIVE_STRING}});H.RoleCredentialsFilterSensitiveLog=OV;var NV=e=>({...e,...e.roleCredentials&&{roleCredentials:(0,H.RoleCredentialsFilterSensitiveLog)(e.roleCredentials)}});H.GetRoleCredentialsResponseFilterSensitiveLog=NV;var MV=e=>({...e,...e.accessToken&&{accessToken:hs.SENSITIVE_STRING}});H.ListAccountRolesRequestFilterSensitiveLog=MV;var kV=e=>({...e});H.RoleInfoFilterSensitiveLog=kV;var DV=e=>({...e});H.ListAccountRolesResponseFilterSensitiveLog=DV;var jV=e=>({...e,...e.accessToken&&{accessToken:hs.SENSITIVE_STRING}});H.ListAccountsRequestFilterSensitiveLog=jV;var LV=e=>({...e});H.ListAccountsResponseFilterSensitiveLog=LV;var zV=e=>({...e,...e.accessToken&&{accessToken:hs.SENSITIVE_STRING}});H.LogoutRequestFilterSensitiveLog=zV});var Ji=l(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.deserializeAws_restJson1LogoutCommand=Pe.deserializeAws_restJson1ListAccountsCommand=Pe.deserializeAws_restJson1ListAccountRolesCommand=Pe.deserializeAws_restJson1GetRoleCredentialsCommand=Pe.serializeAws_restJson1LogoutCommand=Pe.serializeAws_restJson1ListAccountsCommand=Pe.serializeAws_restJson1ListAccountRolesCommand=Pe.serializeAws_restJson1GetRoleCredentialsCommand=void 0;var qu=ke(),U=R(),Ou=An(),Nu=Tu(),FV=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=De({},ju,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/federation/credentials`,c=De({role_name:[,(0,U.expectNonNull)(e.roleName,"roleName")],account_id:[,(0,U.expectNonNull)(e.accountId,"accountId")]}),d;return new qu.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:o,path:a,query:c,body:d})};Pe.serializeAws_restJson1GetRoleCredentialsCommand=FV;var UV=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=De({},ju,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/assignment/roles`,c=De({next_token:[,e.nextToken],max_result:[()=>e.maxResults!==void 0,()=>e.maxResults.toString()],account_id:[,(0,U.expectNonNull)(e.accountId,"accountId")]}),d;return new qu.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:o,path:a,query:c,body:d})};Pe.serializeAws_restJson1ListAccountRolesCommand=UV;var $V=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=De({},ju,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/assignment/accounts`,c=De({next_token:[,e.nextToken],max_result:[()=>e.maxResults!==void 0,()=>e.maxResults.toString()]}),d;return new qu.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:o,path:a,query:c,body:d})};Pe.serializeAws_restJson1ListAccountsCommand=$V;var HV=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o=De({},ju,{"x-amz-sso_bearer_token":e.accessToken}),a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/logout`,c;return new qu.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:o,path:a,body:c})};Pe.serializeAws_restJson1LogoutCommand=HV;var GV=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return BV(e,t);let r=De({$metadata:Yr(e)}),n=(0,U.expectNonNull)((0,U.expectObject)(await Lu(e.body,t)),"body");return n.roleCredentials!=null&&(r.roleCredentials=eW(n.roleCredentials,t)),r};Pe.deserializeAws_restJson1GetRoleCredentialsCommand=GV;var BV=async(e,t)=>{let r={...e,body:await zu(e.body,t)},n=Fu(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Mu(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await jy(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ku(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Du(r,t);default:let s=r.body;(0,U.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Nu.SSOServiceException,errorCode:n})}},VV=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return WV(e,t);let r=De({$metadata:Yr(e)}),n=(0,U.expectNonNull)((0,U.expectObject)(await Lu(e.body,t)),"body");return n.nextToken!=null&&(r.nextToken=(0,U.expectString)(n.nextToken)),n.roleList!=null&&(r.roleList=rW(n.roleList,t)),r};Pe.deserializeAws_restJson1ListAccountRolesCommand=VV;var WV=async(e,t)=>{let r={...e,body:await zu(e.body,t)},n=Fu(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Mu(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await jy(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ku(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Du(r,t);default:let s=r.body;(0,U.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Nu.SSOServiceException,errorCode:n})}},KV=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return JV(e,t);let r=De({$metadata:Yr(e)}),n=(0,U.expectNonNull)((0,U.expectObject)(await Lu(e.body,t)),"body");return n.accountList!=null&&(r.accountList=ZV(n.accountList,t)),n.nextToken!=null&&(r.nextToken=(0,U.expectString)(n.nextToken)),r};Pe.deserializeAws_restJson1ListAccountsCommand=KV;var JV=async(e,t)=>{let r={...e,body:await zu(e.body,t)},n=Fu(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Mu(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await jy(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ku(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Du(r,t);default:let s=r.body;(0,U.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Nu.SSOServiceException,errorCode:n})}},YV=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return XV(e,t);let r=De({$metadata:Yr(e)});return await kR(e.body,t),r};Pe.deserializeAws_restJson1LogoutCommand=YV;var XV=async(e,t)=>{let r={...e,body:await zu(e.body,t)},n=Fu(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Mu(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await ku(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Du(r,t);default:let s=r.body;(0,U.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:Nu.SSOServiceException,errorCode:n})}},De=U.map,Mu=async(e,t)=>{let r=De({}),n=e.body;n.message!=null&&(r.message=(0,U.expectString)(n.message));let s=new Ou.InvalidRequestException({$metadata:Yr(e),...r});return(0,U.decorateServiceException)(s,e.body)},jy=async(e,t)=>{let r=De({}),n=e.body;n.message!=null&&(r.message=(0,U.expectString)(n.message));let s=new Ou.ResourceNotFoundException({$metadata:Yr(e),...r});return(0,U.decorateServiceException)(s,e.body)},ku=async(e,t)=>{let r=De({}),n=e.body;n.message!=null&&(r.message=(0,U.expectString)(n.message));let s=new Ou.TooManyRequestsException({$metadata:Yr(e),...r});return(0,U.decorateServiceException)(s,e.body)},Du=async(e,t)=>{let r=De({}),n=e.body;n.message!=null&&(r.message=(0,U.expectString)(n.message));let s=new Ou.UnauthorizedException({$metadata:Yr(e),...r});return(0,U.decorateServiceException)(s,e.body)},QV=(e,t)=>({accountId:(0,U.expectString)(e.accountId),accountName:(0,U.expectString)(e.accountName),emailAddress:(0,U.expectString)(e.emailAddress)}),ZV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:QV(n,t)),eW=(e,t)=>({accessKeyId:(0,U.expectString)(e.accessKeyId),expiration:(0,U.expectLong)(e.expiration),secretAccessKey:(0,U.expectString)(e.secretAccessKey),sessionToken:(0,U.expectString)(e.sessionToken)}),tW=(e,t)=>({accountId:(0,U.expectString)(e.accountId),roleName:(0,U.expectString)(e.roleName)}),rW=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:tW(n,t)),Yr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),kR=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),nW=(e,t)=>kR(e,t).then(r=>t.utf8Encoder(r)),ju=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Lu=(e,t)=>nW(e,t).then(r=>r.length?JSON.parse(r):{}),zu=async(e,t)=>{let r=await Lu(e,t);return r.message=r.message??r.Message,r},Fu=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Ly=l(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.GetRoleCredentialsCommand=void 0;var sW=k(),iW=j(),oW=R(),DR=An(),jR=Ji(),Yi=class extends oW.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,iW.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,sW.getEndpointPlugin)(r,Yi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:DR.GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:DR.GetRoleCredentialsResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,jR.serializeAws_restJson1GetRoleCredentialsCommand)(t,r)}deserialize(t,r){return(0,jR.deserializeAws_restJson1GetRoleCredentialsCommand)(t,r)}};Uu.GetRoleCredentialsCommand=Yi});var Hu=l($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.ListAccountRolesCommand=void 0;var aW=k(),cW=j(),dW=R(),LR=An(),zR=Ji(),Xi=class extends dW.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,cW.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,aW.getEndpointPlugin)(r,Xi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"ListAccountRolesCommand",inputFilterSensitiveLog:LR.ListAccountRolesRequestFilterSensitiveLog,outputFilterSensitiveLog:LR.ListAccountRolesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,zR.serializeAws_restJson1ListAccountRolesCommand)(t,r)}deserialize(t,r){return(0,zR.deserializeAws_restJson1ListAccountRolesCommand)(t,r)}};$u.ListAccountRolesCommand=Xi});var Bu=l(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.ListAccountsCommand=void 0;var lW=k(),uW=j(),fW=R(),FR=An(),UR=Ji(),Qi=class extends fW.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,uW.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,lW.getEndpointPlugin)(r,Qi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:FR.ListAccountsRequestFilterSensitiveLog,outputFilterSensitiveLog:FR.ListAccountsResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,UR.serializeAws_restJson1ListAccountsCommand)(t,r)}deserialize(t,r){return(0,UR.deserializeAws_restJson1ListAccountsCommand)(t,r)}};Gu.ListAccountsCommand=Qi});var zy=l(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.LogoutCommand=void 0;var pW=k(),mW=j(),hW=R(),_W=An(),$R=Ji(),Zi=class extends hW.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,mW.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,pW.getEndpointPlugin)(r,Zi.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"LogoutCommand",inputFilterSensitiveLog:_W.LogoutRequestFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,$R.serializeAws_restJson1LogoutCommand)(t,r)}deserialize(t,r){return(0,$R.deserializeAws_restJson1LogoutCommand)(t,r)}};Vu.LogoutCommand=Zi});var HR=l(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.resolveClientEndpointParameters=void 0;var yW=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});Wu.resolveClientEndpointParameters=yW});var GR=l((Zce,gW)=>{gW.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.295.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.295.0","@aws-sdk/fetch-http-handler":"3.295.0","@aws-sdk/hash-node":"3.295.0","@aws-sdk/invalid-dependency":"3.295.0","@aws-sdk/middleware-content-length":"3.295.0","@aws-sdk/middleware-endpoint":"3.295.0","@aws-sdk/middleware-host-header":"3.295.0","@aws-sdk/middleware-logger":"3.295.0","@aws-sdk/middleware-recursion-detection":"3.295.0","@aws-sdk/middleware-retry":"3.295.0","@aws-sdk/middleware-serde":"3.295.0","@aws-sdk/middleware-stack":"3.295.0","@aws-sdk/middleware-user-agent":"3.295.0","@aws-sdk/node-config-provider":"3.295.0","@aws-sdk/node-http-handler":"3.295.0","@aws-sdk/protocol-http":"3.295.0","@aws-sdk/smithy-client":"3.295.0","@aws-sdk/types":"3.295.0","@aws-sdk/url-parser":"3.295.0","@aws-sdk/util-base64":"3.295.0","@aws-sdk/util-body-length-browser":"3.295.0","@aws-sdk/util-body-length-node":"3.295.0","@aws-sdk/util-defaults-mode-browser":"3.295.0","@aws-sdk/util-defaults-mode-node":"3.295.0","@aws-sdk/util-endpoints":"3.295.0","@aws-sdk/util-retry":"3.295.0","@aws-sdk/util-user-agent-browser":"3.295.0","@aws-sdk/util-user-agent-node":"3.295.0","@aws-sdk/util-utf8":"3.295.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.295.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var eo=l(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.Hash=void 0;var Fy=Bn(),wW=cr(),vW=require("buffer"),BR=require("crypto"),Uy=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,wW.toUint8Array)(VR(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,BR.createHmac)(this.algorithmIdentifier,VR(this.secret)):(0,BR.createHash)(this.algorithmIdentifier)}};Ku.Hash=Uy;function VR(e,t){return vW.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Fy.fromString)(e,t):ArrayBuffer.isView(e)?(0,Fy.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Fy.fromArrayBuffer)(e)}});var Hy=l(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.buildQueryString=void 0;var $y=Rh();function EW(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,$y.escapeUri)(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${(0,$y.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,$y.escapeUri)(n)}`),t.push(s)}}return t.join("&")}Ju.buildQueryString=EW});var WR=l(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.NODEJS_TIMEOUT_ERROR_CODES=void 0;Yu.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var Gy=l(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.getTransformedHeaders=void 0;var SW=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};Xu.getTransformedHeaders=SW});var KR=l(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.setConnectionTimeout=void 0;var PW=(e,t,r=0)=>{!r||e.on("socket",n=>{if(n.connecting){let s=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);n.on("connect",()=>{clearTimeout(s)})}})};Qu.setConnectionTimeout=PW});var JR=l(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.setSocketTimeout=void 0;var IW=(e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})};Zu.setSocketTimeout=IW});var By=l(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.writeRequestBody=void 0;var bW=require("stream");function AW(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{YR(e,t.body)}):YR(e,t.body)}ef.writeRequestBody=AW;function YR(e,t){t instanceof bW.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}});var ZR=l(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.NodeHttpHandler=void 0;var RW=ke(),CW=Hy(),XR=require("http"),QR=require("https"),TW=WR(),xW=Gy(),qW=KR(),OW=JR(),NW=By(),Vy=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{connectionTimeout:r,socketTimeout:n,httpAgent:s,httpsAgent:i}=t||{},o=!0,a=50;return{connectionTimeout:r,socketTimeout:n,httpAgent:s||new XR.Agent({keepAlive:o,maxSockets:a}),httpsAgent:i||new QR.Agent({keepAlive:o,maxSockets:a})}}destroy(){var t,r,n,s;(r=(t=this.config)===null||t===void 0?void 0:t.httpAgent)===null||r===void 0||r.destroy(),(s=(n=this.config)===null||n===void 0?void 0:n.httpsAgent)===null||s===void 0||s.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let u=new Error("Request aborted");u.name="AbortError",s(u);return}let i=t.protocol==="https:",o=(0,CW.buildQueryString)(t.query||{}),a={headers:t.headers,host:t.hostname,method:t.method,path:o?`${t.path}?${o}`:t.path,port:t.port,agent:i?this.config.httpsAgent:this.config.httpAgent},d=(i?QR.request:XR.request)(a,u=>{let f=new RW.HttpResponse({statusCode:u.statusCode||-1,headers:(0,xW.getTransformedHeaders)(u.headers),body:u});n({response:f})});d.on("error",u=>{TW.NODEJS_TIMEOUT_ERROR_CODES.includes(u.code)?s(Object.assign(u,{name:"TimeoutError"})):s(u)}),(0,qW.setConnectionTimeout)(d,s,this.config.connectionTimeout),(0,OW.setSocketTimeout)(d,s,this.config.socketTimeout),r&&(r.onabort=()=>{d.abort();let u=new Error("Request aborted");u.name="AbortError",s(u)}),(0,NW.writeRequestBody)(d,t)})}};tf.NodeHttpHandler=Vy});var e1=l(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.NodeHttp2Handler=void 0;var MW=ke(),kW=Hy(),Wy=require("http2"),DW=Gy(),jW=By(),Ky=class{constructor(t){this.metadata={handlerProtocol:"h2"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})}),this.sessionCache=new Map}destroy(){for(let t of this.sessionCache.values())t.forEach(r=>this.destroySession(r));this.sessionCache.clear()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let{requestTimeout:n,disableConcurrentStreams:s}=this.config;return new Promise((i,o)=>{let a=!1;if(r?.aborted){a=!0;let M=new Error("Request aborted");M.name="AbortError",o(M);return}let{hostname:c,method:d,port:u,protocol:f,path:p,query:m}=t,_=`${f}//${c}${u?`:${u}`:""}`,g=this.getSession(_,s||!1),y=M=>{s&&this.destroySession(g),a=!0,o(M)},P=(0,kW.buildQueryString)(m||{}),N=g.request({...t.headers,[Wy.constants.HTTP2_HEADER_PATH]:P?`${p}?${P}`:p,[Wy.constants.HTTP2_HEADER_METHOD]:d});g.ref(),N.on("response",M=>{let he=new MW.HttpResponse({statusCode:M[":status"]||-1,headers:(0,DW.getTransformedHeaders)(M),body:N});a=!0,i({response:he}),s&&(g.close(),this.deleteSessionFromCache(_,g))}),n&&N.setTimeout(n,()=>{N.close();let M=new Error(`Stream timed out because of no activity for ${n} ms`);M.name="TimeoutError",y(M)}),r&&(r.onabort=()=>{N.close();let M=new Error("Request aborted");M.name="AbortError",y(M)}),N.on("frameError",(M,he,sr)=>{y(new Error(`Frame type id ${M} in stream id ${sr} has failed with code ${he}.`))}),N.on("error",y),N.on("aborted",()=>{y(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${N.rstCode}.`))}),N.on("close",()=>{g.unref(),s&&g.destroy(),a||y(new Error("Unexpected error: http2 request did not get a response"))}),(0,jW.writeRequestBody)(N,t)})}getSession(t,r){var n;let s=this.sessionCache,i=s.get(t)||[];if(i.length>0&&!r)return i[0];let o=(0,Wy.connect)(t);o.unref();let a=()=>{this.destroySession(o),this.deleteSessionFromCache(t,o)};return o.on("goaway",a),o.on("error",a),o.on("frameError",a),o.on("close",()=>this.deleteSessionFromCache(t,o)),!((n=this.config)===null||n===void 0)&&n.sessionTimeout&&o.setTimeout(this.config.sessionTimeout,a),i.push(o),s.set(t,i),o}destroySession(t){t.destroyed||t.destroy()}deleteSessionFromCache(t,r){let n=this.sessionCache.get(t)||[];!n.includes(r)||this.sessionCache.set(t,n.filter(s=>s!==r))}};rf.NodeHttp2Handler=Ky});var t1=l(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.Collector=void 0;var LW=require("stream"),Jy=class extends LW.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};nf.Collector=Jy});var r1=l(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.streamCollector=void 0;var zW=t1(),FW=e=>new Promise((t,r)=>{let n=new zW.Collector;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})});sf.streamCollector=FW});var ro=l(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});var Yy=A();Yy.__exportStar(ZR(),to);Yy.__exportStar(e1(),to);Yy.__exportStar(r1(),to)});var s1=l(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.calculateBodyLength=void 0;var n1=require("fs"),UW=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,n1.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,n1.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};of.calculateBodyLength=UW});var no=l(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0});var $W=A();$W.__exportStar(s1(),Xy)});var o1=l((af,i1)=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.isCrtAvailable=void 0;var HW=()=>{try{return typeof require=="function"&&typeof i1<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};af.isCrtAvailable=HW});var so=l(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.defaultUserAgent=Kt.UA_APP_ID_INI_NAME=Kt.UA_APP_ID_ENV_NAME=void 0;var GW=Jr(),a1=require("os"),Qy=require("process"),BW=o1();Kt.UA_APP_ID_ENV_NAME="AWS_SDK_UA_APP_ID";Kt.UA_APP_ID_INI_NAME="sdk-ua-app-id";var VW=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],[`os/${(0,a1.platform)()}`,(0,a1.release)()],["lang/js"],["md/nodejs",`${Qy.versions.node}`]],n=(0,BW.isCrtAvailable)();n&&r.push(n),e&&r.push([`api/${e}`,t]),Qy.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Qy.env.AWS_EXECUTION_ENV}`]);let s=(0,GW.loadConfig)({environmentVariableSelector:o=>o[Kt.UA_APP_ID_ENV_NAME],configFileSelector:o=>o[Kt.UA_APP_ID_INI_NAME],default:void 0})(),i;return async()=>{if(!i){let o=await s;i=o?[...r,[`app/${o}`]]:[...r]}return i}};Kt.defaultUserAgent=VW});var c1=l(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.fromBase64=void 0;var WW=Bn(),KW=/^[A-Za-z0-9+/]*={0,2}$/,JW=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!KW.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,WW.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};cf.fromBase64=JW});var d1=l(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.toBase64=void 0;var YW=Bn(),XW=e=>(0,YW.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("base64");df.toBase64=XW});var io=l(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});var l1=A();l1.__exportStar(c1(),lf);l1.__exportStar(d1(),lf)});var S1=l(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.ruleSet=void 0;var g1="required",yr="fn",gr="argv",_s="ref",Zy="PartitionResult",Jt="tree",oo="error",ao="endpoint",u1={[g1]:!1,type:"String"},f1={[g1]:!0,default:!1,type:"Boolean"},w1={[_s]:"Endpoint"},v1={[yr]:"booleanEquals",[gr]:[{[_s]:"UseFIPS"},!0]},E1={[yr]:"booleanEquals",[gr]:[{[_s]:"UseDualStack"},!0]},Yt={},p1={[yr]:"booleanEquals",[gr]:[!0,{[yr]:"getAttr",[gr]:[{[_s]:Zy},"supportsFIPS"]}]},m1={[yr]:"booleanEquals",[gr]:[!0,{[yr]:"getAttr",[gr]:[{[_s]:Zy},"supportsDualStack"]}]},h1=[w1],_1=[v1],y1=[E1],QW={version:"1.0",parameters:{Region:u1,UseDualStack:f1,UseFIPS:f1,Endpoint:u1},rules:[{conditions:[{[yr]:"aws.partition",[gr]:[{[_s]:"Region"}],assign:Zy}],type:Jt,rules:[{conditions:[{[yr]:"isSet",[gr]:h1},{[yr]:"parseURL",[gr]:h1,assign:"url"}],type:Jt,rules:[{conditions:_1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:oo},{type:Jt,rules:[{conditions:y1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:oo},{endpoint:{url:w1,properties:Yt,headers:Yt},type:ao}]}]},{conditions:[v1,E1],type:Jt,rules:[{conditions:[p1,m1],type:Jt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Yt,headers:Yt},type:ao}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:oo}]},{conditions:_1,type:Jt,rules:[{conditions:[p1],type:Jt,rules:[{type:Jt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Yt,headers:Yt},type:ao}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:oo}]},{conditions:y1,type:Jt,rules:[{conditions:[m1],type:Jt,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Yt,headers:Yt},type:ao}]},{error:"DualStack is enabled but this partition does not support DualStack",type:oo}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Yt,headers:Yt},type:ao}]}]};uf.ruleSet=QW});var P1=l(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.defaultEndpointResolver=void 0;var ZW=is(),e4=S1(),t4=(e,t={})=>(0,ZW.resolveEndpoint)(e4.ruleSet,{endpointParams:e,logger:t.logger});ff.defaultEndpointResolver=t4});var A1=l(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.getRuntimeConfig=void 0;var r4=R(),n4=_n(),I1=io(),b1=cr(),s4=P1(),i4=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??I1.fromBase64,base64Encoder:e?.base64Encoder??I1.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??s4.defaultEndpointResolver,logger:e?.logger??new r4.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??n4.parseUrl,utf8Decoder:e?.utf8Decoder??b1.fromUtf8,utf8Encoder:e?.utf8Encoder??b1.toUtf8});pf.getRuntimeConfig=i4});var R1=l(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.IMDS_REGION_PATH=Be.DEFAULTS_MODE_OPTIONS=Be.ENV_IMDS_DISABLED=Be.AWS_DEFAULT_REGION_ENV=Be.AWS_REGION_ENV=Be.AWS_EXECUTION_ENV=void 0;Be.AWS_EXECUTION_ENV="AWS_EXECUTION_ENV";Be.AWS_REGION_ENV="AWS_REGION";Be.AWS_DEFAULT_REGION_ENV="AWS_DEFAULT_REGION";Be.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";Be.DEFAULTS_MODE_OPTIONS=["in-region","cross-region","mobile","standard","legacy"];Be.IMDS_REGION_PATH="/latest/meta-data/placement/region"});var C1=l(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.NODE_DEFAULTS_MODE_CONFIG_OPTIONS=void 0;var o4="AWS_DEFAULTS_MODE",a4="defaults_mode";mf.NODE_DEFAULTS_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[o4],configFileSelector:e=>e[a4],default:"legacy"}});var q1=l(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.resolveDefaultsModeConfig=void 0;var c4=xt(),T1=fs(),x1=Jr(),d4=V(),Xr=R1(),l4=C1(),u4=({region:e=(0,x1.loadConfig)(c4.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,x1.loadConfig)(l4.NODE_DEFAULTS_MODE_CONFIG_OPTIONS)}={})=>(0,d4.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return f4(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Xr.DEFAULTS_MODE_OPTIONS.join(", ")}, got ${r}`)}});hf.resolveDefaultsModeConfig=u4;var f4=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await p4();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},p4=async()=>{var e;if(process.env[Xr.AWS_EXECUTION_ENV]&&(process.env[Xr.AWS_REGION_ENV]||process.env[Xr.AWS_DEFAULT_REGION_ENV]))return(e=process.env[Xr.AWS_REGION_ENV])!==null&&e!==void 0?e:process.env[Xr.AWS_DEFAULT_REGION_ENV];if(!process.env[Xr.ENV_IMDS_DISABLED])try{let t=await(0,T1.getInstanceMetadataEndpoint)();return(await(0,T1.httpRequest)({...t,path:Xr.IMDS_REGION_PATH})).toString()}catch{}}});var co=l(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});var m4=A();m4.__exportStar(q1(),eg)});var M1=l(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.getRuntimeConfig=void 0;var h4=A(),_4=h4.__importDefault(GR()),_f=xt(),y4=eo(),O1=pr(),lo=Jr(),N1=ro(),g4=no(),w4=ct(),v4=so(),E4=A1(),S4=R(),P4=co(),I4=R(),b4=e=>{(0,I4.emitWarningIfUnsupportedVersion)(process.version);let t=(0,P4.resolveDefaultsModeConfig)(e),r=()=>t().then(S4.loadConfigsForDefaultMode),n=(0,E4.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??g4.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,v4.defaultUserAgent)({serviceId:n.serviceId,clientVersion:_4.default.version}),maxAttempts:e?.maxAttempts??(0,lo.loadConfig)(O1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,lo.loadConfig)(_f.NODE_REGION_CONFIG_OPTIONS,_f.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new N1.NodeHttpHandler(r),retryMode:e?.retryMode??(0,lo.loadConfig)({...O1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||w4.DEFAULT_RETRY_MODE}),sha256:e?.sha256??y4.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??N1.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,lo.loadConfig)(_f.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,lo.loadConfig)(_f.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};yf.getRuntimeConfig=b4});var uo=l(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.SSOClient=void 0;var A4=xt(),R4=Bs(),C4=k(),k1=Js(),T4=Ys(),x4=Xs(),D1=pr(),j1=_i(),q4=R(),O4=HR(),N4=M1(),tg=class extends q4.Client{constructor(t){let r=(0,N4.getRuntimeConfig)(t),n=(0,O4.resolveClientEndpointParameters)(r),s=(0,A4.resolveRegionConfig)(n),i=(0,C4.resolveEndpointConfig)(s),o=(0,D1.resolveRetryConfig)(i),a=(0,k1.resolveHostHeaderConfig)(o),c=(0,j1.resolveUserAgentConfig)(a);super(c),this.config=c,this.middlewareStack.use((0,D1.getRetryPlugin)(this.config)),this.middlewareStack.use((0,R4.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,k1.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,T4.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,x4.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,j1.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};gf.SSOClient=tg});var L1=l(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.SSO=void 0;var M4=Ly(),k4=Hu(),D4=Bu(),j4=zy(),L4=uo(),rg=class extends L4.SSOClient{getRoleCredentials(t,r,n){let s=new M4.GetRoleCredentialsCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listAccountRoles(t,r,n){let s=new k4.ListAccountRolesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listAccounts(t,r,n){let s=new D4.ListAccountsCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}logout(t,r,n){let s=new j4.LogoutCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};wf.SSO=rg});var z1=l(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var vf=A();vf.__exportStar(Ly(),ys);vf.__exportStar(Hu(),ys);vf.__exportStar(Bu(),ys);vf.__exportStar(zy(),ys)});var F1=l(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});var z4=A();z4.__exportStar(An(),ng)});var $1=l(U1=>{"use strict";Object.defineProperty(U1,"__esModule",{value:!0})});var H1=l(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.paginateListAccountRoles=void 0;var F4=Hu(),U4=uo(),$4=async(e,t,...r)=>await e.send(new F4.ListAccountRolesCommand(t),...r);async function*H4(e,t,...r){let n=e.startingToken||void 0,s=!0,i;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof U4.SSOClient)i=await $4(e.client,t,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield i;let o=n;n=i.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==o))}return void 0}Ef.paginateListAccountRoles=H4});var G1=l(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.paginateListAccounts=void 0;var G4=Bu(),B4=uo(),V4=async(e,t,...r)=>await e.send(new G4.ListAccountsCommand(t),...r);async function*W4(e,t,...r){let n=e.startingToken||void 0,s=!0,i;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof B4.SSOClient)i=await V4(e.client,t,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield i;let o=n;n=i.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==o))}return void 0}Sf.paginateListAccounts=W4});var B1=l(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});var sg=A();sg.__exportStar($1(),fo);sg.__exportStar(H1(),fo);sg.__exportStar(G1(),fo)});var ig=l(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.SSOServiceException=void 0;var po=A();po.__exportStar(L1(),wr);po.__exportStar(uo(),wr);po.__exportStar(z1(),wr);po.__exportStar(F1(),wr);po.__exportStar(B1(),wr);var K4=Tu();Object.defineProperty(wr,"SSOServiceException",{enumerable:!0,get:function(){return K4.SSOServiceException}})});var Pf=l(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.REFRESH_MESSAGE=gs.EXPIRE_WINDOW_MS=void 0;gs.EXPIRE_WINDOW_MS=5*60*1e3;gs.REFRESH_MESSAGE="To refresh this SSO session run 'aws sso login' with the corresponding profile."});var bf=l(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.SSOOIDCServiceException=void 0;var J4=R(),mo=class extends J4.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,mo.prototype)}};If.SSOOIDCServiceException=mo});var ws=l(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.StartDeviceAuthorizationResponseFilterSensitiveLog=L.StartDeviceAuthorizationRequestFilterSensitiveLog=L.RegisterClientResponseFilterSensitiveLog=L.RegisterClientRequestFilterSensitiveLog=L.CreateTokenResponseFilterSensitiveLog=L.CreateTokenRequestFilterSensitiveLog=L.InvalidClientMetadataException=L.UnsupportedGrantTypeException=L.UnauthorizedClientException=L.SlowDownException=L.InvalidScopeException=L.InvalidRequestException=L.InvalidGrantException=L.InvalidClientException=L.InternalServerException=L.ExpiredTokenException=L.AuthorizationPendingException=L.AccessDeniedException=void 0;var ut=bf(),ho=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,ho.prototype),this.error=t.error,this.error_description=t.error_description}};L.AccessDeniedException=ho;var _o=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,_o.prototype),this.error=t.error,this.error_description=t.error_description}};L.AuthorizationPendingException=_o;var yo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,yo.prototype),this.error=t.error,this.error_description=t.error_description}};L.ExpiredTokenException=yo;var go=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,go.prototype),this.error=t.error,this.error_description=t.error_description}};L.InternalServerException=go;var wo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,wo.prototype),this.error=t.error,this.error_description=t.error_description}};L.InvalidClientException=wo;var vo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,vo.prototype),this.error=t.error,this.error_description=t.error_description}};L.InvalidGrantException=vo;var Eo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Eo.prototype),this.error=t.error,this.error_description=t.error_description}};L.InvalidRequestException=Eo;var So=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,So.prototype),this.error=t.error,this.error_description=t.error_description}};L.InvalidScopeException=So;var Po=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Po.prototype),this.error=t.error,this.error_description=t.error_description}};L.SlowDownException=Po;var Io=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Io.prototype),this.error=t.error,this.error_description=t.error_description}};L.UnauthorizedClientException=Io;var bo=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,bo.prototype),this.error=t.error,this.error_description=t.error_description}};L.UnsupportedGrantTypeException=bo;var Ao=class extends ut.SSOOIDCServiceException{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,Ao.prototype),this.error=t.error,this.error_description=t.error_description}};L.InvalidClientMetadataException=Ao;var Y4=e=>({...e});L.CreateTokenRequestFilterSensitiveLog=Y4;var X4=e=>({...e});L.CreateTokenResponseFilterSensitiveLog=X4;var Q4=e=>({...e});L.RegisterClientRequestFilterSensitiveLog=Q4;var Z4=e=>({...e});L.RegisterClientResponseFilterSensitiveLog=Z4;var e5=e=>({...e});L.StartDeviceAuthorizationRequestFilterSensitiveLog=e5;var t5=e=>({...e});L.StartDeviceAuthorizationResponseFilterSensitiveLog=t5});var Rf=l(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.deserializeAws_restJson1StartDeviceAuthorizationCommand=Ve.deserializeAws_restJson1RegisterClientCommand=Ve.deserializeAws_restJson1CreateTokenCommand=Ve.serializeAws_restJson1StartDeviceAuthorizationCommand=Ve.serializeAws_restJson1RegisterClientCommand=Ve.serializeAws_restJson1CreateTokenCommand=void 0;var og=ke(),C=R(),ft=ws(),ag=bf(),r5=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o={"content-type":"application/json"},a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/token`,c;return c=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.code!=null&&{code:e.code},...e.deviceCode!=null&&{deviceCode:e.deviceCode},...e.grantType!=null&&{grantType:e.grantType},...e.redirectUri!=null&&{redirectUri:e.redirectUri},...e.refreshToken!=null&&{refreshToken:e.refreshToken},...e.scope!=null&&{scope:Y1(e.scope,t)}}),new og.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:o,path:a,body:c})};Ve.serializeAws_restJson1CreateTokenCommand=r5;var n5=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o={"content-type":"application/json"},a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/client/register`,c;return c=JSON.stringify({...e.clientName!=null&&{clientName:e.clientName},...e.clientType!=null&&{clientType:e.clientType},...e.scopes!=null&&{scopes:Y1(e.scopes,t)}}),new og.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:o,path:a,body:c})};Ve.serializeAws_restJson1RegisterClientCommand=n5;var s5=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:i}=await t.endpoint(),o={"content-type":"application/json"},a=`${i?.endsWith("/")?i.slice(0,-1):i||""}/device_authorization`,c;return c=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.startUrl!=null&&{startUrl:e.startUrl}}),new og.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:o,path:a,body:c})};Ve.serializeAws_restJson1StartDeviceAuthorizationCommand=s5;var i5=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return o5(e,t);let r=je({$metadata:Le(e)}),n=(0,C.expectNonNull)((0,C.expectObject)(await Af(e.body,t)),"body");return n.accessToken!=null&&(r.accessToken=(0,C.expectString)(n.accessToken)),n.expiresIn!=null&&(r.expiresIn=(0,C.expectInt32)(n.expiresIn)),n.idToken!=null&&(r.idToken=(0,C.expectString)(n.idToken)),n.refreshToken!=null&&(r.refreshToken=(0,C.expectString)(n.refreshToken)),n.tokenType!=null&&(r.tokenType=(0,C.expectString)(n.tokenType)),r};Ve.deserializeAws_restJson1CreateTokenCommand=i5;var o5=async(e,t)=>{let r={...e,body:await lg(e.body,t)},n=ug(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await u5(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await f5(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await p5(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await cg(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await V1(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await h5(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await dg(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await W1(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await K1(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await J1(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await _5(r,t);default:let s=r.body;(0,C.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ag.SSOOIDCServiceException,errorCode:n})}},a5=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return c5(e,t);let r=je({$metadata:Le(e)}),n=(0,C.expectNonNull)((0,C.expectObject)(await Af(e.body,t)),"body");return n.authorizationEndpoint!=null&&(r.authorizationEndpoint=(0,C.expectString)(n.authorizationEndpoint)),n.clientId!=null&&(r.clientId=(0,C.expectString)(n.clientId)),n.clientIdIssuedAt!=null&&(r.clientIdIssuedAt=(0,C.expectLong)(n.clientIdIssuedAt)),n.clientSecret!=null&&(r.clientSecret=(0,C.expectString)(n.clientSecret)),n.clientSecretExpiresAt!=null&&(r.clientSecretExpiresAt=(0,C.expectLong)(n.clientSecretExpiresAt)),n.tokenEndpoint!=null&&(r.tokenEndpoint=(0,C.expectString)(n.tokenEndpoint)),r};Ve.deserializeAws_restJson1RegisterClientCommand=a5;var c5=async(e,t)=>{let r={...e,body:await lg(e.body,t)},n=ug(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await cg(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await m5(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await dg(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await W1(r,t);default:let s=r.body;(0,C.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ag.SSOOIDCServiceException,errorCode:n})}},d5=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return l5(e,t);let r=je({$metadata:Le(e)}),n=(0,C.expectNonNull)((0,C.expectObject)(await Af(e.body,t)),"body");return n.deviceCode!=null&&(r.deviceCode=(0,C.expectString)(n.deviceCode)),n.expiresIn!=null&&(r.expiresIn=(0,C.expectInt32)(n.expiresIn)),n.interval!=null&&(r.interval=(0,C.expectInt32)(n.interval)),n.userCode!=null&&(r.userCode=(0,C.expectString)(n.userCode)),n.verificationUri!=null&&(r.verificationUri=(0,C.expectString)(n.verificationUri)),n.verificationUriComplete!=null&&(r.verificationUriComplete=(0,C.expectString)(n.verificationUriComplete)),r};Ve.deserializeAws_restJson1StartDeviceAuthorizationCommand=d5;var l5=async(e,t)=>{let r={...e,body:await lg(e.body,t)},n=ug(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await cg(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await V1(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await dg(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await K1(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await J1(r,t);default:let s=r.body;(0,C.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ag.SSOOIDCServiceException,errorCode:n})}},je=C.map,u5=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.AccessDeniedException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},f5=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.AuthorizationPendingException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},p5=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.ExpiredTokenException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},cg=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InternalServerException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},V1=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InvalidClientException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},m5=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InvalidClientMetadataException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},h5=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InvalidGrantException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},dg=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InvalidRequestException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},W1=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.InvalidScopeException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},K1=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.SlowDownException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},J1=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.UnauthorizedClientException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},_5=async(e,t)=>{let r=je({}),n=e.body;n.error!=null&&(r.error=(0,C.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,C.expectString)(n.error_description));let s=new ft.UnsupportedGrantTypeException({$metadata:Le(e),...r});return(0,C.decorateServiceException)(s,e.body)},Y1=(e,t)=>e.filter(r=>r!=null).map(r=>r),Le=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),y5=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),g5=(e,t)=>y5(e,t).then(r=>t.utf8Encoder(r)),Af=(e,t)=>g5(e,t).then(r=>r.length?JSON.parse(r):{}),lg=async(e,t)=>{let r=await Af(e,t);return r.message=r.message??r.Message,r},ug=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var fg=l(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.CreateTokenCommand=void 0;var w5=k(),v5=j(),E5=R(),X1=ws(),Q1=Rf(),Ro=class extends E5.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,v5.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,w5.getEndpointPlugin)(r,Ro.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:X1.CreateTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:X1.CreateTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Q1.serializeAws_restJson1CreateTokenCommand)(t,r)}deserialize(t,r){return(0,Q1.deserializeAws_restJson1CreateTokenCommand)(t,r)}};Cf.CreateTokenCommand=Ro});var pg=l(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.RegisterClientCommand=void 0;var S5=k(),P5=j(),I5=R(),Z1=ws(),eC=Rf(),Co=class extends I5.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,P5.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,S5.getEndpointPlugin)(r,Co.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:Z1.RegisterClientRequestFilterSensitiveLog,outputFilterSensitiveLog:Z1.RegisterClientResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,eC.serializeAws_restJson1RegisterClientCommand)(t,r)}deserialize(t,r){return(0,eC.deserializeAws_restJson1RegisterClientCommand)(t,r)}};Tf.RegisterClientCommand=Co});var mg=l(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.StartDeviceAuthorizationCommand=void 0;var b5=k(),A5=j(),R5=R(),tC=ws(),rC=Rf(),To=class extends R5.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,A5.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,b5.getEndpointPlugin)(r,To.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:tC.StartDeviceAuthorizationRequestFilterSensitiveLog,outputFilterSensitiveLog:tC.StartDeviceAuthorizationResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,rC.serializeAws_restJson1StartDeviceAuthorizationCommand)(t,r)}deserialize(t,r){return(0,rC.deserializeAws_restJson1StartDeviceAuthorizationCommand)(t,r)}};xf.StartDeviceAuthorizationCommand=To});var nC=l(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.resolveClientEndpointParameters=void 0;var C5=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});qf.resolveClientEndpointParameters=C5});var sC=l((Hde,T5)=>{T5.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.295.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.295.0","@aws-sdk/fetch-http-handler":"3.295.0","@aws-sdk/hash-node":"3.295.0","@aws-sdk/invalid-dependency":"3.295.0","@aws-sdk/middleware-content-length":"3.295.0","@aws-sdk/middleware-endpoint":"3.295.0","@aws-sdk/middleware-host-header":"3.295.0","@aws-sdk/middleware-logger":"3.295.0","@aws-sdk/middleware-recursion-detection":"3.295.0","@aws-sdk/middleware-retry":"3.295.0","@aws-sdk/middleware-serde":"3.295.0","@aws-sdk/middleware-stack":"3.295.0","@aws-sdk/middleware-user-agent":"3.295.0","@aws-sdk/node-config-provider":"3.295.0","@aws-sdk/node-http-handler":"3.295.0","@aws-sdk/protocol-http":"3.295.0","@aws-sdk/smithy-client":"3.295.0","@aws-sdk/types":"3.295.0","@aws-sdk/url-parser":"3.295.0","@aws-sdk/util-base64":"3.295.0","@aws-sdk/util-body-length-browser":"3.295.0","@aws-sdk/util-body-length-node":"3.295.0","@aws-sdk/util-defaults-mode-browser":"3.295.0","@aws-sdk/util-defaults-mode-node":"3.295.0","@aws-sdk/util-endpoints":"3.295.0","@aws-sdk/util-retry":"3.295.0","@aws-sdk/util-user-agent-browser":"3.295.0","@aws-sdk/util-user-agent-node":"3.295.0","@aws-sdk/util-utf8":"3.295.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.295.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var _C=l(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.ruleSet=void 0;var fC="required",vr="fn",Er="argv",vs="ref",hg="PartitionResult",Xt="tree",xo="error",qo="endpoint",iC={[fC]:!1,type:"String"},oC={[fC]:!0,default:!1,type:"Boolean"},pC={[vs]:"Endpoint"},mC={[vr]:"booleanEquals",[Er]:[{[vs]:"UseFIPS"},!0]},hC={[vr]:"booleanEquals",[Er]:[{[vs]:"UseDualStack"},!0]},Qt={},aC={[vr]:"booleanEquals",[Er]:[!0,{[vr]:"getAttr",[Er]:[{[vs]:hg},"supportsFIPS"]}]},cC={[vr]:"booleanEquals",[Er]:[!0,{[vr]:"getAttr",[Er]:[{[vs]:hg},"supportsDualStack"]}]},dC=[pC],lC=[mC],uC=[hC],x5={version:"1.0",parameters:{Region:iC,UseDualStack:oC,UseFIPS:oC,Endpoint:iC},rules:[{conditions:[{[vr]:"aws.partition",[Er]:[{[vs]:"Region"}],assign:hg}],type:Xt,rules:[{conditions:[{[vr]:"isSet",[Er]:dC},{[vr]:"parseURL",[Er]:dC,assign:"url"}],type:Xt,rules:[{conditions:lC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xo},{type:Xt,rules:[{conditions:uC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xo},{endpoint:{url:pC,properties:Qt,headers:Qt},type:qo}]}]},{conditions:[mC,hC],type:Xt,rules:[{conditions:[aC,cC],type:Xt,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Qt,headers:Qt},type:qo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xo}]},{conditions:lC,type:Xt,rules:[{conditions:[aC],type:Xt,rules:[{type:Xt,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Qt,headers:Qt},type:qo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:xo}]},{conditions:uC,type:Xt,rules:[{conditions:[cC],type:Xt,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Qt,headers:Qt},type:qo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:xo}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Qt,headers:Qt},type:qo}]}]};Of.ruleSet=x5});var yC=l(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.defaultEndpointResolver=void 0;var q5=is(),O5=_C(),N5=(e,t={})=>(0,q5.resolveEndpoint)(O5.ruleSet,{endpointParams:e,logger:t.logger});Nf.defaultEndpointResolver=N5});var vC=l(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.getRuntimeConfig=void 0;var M5=R(),k5=_n(),gC=io(),wC=cr(),D5=yC(),j5=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??gC.fromBase64,base64Encoder:e?.base64Encoder??gC.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??D5.defaultEndpointResolver,logger:e?.logger??new M5.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??k5.parseUrl,utf8Decoder:e?.utf8Decoder??wC.fromUtf8,utf8Encoder:e?.utf8Encoder??wC.toUtf8});Mf.getRuntimeConfig=j5});var PC=l(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.getRuntimeConfig=void 0;var L5=A(),z5=L5.__importDefault(sC()),kf=xt(),F5=eo(),EC=pr(),Oo=Jr(),SC=ro(),U5=no(),$5=ct(),H5=so(),G5=vC(),B5=R(),V5=co(),W5=R(),K5=e=>{(0,W5.emitWarningIfUnsupportedVersion)(process.version);let t=(0,V5.resolveDefaultsModeConfig)(e),r=()=>t().then(B5.loadConfigsForDefaultMode),n=(0,G5.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??U5.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,H5.defaultUserAgent)({serviceId:n.serviceId,clientVersion:z5.default.version}),maxAttempts:e?.maxAttempts??(0,Oo.loadConfig)(EC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Oo.loadConfig)(kf.NODE_REGION_CONFIG_OPTIONS,kf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new SC.NodeHttpHandler(r),retryMode:e?.retryMode??(0,Oo.loadConfig)({...EC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||$5.DEFAULT_RETRY_MODE}),sha256:e?.sha256??F5.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??SC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Oo.loadConfig)(kf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Oo.loadConfig)(kf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Df.getRuntimeConfig=K5});var yg=l(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.SSOOIDCClient=void 0;var J5=xt(),Y5=Bs(),X5=k(),IC=Js(),Q5=Ys(),Z5=Xs(),bC=pr(),AC=_i(),e6=R(),t6=nC(),r6=PC(),_g=class extends e6.Client{constructor(t){let r=(0,r6.getRuntimeConfig)(t),n=(0,t6.resolveClientEndpointParameters)(r),s=(0,J5.resolveRegionConfig)(n),i=(0,X5.resolveEndpointConfig)(s),o=(0,bC.resolveRetryConfig)(i),a=(0,IC.resolveHostHeaderConfig)(o),c=(0,AC.resolveUserAgentConfig)(a);super(c),this.config=c,this.middlewareStack.use((0,bC.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Y5.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,IC.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Q5.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Z5.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,AC.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};jf.SSOOIDCClient=_g});var RC=l(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.SSOOIDC=void 0;var n6=fg(),s6=pg(),i6=mg(),o6=yg(),gg=class extends o6.SSOOIDCClient{createToken(t,r,n){let s=new n6.CreateTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}registerClient(t,r,n){let s=new s6.RegisterClientCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}startDeviceAuthorization(t,r,n){let s=new i6.StartDeviceAuthorizationCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};Lf.SSOOIDC=gg});var CC=l(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var wg=A();wg.__exportStar(fg(),No);wg.__exportStar(pg(),No);wg.__exportStar(mg(),No)});var TC=l(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});var a6=A();a6.__exportStar(ws(),vg)});var Eg=l(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.SSOOIDCServiceException=void 0;var zf=A();zf.__exportStar(RC(),Qr);zf.__exportStar(yg(),Qr);zf.__exportStar(CC(),Qr);zf.__exportStar(TC(),Qr);var c6=bf();Object.defineProperty(Qr,"SSOOIDCServiceException",{enumerable:!0,get:function(){return c6.SSOOIDCServiceException}})});var xC=l(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.getSsoOidcClient=void 0;var d6=Eg(),Sg={},l6=e=>{if(Sg[e])return Sg[e];let t=new d6.SSOOIDCClient({region:e});return Sg[e]=t,t};Ff.getSsoOidcClient=l6});var qC=l(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.getNewSsoOidcToken=void 0;var u6=Eg(),f6=xC(),p6=(e,t)=>(0,f6.getSsoOidcClient)(t).send(new u6.CreateTokenCommand({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));Uf.getNewSsoOidcToken=p6});var OC=l($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.validateTokenExpiry=void 0;var m6=V(),h6=Pf(),_6=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new m6.TokenProviderError(`Token is expired. ${h6.REFRESH_MESSAGE}`,!1)};$f.validateTokenExpiry=_6});var NC=l(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.validateTokenKey=void 0;var y6=V(),g6=Pf(),w6=(e,t,r=!1)=>{if(typeof t>"u")throw new y6.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${g6.REFRESH_MESSAGE}`,!1)};Hf.validateTokenKey=w6});var MC=l(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.writeSSOTokenToFile=void 0;var v6=Ht(),E6=require("fs"),{writeFile:S6}=E6.promises,P6=(e,t)=>{let r=(0,v6.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return S6(r,n)};Gf.writeSSOTokenToFile=P6});var Pg=l(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.fromSso=void 0;var Mo=V(),Bf=Ht(),kC=Pf(),I6=qC(),DC=OC(),Rn=NC(),b6=MC(),jC=new Date(0),A6=(e={})=>async()=>{let t=await(0,Bf.parseKnownFiles)(e),r=(0,Bf.getProfileName)(e),n=t[r];if(n){if(!n.sso_session)throw new Mo.TokenProviderError(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new Mo.TokenProviderError(`Profile '${r}' could not be found in shared credentials file.`,!1);let s=n.sso_session,o=(await(0,Bf.loadSsoSessionData)(e))[s];if(!o)throw new Mo.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let m of["sso_start_url","sso_region"])if(!o[m])throw new Mo.TokenProviderError(`Sso session '${s}' is missing required property '${m}'.`,!1);let a=o.sso_start_url,c=o.sso_region,d;try{d=await(0,Bf.getSSOTokenFromFile)(s)}catch{throw new Mo.TokenProviderError(`The SSO session token associated with profile=${r} was not found or is invalid. ${kC.REFRESH_MESSAGE}`,!1)}(0,Rn.validateTokenKey)("accessToken",d.accessToken),(0,Rn.validateTokenKey)("expiresAt",d.expiresAt);let{accessToken:u,expiresAt:f}=d,p={token:u,expiration:new Date(f)};if(p.expiration.getTime()-Date.now()>kC.EXPIRE_WINDOW_MS)return p;if(Date.now()-jC.getTime()<30*1e3)return(0,DC.validateTokenExpiry)(p),p;(0,Rn.validateTokenKey)("clientId",d.clientId,!0),(0,Rn.validateTokenKey)("clientSecret",d.clientSecret,!0),(0,Rn.validateTokenKey)("refreshToken",d.refreshToken,!0);try{jC.setTime(Date.now());let m=await(0,I6.getNewSsoOidcToken)(d,c);(0,Rn.validateTokenKey)("accessToken",m.accessToken),(0,Rn.validateTokenKey)("expiresIn",m.expiresIn);let _=new Date(Date.now()+m.expiresIn*1e3);try{await(0,b6.writeSSOTokenToFile)(s,{...d,accessToken:m.accessToken,expiresAt:_.toISOString(),refreshToken:m.refreshToken})}catch{}return{token:m.accessToken,expiration:_}}catch{return(0,DC.validateTokenExpiry)(p),p}};Vf.fromSso=A6});var LC=l(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.fromStatic=void 0;var R6=V(),C6=({token:e})=>async()=>{if(!e||!e.token)throw new R6.TokenProviderError("Please pass a valid token to fromStatic",!1);return e};Wf.fromStatic=C6});var zC=l(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.nodeProvider=void 0;var Ig=V(),T6=Pg(),x6=(e={})=>(0,Ig.memoize)((0,Ig.chain)((0,T6.fromSso)(e),async()=>{throw new Ig.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Kf.nodeProvider=x6});var FC=l(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var bg=A();bg.__exportStar(Pg(),ko);bg.__exportStar(LC(),ko);bg.__exportStar(zC(),ko)});var $C=l(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.resolveSSOCredentials=void 0;var UC=ig(),Do=V(),q6=Ht(),O6=FC(),N6=15*60*1e3,jo=!1,M6=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,profile:o})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let y=await(0,O6.fromSso)({profile:o})();a={accessToken:y.token,expiresAt:new Date(y.expiration).toISOString()}}catch(y){throw new Do.CredentialsProviderError(y.message,jo)}else try{a=await(0,q6.getSSOTokenFromFile)(e)}catch{throw new Do.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${c}`,jo)}if(new Date(a.expiresAt).getTime()-Date.now()<=N6)throw new Do.CredentialsProviderError(`The SSO session associated with this profile has expired. ${c}`,jo);let{accessToken:d}=a,u=i||new UC.SSOClient({region:n}),f;try{f=await u.send(new UC.GetRoleCredentialsCommand({accountId:r,roleName:s,accessToken:d}))}catch(y){throw Do.CredentialsProviderError.from(y,jo)}let{roleCredentials:{accessKeyId:p,secretAccessKey:m,sessionToken:_,expiration:g}={}}=f;if(!p||!m||!_||!g)throw new Do.CredentialsProviderError("SSO returns an invalid temporary credential.",jo);return{accessKeyId:p,secretAccessKey:m,sessionToken:_,expiration:new Date(g)}};Jf.resolveSSOCredentials=M6});var Ag=l(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.validateSsoProfile=void 0;var k6=V(),D6=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:s}=e;if(!t||!r||!n||!s)throw new k6.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};Yf.validateSsoProfile=D6});var GC=l(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.fromSSO=void 0;var Lo=V(),Rg=Ht(),j6=Dy(),HC=$C(),L6=Ag(),z6=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,ssoSession:o}=e,a=(0,Rg.getProfileName)(e);if(!t&&!r&&!n&&!s&&!o){let d=(await(0,Rg.parseKnownFiles)(e))[a];if(!d)throw new Lo.CredentialsProviderError(`Profile ${a} was not found.`);if(!(0,j6.isSsoProfile)(d))throw new Lo.CredentialsProviderError(`Profile ${a} is not configured with SSO credentials.`);if(d?.sso_session){let y=(await(0,Rg.loadSsoSessionData)(e))[d.sso_session],P=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==y.sso_region)throw new Lo.CredentialsProviderError("Conflicting SSO region"+P,!1);if(t&&t!==y.sso_start_url)throw new Lo.CredentialsProviderError("Conflicting SSO start_url"+P,!1);d.sso_region=y.sso_region,d.sso_start_url=y.sso_start_url}let{sso_start_url:u,sso_account_id:f,sso_region:p,sso_role_name:m,sso_session:_}=(0,L6.validateSsoProfile)(d);return(0,HC.resolveSSOCredentials)({ssoStartUrl:u,ssoSession:_,ssoAccountId:f,ssoRegion:p,ssoRoleName:m,ssoClient:i,profile:a})}else{if(!t||!r||!n||!s)throw new Lo.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return(0,HC.resolveSSOCredentials)({ssoStartUrl:t,ssoSession:o,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,profile:a})}};Xf.fromSSO=z6});var VC=l(BC=>{"use strict";Object.defineProperty(BC,"__esModule",{value:!0})});var zo=l(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var Qf=A();Qf.__exportStar(GC(),Es);Qf.__exportStar(Dy(),Es);Qf.__exportStar(VC(),Es);Qf.__exportStar(Ag(),Es)});var KC=l(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.resolveSsoCredentials=Ss.isSsoProfile=void 0;var WC=zo(),F6=zo();Object.defineProperty(Ss,"isSsoProfile",{enumerable:!0,get:function(){return F6.isSsoProfile}});var U6=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:s,sso_role_name:i}=(0,WC.validateSsoProfile)(e);return(0,WC.fromSSO)({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:s,ssoRoleName:i})()};Ss.resolveSsoCredentials=U6});var JC=l(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.resolveStaticCredentials=Ps.isStaticCredsProfile=void 0;var $6=e=>Boolean(e)&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1;Ps.isStaticCredsProfile=$6;var H6=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});Ps.resolveStaticCredentials=H6});var Cg=l(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.fromWebToken=void 0;var G6=V(),B6=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:s,policyArns:i,policy:o,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new G6.CredentialsProviderError(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:i,Policy:o,DurationSeconds:a})};Zf.fromWebToken=B6});var YC=l(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.fromTokenFile=void 0;var V6=V(),W6=require("fs"),K6=Cg(),J6="AWS_WEB_IDENTITY_TOKEN_FILE",Y6="AWS_ROLE_ARN",X6="AWS_ROLE_SESSION_NAME",Q6=(e={})=>async()=>Z6(e);ep.fromTokenFile=Q6;var Z6=e=>{var t,r,n;let s=(t=e?.webIdentityTokenFile)!==null&&t!==void 0?t:process.env[J6],i=(r=e?.roleArn)!==null&&r!==void 0?r:process.env[Y6],o=(n=e?.roleSessionName)!==null&&n!==void 0?n:process.env[X6];if(!s||!i)throw new V6.CredentialsProviderError("Web identity configuration not specified");return(0,K6.fromWebToken)({...e,webIdentityToken:(0,W6.readFileSync)(s,{encoding:"ascii"}),roleArn:i,roleSessionName:o})()}});var Fo=l(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});var XC=A();XC.__exportStar(YC(),tp);XC.__exportStar(Cg(),tp)});var QC=l(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.resolveWebIdentityCredentials=Is.isWebIdentityProfile=void 0;var e8=Fo(),t8=e=>Boolean(e)&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1;Is.isWebIdentityProfile=t8;var r8=async(e,t)=>(0,e8.fromTokenFile)({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();Is.resolveWebIdentityCredentials=r8});var Ny=l(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.resolveProfileData=void 0;var n8=V(),ZC=TR(),eT=MR(),tT=KC(),rp=JC(),rT=QC(),s8=async(e,t,r,n={})=>{let s=t[e];if(Object.keys(n).length>0&&(0,rp.isStaticCredsProfile)(s))return(0,rp.resolveStaticCredentials)(s);if((0,ZC.isAssumeRoleProfile)(s))return(0,ZC.resolveAssumeRoleCredentials)(e,t,r,n);if((0,rp.isStaticCredsProfile)(s))return(0,rp.resolveStaticCredentials)(s);if((0,rT.isWebIdentityProfile)(s))return(0,rT.resolveWebIdentityCredentials)(s,r);if((0,eT.isProcessProfile)(s))return(0,eT.resolveProcessCredentials)(r,e);if((0,tT.isSsoProfile)(s))return(0,tT.resolveSsoCredentials)(s);throw new n8.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)};np.resolveProfileData=s8});var sT=l(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.fromIni=void 0;var nT=Ht(),i8=Ny(),o8=(e={})=>async()=>{let t=await(0,nT.parseKnownFiles)(e);return(0,i8.resolveProfileData)((0,nT.getProfileName)(e),t,e)};sp.fromIni=o8});var xg=l(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});var a8=A();a8.__exportStar(sT(),Tg)});var iT=l(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.remoteProvider=Cn.ENV_IMDS_DISABLED=void 0;var ip=fs(),c8=V();Cn.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";var d8=e=>process.env[ip.ENV_CMDS_RELATIVE_URI]||process.env[ip.ENV_CMDS_FULL_URI]?(0,ip.fromContainerMetadata)(e):process.env[Cn.ENV_IMDS_DISABLED]?async()=>{throw new c8.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:(0,ip.fromInstanceMetadata)(e);Cn.remoteProvider=d8});var oT=l(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.defaultProvider=void 0;var l8=Xl(),u8=xg(),f8=Au(),p8=zo(),m8=Fo(),qg=V(),h8=Ht(),_8=iT(),y8=(e={})=>(0,qg.memoize)((0,qg.chain)(...e.profile||process.env[h8.ENV_PROFILE]?[]:[(0,l8.fromEnv)()],(0,p8.fromSSO)(e),(0,u8.fromIni)(e),(0,f8.fromProcess)(e),(0,m8.fromTokenFile)(e),(0,_8.remoteProvider)(e),async()=>{throw new qg.CredentialsProviderError("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);op.defaultProvider=y8});var ap=l(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});var g8=A();g8.__exportStar(oT(),Og)});var RT=l(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.ruleSet=void 0;var _T="required",D="type",G="fn",B="argv",Zr="ref",Tn="properties",xn="headers",aT=!1,w8=!0,Mg="PartitionResult",pt="tree",qn="booleanEquals",Ae="stringEquals",yT="sigv4",gT="us-east-1",wT="sts",te="endpoint",vT="https://sts.{Region}.{PartitionResult#dnsSuffix}",Uo="error",kg="getAttr",cT={[_T]:!1,[D]:"String"},Ng={[_T]:!0,default:!1,[D]:"Boolean"},Re={[Zr]:"Region"},ET={[Zr]:"UseFIPS"},ST={[Zr]:"UseDualStack"},dT={[G]:"isSet",[B]:[{[Zr]:"Endpoint"}]},PT={[Zr]:"Endpoint"},qe={url:"https://sts.amazonaws.com",[Tn]:{authSchemes:[{name:yT,signingRegion:gT,signingName:wT}]},[xn]:{}},Sr={},lT={conditions:[{[G]:Ae,[B]:[Re,"aws-global"]}],[te]:qe,[D]:te},IT={[G]:qn,[B]:[ET,!0]},bT={[G]:qn,[B]:[ST,!0]},uT={[G]:qn,[B]:[!0,{[G]:kg,[B]:[{[Zr]:Mg},"supportsFIPS"]}]},AT={[Zr]:Mg},fT={[G]:qn,[B]:[!0,{[G]:kg,[B]:[AT,"supportsDualStack"]}]},pT={url:vT,[Tn]:{},[xn]:{}},v8=[PT],mT=[IT],hT=[bT],E8={version:"1.0",parameters:{Region:cT,UseDualStack:Ng,UseFIPS:Ng,Endpoint:cT,UseGlobalEndpoint:Ng},rules:[{conditions:[{[G]:"aws.partition",[B]:[Re],assign:Mg}],[D]:pt,rules:[{conditions:[{[G]:qn,[B]:[{[Zr]:"UseGlobalEndpoint"},w8]},{[G]:qn,[B]:[ET,aT]},{[G]:qn,[B]:[ST,aT]},{[G]:"not",[B]:[dT]}],[D]:pt,rules:[{conditions:[{[G]:Ae,[B]:[Re,"ap-northeast-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"ap-south-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"ap-southeast-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"ap-southeast-2"]}],endpoint:qe,[D]:te},lT,{conditions:[{[G]:Ae,[B]:[Re,"ca-central-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"eu-central-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"eu-north-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"eu-west-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"eu-west-2"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"eu-west-3"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"sa-east-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,gT]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"us-east-2"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"us-west-1"]}],endpoint:qe,[D]:te},{conditions:[{[G]:Ae,[B]:[Re,"us-west-2"]}],endpoint:qe,[D]:te},{endpoint:{url:vT,[Tn]:{authSchemes:[{name:yT,signingRegion:"{Region}",signingName:wT}]},[xn]:Sr},[D]:te}]},{conditions:[dT,{[G]:"parseURL",[B]:v8,assign:"url"}],[D]:pt,rules:[{conditions:mT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[D]:Uo},{[D]:pt,rules:[{conditions:hT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[D]:Uo},{endpoint:{url:PT,[Tn]:Sr,[xn]:Sr},[D]:te}]}]},{conditions:[IT,bT],[D]:pt,rules:[{conditions:[uT,fT],[D]:pt,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Tn]:Sr,[xn]:Sr},[D]:te}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[D]:Uo}]},{conditions:mT,[D]:pt,rules:[{conditions:[uT],[D]:pt,rules:[{[D]:pt,rules:[{conditions:[{[G]:Ae,[B]:["aws-us-gov",{[G]:kg,[B]:[AT,"name"]}]}],endpoint:pT,[D]:te},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[Tn]:Sr,[xn]:Sr},[D]:te}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[D]:Uo}]},{conditions:hT,[D]:pt,rules:[{conditions:[fT],[D]:pt,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[Tn]:Sr,[xn]:Sr},[D]:te}]},{error:"DualStack is enabled but this partition does not support DualStack",[D]:Uo}]},{[D]:pt,rules:[lT,{endpoint:pT,[D]:te}]}]}]};cp.ruleSet=E8});var CT=l(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.defaultEndpointResolver=void 0;var S8=is(),P8=RT(),I8=(e,t={})=>(0,S8.resolveEndpoint)(P8.ruleSet,{endpointParams:e,logger:t.logger});dp.defaultEndpointResolver=I8});var qT=l(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.getRuntimeConfig=void 0;var b8=R(),A8=_n(),TT=io(),xT=cr(),R8=CT(),C8=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??TT.fromBase64,base64Encoder:e?.base64Encoder??TT.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??R8.defaultEndpointResolver,logger:e?.logger??new b8.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??A8.parseUrl,utf8Decoder:e?.utf8Decoder??xT.fromUtf8,utf8Encoder:e?.utf8Encoder??xT.toUtf8});lp.getRuntimeConfig=C8});var MT=l(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.getRuntimeConfig=void 0;var T8=A(),x8=T8.__importDefault(UA()),q8=_y(),up=xt(),O8=ap(),N8=eo(),OT=pr(),$o=Jr(),NT=ro(),M8=no(),k8=ct(),D8=so(),j8=qT(),L8=R(),z8=co(),F8=R(),U8=e=>{(0,F8.emitWarningIfUnsupportedVersion)(process.version);let t=(0,z8.resolveDefaultsModeConfig)(e),r=()=>t().then(L8.loadConfigsForDefaultMode),n=(0,j8.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??M8.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??(0,q8.decorateDefaultCredentialProvider)(O8.defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,D8.defaultUserAgent)({serviceId:n.serviceId,clientVersion:x8.default.version}),maxAttempts:e?.maxAttempts??(0,$o.loadConfig)(OT.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,$o.loadConfig)(up.NODE_REGION_CONFIG_OPTIONS,up.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new NT.NodeHttpHandler(r),retryMode:e?.retryMode??(0,$o.loadConfig)({...OT.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||k8.DEFAULT_RETRY_MODE}),sha256:e?.sha256??N8.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??NT.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,$o.loadConfig)(up.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,$o.loadConfig)(up.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};fp.getRuntimeConfig=U8});var mp=l(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.STSClient=void 0;var $8=xt(),H8=Bs(),G8=k(),kT=Js(),B8=Ys(),V8=Xs(),DT=pr(),W8=zA(),jT=_i(),K8=R(),J8=FA(),Y8=MT(),Ho=class extends K8.Client{constructor(t){let r=(0,Y8.getRuntimeConfig)(t),n=(0,J8.resolveClientEndpointParameters)(r),s=(0,$8.resolveRegionConfig)(n),i=(0,G8.resolveEndpointConfig)(s),o=(0,DT.resolveRetryConfig)(i),a=(0,kT.resolveHostHeaderConfig)(o),c=(0,W8.resolveStsAuthConfig)(a,{stsClientCtor:Ho}),d=(0,jT.resolveUserAgentConfig)(c);super(d),this.config=d,this.middlewareStack.use((0,DT.getRetryPlugin)(this.config)),this.middlewareStack.use((0,H8.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,kT.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,B8.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,V8.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,jT.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};pp.STSClient=Ho});var LT=l(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.STS=void 0;var X8=Fl(),Q8=ly(),Z8=Hl(),eK=uy(),tK=fy(),rK=py(),nK=my(),sK=hy(),iK=mp(),Dg=class extends iK.STSClient{assumeRole(t,r,n){let s=new X8.AssumeRoleCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}assumeRoleWithSAML(t,r,n){let s=new Q8.AssumeRoleWithSAMLCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}assumeRoleWithWebIdentity(t,r,n){let s=new Z8.AssumeRoleWithWebIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}decodeAuthorizationMessage(t,r,n){let s=new eK.DecodeAuthorizationMessageCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getAccessKeyInfo(t,r,n){let s=new tK.GetAccessKeyInfoCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getCallerIdentity(t,r,n){let s=new rK.GetCallerIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getFederationToken(t,r,n){let s=new nK.GetFederationTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getSessionToken(t,r,n){let s=new sK.GetSessionTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};hp.STS=Dg});var zT=l(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});var en=A();en.__exportStar(Fl(),Zt);en.__exportStar(ly(),Zt);en.__exportStar(Hl(),Zt);en.__exportStar(uy(),Zt);en.__exportStar(fy(),Zt);en.__exportStar(py(),Zt);en.__exportStar(my(),Zt);en.__exportStar(hy(),Zt)});var HT=l(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.decorateDefaultCredentialProvider=er.getDefaultRoleAssumerWithWebIdentity=er.getDefaultRoleAssumer=void 0;var FT=_y(),UT=mp(),$T=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,oK=(e={},t)=>(0,FT.getDefaultRoleAssumer)(e,$T(UT.STSClient,t));er.getDefaultRoleAssumer=oK;var aK=(e={},t)=>(0,FT.getDefaultRoleAssumerWithWebIdentity)(e,$T(UT.STSClient,t));er.getDefaultRoleAssumerWithWebIdentity=aK;var cK=e=>t=>e({roleAssumer:(0,er.getDefaultRoleAssumer)(t),roleAssumerWithWebIdentity:(0,er.getDefaultRoleAssumerWithWebIdentity)(t),...t});er.decorateDefaultCredentialProvider=cK});var GT=l(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});var dK=A();dK.__exportStar(Pt(),jg)});var On=l(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.STSServiceException=void 0;var Go=A();Go.__exportStar(LT(),Pr);Go.__exportStar(mp(),Pr);Go.__exportStar(zT(),Pr);Go.__exportStar(HT(),Pr);Go.__exportStar(GT(),Pr);var lK=kl();Object.defineProperty(Pr,"STSServiceException",{enumerable:!0,get:function(){return lK.STSServiceException}})});var rx=l(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.ruleSet=void 0;var QT="required",Ir="fn",br="argv",bs="ref",Lg="PartitionResult",tr="tree",Bo="error",Vo="endpoint",BT={[QT]:!1,type:"String"},VT={[QT]:!0,default:!1,type:"Boolean"},ZT={[bs]:"Endpoint"},ex={[Ir]:"booleanEquals",[br]:[{[bs]:"UseFIPS"},!0]},tx={[Ir]:"booleanEquals",[br]:[{[bs]:"UseDualStack"},!0]},rr={},WT={[Ir]:"booleanEquals",[br]:[!0,{[Ir]:"getAttr",[br]:[{[bs]:Lg},"supportsFIPS"]}]},KT={[Ir]:"booleanEquals",[br]:[!0,{[Ir]:"getAttr",[br]:[{[bs]:Lg},"supportsDualStack"]}]},JT=[ZT],YT=[ex],XT=[tx],uK={version:"1.0",parameters:{Region:BT,UseDualStack:VT,UseFIPS:VT,Endpoint:BT},rules:[{conditions:[{[Ir]:"aws.partition",[br]:[{[bs]:"Region"}],assign:Lg}],type:tr,rules:[{conditions:[{[Ir]:"isSet",[br]:JT},{[Ir]:"parseURL",[br]:JT,assign:"url"}],type:tr,rules:[{conditions:YT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Bo},{type:tr,rules:[{conditions:XT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Bo},{endpoint:{url:ZT,properties:rr,headers:rr},type:Vo}]}]},{conditions:[ex,tx],type:tr,rules:[{conditions:[WT,KT],type:tr,rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rr,headers:rr},type:Vo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Bo}]},{conditions:YT,type:tr,rules:[{conditions:[WT],type:tr,rules:[{type:tr,rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:rr,headers:rr},type:Vo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Bo}]},{conditions:XT,type:tr,rules:[{conditions:[KT],type:tr,rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rr,headers:rr},type:Vo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Bo}]},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:rr,headers:rr},type:Vo}]}]};_p.ruleSet=uK});var nx=l(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.defaultEndpointResolver=void 0;var fK=is(),pK=rx(),mK=(e,t={})=>(0,fK.resolveEndpoint)(pK.ruleSet,{endpointParams:e,logger:t.logger});yp.defaultEndpointResolver=mK});var ox=l(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.getRuntimeConfig=void 0;var hK=R(),_K=_n(),sx=io(),ix=cr(),yK=nx(),gK=e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??sx.fromBase64,base64Encoder:e?.base64Encoder??sx.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??yK.defaultEndpointResolver,logger:e?.logger??new hK.NoOpLogger,serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??_K.parseUrl,utf8Decoder:e?.utf8Decoder??ix.fromUtf8,utf8Encoder:e?.utf8Encoder??ix.toUtf8});gp.getRuntimeConfig=gK});var dx=l(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.getRuntimeConfig=void 0;var wK=A(),vK=wK.__importDefault($b()),EK=On(),wp=xt(),SK=ap(),PK=eo(),ax=pr(),Wo=Jr(),cx=ro(),IK=no(),bK=ct(),AK=so(),RK=ox(),CK=R(),TK=co(),xK=R(),qK=e=>{(0,xK.emitWarningIfUnsupportedVersion)(process.version);let t=(0,TK.resolveDefaultsModeConfig)(e),r=()=>t().then(CK.loadConfigsForDefaultMode),n=(0,RK.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??IK.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??(0,EK.decorateDefaultCredentialProvider)(SK.defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,AK.defaultUserAgent)({serviceId:n.serviceId,clientVersion:vK.default.version}),maxAttempts:e?.maxAttempts??(0,Wo.loadConfig)(ax.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Wo.loadConfig)(wp.NODE_REGION_CONFIG_OPTIONS,wp.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new cx.NodeHttpHandler(r),retryMode:e?.retryMode??(0,Wo.loadConfig)({...ax.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||bK.DEFAULT_RETRY_MODE}),sha256:e?.sha256??PK.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??cx.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Wo.loadConfig)(wp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Wo.loadConfig)(wp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};vp.getRuntimeConfig=qK});var Sp=l(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.CognitoIdentityClient=void 0;var OK=xt(),NK=Bs(),MK=k(),lx=Js(),kK=Ys(),DK=Xs(),ux=pr(),jK=J(),fx=_i(),LK=R(),zK=Ub(),FK=dx(),zg=class extends LK.Client{constructor(t){let r=(0,FK.getRuntimeConfig)(t),n=(0,zK.resolveClientEndpointParameters)(r),s=(0,OK.resolveRegionConfig)(n),i=(0,MK.resolveEndpointConfig)(s),o=(0,ux.resolveRetryConfig)(i),a=(0,lx.resolveHostHeaderConfig)(o),c=(0,jK.resolveAwsAuthConfig)(a),d=(0,fx.resolveUserAgentConfig)(c);super(d),this.config=d,this.middlewareStack.use((0,ux.getRetryPlugin)(this.config)),this.middlewareStack.use((0,NK.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,lx.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,kK.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,DK.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,fx.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Ep.CognitoIdentityClient=zg});var Ip=l(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.CognitoIdentityServiceException=void 0;var UK=R(),Ko=class extends UK.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Ko.prototype)}};Pp.CognitoIdentityServiceException=Ko});var Q=l(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.LookupDeveloperIdentityResponseFilterSensitiveLog=v.LookupDeveloperIdentityInputFilterSensitiveLog=v.ListTagsForResourceResponseFilterSensitiveLog=v.ListTagsForResourceInputFilterSensitiveLog=v.ListIdentityPoolsResponseFilterSensitiveLog=v.IdentityPoolShortDescriptionFilterSensitiveLog=v.ListIdentityPoolsInputFilterSensitiveLog=v.ListIdentitiesResponseFilterSensitiveLog=v.ListIdentitiesInputFilterSensitiveLog=v.GetPrincipalTagAttributeMapResponseFilterSensitiveLog=v.GetPrincipalTagAttributeMapInputFilterSensitiveLog=v.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog=v.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog=v.GetOpenIdTokenResponseFilterSensitiveLog=v.GetOpenIdTokenInputFilterSensitiveLog=v.GetIdentityPoolRolesResponseFilterSensitiveLog=v.RoleMappingFilterSensitiveLog=v.RulesConfigurationTypeFilterSensitiveLog=v.MappingRuleFilterSensitiveLog=v.GetIdentityPoolRolesInputFilterSensitiveLog=v.GetIdResponseFilterSensitiveLog=v.GetIdInputFilterSensitiveLog=v.GetCredentialsForIdentityResponseFilterSensitiveLog=v.CredentialsFilterSensitiveLog=v.GetCredentialsForIdentityInputFilterSensitiveLog=v.DescribeIdentityPoolInputFilterSensitiveLog=v.IdentityDescriptionFilterSensitiveLog=v.DescribeIdentityInputFilterSensitiveLog=v.DeleteIdentityPoolInputFilterSensitiveLog=v.DeleteIdentitiesResponseFilterSensitiveLog=v.UnprocessedIdentityIdFilterSensitiveLog=v.DeleteIdentitiesInputFilterSensitiveLog=v.IdentityPoolFilterSensitiveLog=v.CreateIdentityPoolInputFilterSensitiveLog=v.CognitoIdentityProviderFilterSensitiveLog=v.ConcurrentModificationException=v.DeveloperUserAlreadyRegisteredException=v.RoleMappingType=v.MappingRuleMatchType=v.InvalidIdentityPoolConfigurationException=v.ExternalServiceException=v.ResourceNotFoundException=v.ErrorCode=v.TooManyRequestsException=v.ResourceConflictException=v.NotAuthorizedException=v.LimitExceededException=v.InvalidParameterException=v.InternalErrorException=v.AmbiguousRoleResolutionType=void 0;v.UntagResourceResponseFilterSensitiveLog=v.UntagResourceInputFilterSensitiveLog=v.UnlinkIdentityInputFilterSensitiveLog=v.UnlinkDeveloperIdentityInputFilterSensitiveLog=v.TagResourceResponseFilterSensitiveLog=v.TagResourceInputFilterSensitiveLog=v.SetPrincipalTagAttributeMapResponseFilterSensitiveLog=v.SetPrincipalTagAttributeMapInputFilterSensitiveLog=v.SetIdentityPoolRolesInputFilterSensitiveLog=v.MergeDeveloperIdentitiesResponseFilterSensitiveLog=v.MergeDeveloperIdentitiesInputFilterSensitiveLog=void 0;var It=Ip(),$K;(function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"})($K=v.AmbiguousRoleResolutionType||(v.AmbiguousRoleResolutionType={}));var Jo=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,Jo.prototype)}};v.InternalErrorException=Jo;var Yo=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,Yo.prototype)}};v.InvalidParameterException=Yo;var Xo=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,Xo.prototype)}};v.LimitExceededException=Xo;var Qo=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,Qo.prototype)}};v.NotAuthorizedException=Qo;var Zo=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"ResourceConflictException",$fault:"client",...t}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,Zo.prototype)}};v.ResourceConflictException=Zo;var ea=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,ea.prototype)}};v.TooManyRequestsException=ea;var HK;(function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"})(HK=v.ErrorCode||(v.ErrorCode={}));var ta=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ta.prototype)}};v.ResourceNotFoundException=ta;var ra=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"ExternalServiceException",$fault:"client",...t}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,ra.prototype)}};v.ExternalServiceException=ra;var na=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,na.prototype)}};v.InvalidIdentityPoolConfigurationException=na;var GK;(function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"})(GK=v.MappingRuleMatchType||(v.MappingRuleMatchType={}));var BK;(function(e){e.RULES="Rules",e.TOKEN="Token"})(BK=v.RoleMappingType||(v.RoleMappingType={}));var sa=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,sa.prototype)}};v.DeveloperUserAlreadyRegisteredException=sa;var ia=class extends It.CognitoIdentityServiceException{constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,ia.prototype)}};v.ConcurrentModificationException=ia;var VK=e=>({...e});v.CognitoIdentityProviderFilterSensitiveLog=VK;var WK=e=>({...e});v.CreateIdentityPoolInputFilterSensitiveLog=WK;var KK=e=>({...e});v.IdentityPoolFilterSensitiveLog=KK;var JK=e=>({...e});v.DeleteIdentitiesInputFilterSensitiveLog=JK;var YK=e=>({...e});v.UnprocessedIdentityIdFilterSensitiveLog=YK;var XK=e=>({...e});v.DeleteIdentitiesResponseFilterSensitiveLog=XK;var QK=e=>({...e});v.DeleteIdentityPoolInputFilterSensitiveLog=QK;var ZK=e=>({...e});v.DescribeIdentityInputFilterSensitiveLog=ZK;var e9=e=>({...e});v.IdentityDescriptionFilterSensitiveLog=e9;var t9=e=>({...e});v.DescribeIdentityPoolInputFilterSensitiveLog=t9;var r9=e=>({...e});v.GetCredentialsForIdentityInputFilterSensitiveLog=r9;var n9=e=>({...e});v.CredentialsFilterSensitiveLog=n9;var s9=e=>({...e});v.GetCredentialsForIdentityResponseFilterSensitiveLog=s9;var i9=e=>({...e});v.GetIdInputFilterSensitiveLog=i9;var o9=e=>({...e});v.GetIdResponseFilterSensitiveLog=o9;var a9=e=>({...e});v.GetIdentityPoolRolesInputFilterSensitiveLog=a9;var c9=e=>({...e});v.MappingRuleFilterSensitiveLog=c9;var d9=e=>({...e});v.RulesConfigurationTypeFilterSensitiveLog=d9;var l9=e=>({...e});v.RoleMappingFilterSensitiveLog=l9;var u9=e=>({...e});v.GetIdentityPoolRolesResponseFilterSensitiveLog=u9;var f9=e=>({...e});v.GetOpenIdTokenInputFilterSensitiveLog=f9;var p9=e=>({...e});v.GetOpenIdTokenResponseFilterSensitiveLog=p9;var m9=e=>({...e});v.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog=m9;var h9=e=>({...e});v.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog=h9;var _9=e=>({...e});v.GetPrincipalTagAttributeMapInputFilterSensitiveLog=_9;var y9=e=>({...e});v.GetPrincipalTagAttributeMapResponseFilterSensitiveLog=y9;var g9=e=>({...e});v.ListIdentitiesInputFilterSensitiveLog=g9;var w9=e=>({...e});v.ListIdentitiesResponseFilterSensitiveLog=w9;var v9=e=>({...e});v.ListIdentityPoolsInputFilterSensitiveLog=v9;var E9=e=>({...e});v.IdentityPoolShortDescriptionFilterSensitiveLog=E9;var S9=e=>({...e});v.ListIdentityPoolsResponseFilterSensitiveLog=S9;var P9=e=>({...e});v.ListTagsForResourceInputFilterSensitiveLog=P9;var I9=e=>({...e});v.ListTagsForResourceResponseFilterSensitiveLog=I9;var b9=e=>({...e});v.LookupDeveloperIdentityInputFilterSensitiveLog=b9;var A9=e=>({...e});v.LookupDeveloperIdentityResponseFilterSensitiveLog=A9;var R9=e=>({...e});v.MergeDeveloperIdentitiesInputFilterSensitiveLog=R9;var C9=e=>({...e});v.MergeDeveloperIdentitiesResponseFilterSensitiveLog=C9;var T9=e=>({...e});v.SetIdentityPoolRolesInputFilterSensitiveLog=T9;var x9=e=>({...e});v.SetPrincipalTagAttributeMapInputFilterSensitiveLog=x9;var q9=e=>({...e});v.SetPrincipalTagAttributeMapResponseFilterSensitiveLog=q9;var O9=e=>({...e});v.TagResourceInputFilterSensitiveLog=O9;var N9=e=>({...e});v.TagResourceResponseFilterSensitiveLog=N9;var M9=e=>({...e});v.UnlinkDeveloperIdentityInputFilterSensitiveLog=M9;var k9=e=>({...e});v.UnlinkIdentityInputFilterSensitiveLog=k9;var D9=e=>({...e});v.UntagResourceInputFilterSensitiveLog=D9;var j9=e=>({...e});v.UntagResourceResponseFilterSensitiveLog=j9});var re=l(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.deserializeAws_json1_1UpdateIdentityPoolCommand=S.deserializeAws_json1_1UntagResourceCommand=S.deserializeAws_json1_1UnlinkIdentityCommand=S.deserializeAws_json1_1UnlinkDeveloperIdentityCommand=S.deserializeAws_json1_1TagResourceCommand=S.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand=S.deserializeAws_json1_1SetIdentityPoolRolesCommand=S.deserializeAws_json1_1MergeDeveloperIdentitiesCommand=S.deserializeAws_json1_1LookupDeveloperIdentityCommand=S.deserializeAws_json1_1ListTagsForResourceCommand=S.deserializeAws_json1_1ListIdentityPoolsCommand=S.deserializeAws_json1_1ListIdentitiesCommand=S.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand=S.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=S.deserializeAws_json1_1GetOpenIdTokenCommand=S.deserializeAws_json1_1GetIdentityPoolRolesCommand=S.deserializeAws_json1_1GetIdCommand=S.deserializeAws_json1_1GetCredentialsForIdentityCommand=S.deserializeAws_json1_1DescribeIdentityPoolCommand=S.deserializeAws_json1_1DescribeIdentityCommand=S.deserializeAws_json1_1DeleteIdentityPoolCommand=S.deserializeAws_json1_1DeleteIdentitiesCommand=S.deserializeAws_json1_1CreateIdentityPoolCommand=S.serializeAws_json1_1UpdateIdentityPoolCommand=S.serializeAws_json1_1UntagResourceCommand=S.serializeAws_json1_1UnlinkIdentityCommand=S.serializeAws_json1_1UnlinkDeveloperIdentityCommand=S.serializeAws_json1_1TagResourceCommand=S.serializeAws_json1_1SetPrincipalTagAttributeMapCommand=S.serializeAws_json1_1SetIdentityPoolRolesCommand=S.serializeAws_json1_1MergeDeveloperIdentitiesCommand=S.serializeAws_json1_1LookupDeveloperIdentityCommand=S.serializeAws_json1_1ListTagsForResourceCommand=S.serializeAws_json1_1ListIdentityPoolsCommand=S.serializeAws_json1_1ListIdentitiesCommand=S.serializeAws_json1_1GetPrincipalTagAttributeMapCommand=S.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=S.serializeAws_json1_1GetOpenIdTokenCommand=S.serializeAws_json1_1GetIdentityPoolRolesCommand=S.serializeAws_json1_1GetIdCommand=S.serializeAws_json1_1GetCredentialsForIdentityCommand=S.serializeAws_json1_1DescribeIdentityPoolCommand=S.serializeAws_json1_1DescribeIdentityCommand=S.serializeAws_json1_1DeleteIdentityPoolCommand=S.serializeAws_json1_1DeleteIdentitiesCommand=S.serializeAws_json1_1CreateIdentityPoolCommand=void 0;var L9=ke(),E=R(),ne=Ip(),bt=Q(),z9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.CreateIdentityPool"},n;return n=JSON.stringify(nY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1CreateIdentityPoolCommand=z9;var F9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DeleteIdentities"},n;return n=JSON.stringify(sY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1DeleteIdentitiesCommand=F9;var U9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DeleteIdentityPool"},n;return n=JSON.stringify(iY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1DeleteIdentityPoolCommand=U9;var $9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DescribeIdentity"},n;return n=JSON.stringify(oY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1DescribeIdentityCommand=$9;var H9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DescribeIdentityPool"},n;return n=JSON.stringify(aY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1DescribeIdentityPoolCommand=H9;var G9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},n;return n=JSON.stringify(cY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetCredentialsForIdentityCommand=G9;var B9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},n;return n=JSON.stringify(lY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetIdCommand=B9;var V9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetIdentityPoolRoles"},n;return n=JSON.stringify(dY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetIdentityPoolRolesCommand=V9;var W9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetOpenIdToken"},n;return n=JSON.stringify(fY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetOpenIdTokenCommand=W9;var K9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetOpenIdTokenForDeveloperIdentity"},n;return n=JSON.stringify(uY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=K9;var J9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetPrincipalTagAttributeMap"},n;return n=JSON.stringify(pY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1GetPrincipalTagAttributeMapCommand=J9;var Y9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListIdentities"},n;return n=JSON.stringify(yY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1ListIdentitiesCommand=Y9;var X9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListIdentityPools"},n;return n=JSON.stringify(gY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1ListIdentityPoolsCommand=X9;var Q9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListTagsForResource"},n;return n=JSON.stringify(wY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1ListTagsForResourceCommand=Q9;var Z9=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.LookupDeveloperIdentity"},n;return n=JSON.stringify(EY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1LookupDeveloperIdentityCommand=Z9;var eJ=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.MergeDeveloperIdentities"},n;return n=JSON.stringify(IY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1MergeDeveloperIdentitiesCommand=eJ;var tJ=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.SetIdentityPoolRoles"},n;return n=JSON.stringify(TY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1SetIdentityPoolRolesCommand=tJ;var rJ=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.SetPrincipalTagAttributeMap"},n;return n=JSON.stringify(xY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1SetPrincipalTagAttributeMapCommand=rJ;var nJ=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.TagResource"},n;return n=JSON.stringify(qY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1TagResourceCommand=nJ;var sJ=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UnlinkDeveloperIdentity"},n;return n=JSON.stringify(OY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1UnlinkDeveloperIdentityCommand=sJ;var iJ=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UnlinkIdentity"},n;return n=JSON.stringify(NY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1UnlinkIdentityCommand=iJ;var oJ=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UntagResource"},n;return n=JSON.stringify(MY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1UntagResourceCommand=oJ;var aJ=async(e,t)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UpdateIdentityPool"},n;return n=JSON.stringify(hY(e,t)),ae(t,r,"/",void 0,n)};S.serializeAws_json1_1UpdateIdentityPoolCommand=aJ;var cJ=async(e,t)=>{if(e.statusCode>=300)return dJ(e,t);let r=await we(e.body,t),n={};n=$g(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1CreateIdentityPoolCommand=cJ;var dJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Fg(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},lJ=async(e,t)=>{if(e.statusCode>=300)return uJ(e,t);let r=await we(e.body,t),n={};n=zY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1DeleteIdentitiesCommand=lJ;var uJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},fJ=async(e,t)=>{if(e.statusCode>=300)return pJ(e,t);await aa(e.body,t);let r={$metadata:F(e)};return Promise.resolve(r)};S.deserializeAws_json1_1DeleteIdentityPoolCommand=fJ;var pJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},mJ=async(e,t)=>{if(e.statusCode>=300)return hJ(e,t);let r=await we(e.body,t),n={};n=wx(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1DescribeIdentityCommand=mJ;var hJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},_J=async(e,t)=>{if(e.statusCode>=300)return yJ(e,t);let r=await we(e.body,t),n={};n=$g(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1DescribeIdentityPoolCommand=_J;var yJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},gJ=async(e,t)=>{if(e.statusCode>=300)return wJ(e,t);let r=await we(e.body,t),n={};n=HY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetCredentialsForIdentityCommand=gJ;var wJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await bp(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await tY(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},vJ=async(e,t)=>{if(e.statusCode>=300)return EJ(e,t);let r=await we(e.body,t),n={};n=BY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetIdCommand=vJ;var EJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await bp(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Fg(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},SJ=async(e,t)=>{if(e.statusCode>=300)return PJ(e,t);let r=await we(e.body,t),n={};n=GY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetIdentityPoolRolesCommand=SJ;var PJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},IJ=async(e,t)=>{if(e.statusCode>=300)return bJ(e,t);let r=await we(e.body,t),n={};n=WY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetOpenIdTokenCommand=IJ;var bJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await bp(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},AJ=async(e,t)=>{if(e.statusCode>=300)return RJ(e,t);let r=await we(e.body,t),n={};n=VY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=AJ;var RJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await eY(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},CJ=async(e,t)=>{if(e.statusCode>=300)return TJ(e,t);let r=await we(e.body,t),n={};n=KY(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand=CJ;var TJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},xJ=async(e,t)=>{if(e.statusCode>=300)return qJ(e,t);let r=await we(e.body,t),n={};n=nX(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1ListIdentitiesCommand=xJ;var qJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},OJ=async(e,t)=>{if(e.statusCode>=300)return NJ(e,t);let r=await we(e.body,t),n={};n=sX(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1ListIdentityPoolsCommand=OJ;var NJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},MJ=async(e,t)=>{if(e.statusCode>=300)return kJ(e,t);let r=await we(e.body,t),n={};n=iX(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1ListTagsForResourceCommand=MJ;var kJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},DJ=async(e,t)=>{if(e.statusCode>=300)return jJ(e,t);let r=await we(e.body,t),n={};n=aX(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1LookupDeveloperIdentityCommand=DJ;var jJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},LJ=async(e,t)=>{if(e.statusCode>=300)return zJ(e,t);let r=await we(e.body,t),n={};n=lX(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1MergeDeveloperIdentitiesCommand=LJ;var zJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},FJ=async(e,t)=>{if(e.statusCode>=300)return UJ(e,t);await aa(e.body,t);let r={$metadata:F(e)};return Promise.resolve(r)};S.deserializeAws_json1_1SetIdentityPoolRolesCommand=FJ;var UJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await px(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},$J=async(e,t)=>{if(e.statusCode>=300)return HJ(e,t);let r=await we(e.body,t),n={};n=vX(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand=$J;var HJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},GJ=async(e,t)=>{if(e.statusCode>=300)return BJ(e,t);let r=await we(e.body,t),n={};n=EX(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1TagResourceCommand=GJ;var BJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},VJ=async(e,t)=>{if(e.statusCode>=300)return WJ(e,t);await aa(e.body,t);let r={$metadata:F(e)};return Promise.resolve(r)};S.deserializeAws_json1_1UnlinkDeveloperIdentityCommand=VJ;var WJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},KJ=async(e,t)=>{if(e.statusCode>=300)return JJ(e,t);await aa(e.body,t);let r={$metadata:F(e)};return Promise.resolve(r)};S.deserializeAws_json1_1UnlinkIdentityCommand=KJ;var JJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await bp(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},YJ=async(e,t)=>{if(e.statusCode>=300)return XJ(e,t);let r=await we(e.body,t),n={};n=bX(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1UntagResourceCommand=YJ;var XJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},QJ=async(e,t)=>{if(e.statusCode>=300)return ZJ(e,t);let r=await we(e.body,t),n={};n=$g(r,t);let s={$metadata:F(e),...n};return Promise.resolve(s)};S.deserializeAws_json1_1UpdateIdentityPoolCommand=QJ;var ZJ=async(e,t)=>{let r={...e,body:await ce(e.body,t)},n=de(e,r.body);switch(n){case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await px(r,t);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await se(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await ie(r,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Fg(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await fe(r,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await mt(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await pe(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await oe(r,t);default:let s=r.body;(0,E.throwDefaultError)({output:e,parsedBody:s,exceptionCtor:ne.CognitoIdentityServiceException,errorCode:n})}},px=async(e,t)=>{let r=e.body,n=jY(r,t),s=new bt.ConcurrentModificationException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},eY=async(e,t)=>{let r=e.body,n=FY(r,t),s=new bt.DeveloperUserAlreadyRegisteredException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},bp=async(e,t)=>{let r=e.body,n=$Y(r,t),s=new bt.ExternalServiceException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},se=async(e,t)=>{let r=e.body,n=ZY(r,t),s=new bt.InternalErrorException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},tY=async(e,t)=>{let r=e.body,n=eX(r,t),s=new bt.InvalidIdentityPoolConfigurationException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},ie=async(e,t)=>{let r=e.body,n=tX(r,t),s=new bt.InvalidParameterException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},Fg=async(e,t)=>{let r=e.body,n=rX(r,t),s=new bt.LimitExceededException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},fe=async(e,t)=>{let r=e.body,n=uX(r,t),s=new bt.NotAuthorizedException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},mt=async(e,t)=>{let r=e.body,n=pX(r,t),s=new bt.ResourceConflictException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},pe=async(e,t)=>{let r=e.body,n=mX(r,t),s=new bt.ResourceNotFoundException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},oe=async(e,t)=>{let r=e.body,n=SX(r,t),s=new bt.TooManyRequestsException({$metadata:F(e),...n});return(0,E.decorateServiceException)(s,r)},rY=(e,t)=>({...e.ClientId!=null&&{ClientId:e.ClientId},...e.ProviderName!=null&&{ProviderName:e.ProviderName},...e.ServerSideTokenCheck!=null&&{ServerSideTokenCheck:e.ServerSideTokenCheck}}),mx=(e,t)=>e.filter(r=>r!=null).map(r=>rY(r,t)),nY=(e,t)=>({...e.AllowClassicFlow!=null&&{AllowClassicFlow:e.AllowClassicFlow},...e.AllowUnauthenticatedIdentities!=null&&{AllowUnauthenticatedIdentities:e.AllowUnauthenticatedIdentities},...e.CognitoIdentityProviders!=null&&{CognitoIdentityProviders:mx(e.CognitoIdentityProviders,t)},...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.IdentityPoolName!=null&&{IdentityPoolName:e.IdentityPoolName},...e.IdentityPoolTags!=null&&{IdentityPoolTags:Ug(e.IdentityPoolTags,t)},...e.OpenIdConnectProviderARNs!=null&&{OpenIdConnectProviderARNs:_x(e.OpenIdConnectProviderARNs,t)},...e.SamlProviderARNs!=null&&{SamlProviderARNs:gx(e.SamlProviderARNs,t)},...e.SupportedLoginProviders!=null&&{SupportedLoginProviders:hx(e.SupportedLoginProviders,t)}}),sY=(e,t)=>({...e.IdentityIdsToDelete!=null&&{IdentityIdsToDelete:mY(e.IdentityIdsToDelete,t)}}),iY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),oY=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId}}),aY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),cY=(e,t)=>({...e.CustomRoleArn!=null&&{CustomRoleArn:e.CustomRoleArn},...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.Logins!=null&&{Logins:oa(e.Logins,t)}}),dY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),lY=(e,t)=>({...e.AccountId!=null&&{AccountId:e.AccountId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.Logins!=null&&{Logins:oa(e.Logins,t)}}),uY=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.Logins!=null&&{Logins:oa(e.Logins,t)},...e.PrincipalTags!=null&&{PrincipalTags:yx(e.PrincipalTags,t)},...e.TokenDuration!=null&&{TokenDuration:e.TokenDuration}}),fY=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.Logins!=null&&{Logins:oa(e.Logins,t)}}),pY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.IdentityProviderName!=null&&{IdentityProviderName:e.IdentityProviderName}}),mY=(e,t)=>e.filter(r=>r!=null).map(r=>r),hY=(e,t)=>({...e.AllowClassicFlow!=null&&{AllowClassicFlow:e.AllowClassicFlow},...e.AllowUnauthenticatedIdentities!=null&&{AllowUnauthenticatedIdentities:e.AllowUnauthenticatedIdentities},...e.CognitoIdentityProviders!=null&&{CognitoIdentityProviders:mx(e.CognitoIdentityProviders,t)},...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.IdentityPoolName!=null&&{IdentityPoolName:e.IdentityPoolName},...e.IdentityPoolTags!=null&&{IdentityPoolTags:Ug(e.IdentityPoolTags,t)},...e.OpenIdConnectProviderARNs!=null&&{OpenIdConnectProviderARNs:_x(e.OpenIdConnectProviderARNs,t)},...e.SamlProviderARNs!=null&&{SamlProviderARNs:gx(e.SamlProviderARNs,t)},...e.SupportedLoginProviders!=null&&{SupportedLoginProviders:hx(e.SupportedLoginProviders,t)}}),_Y=(e,t)=>e.filter(r=>r!=null).map(r=>r),Ug=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=s),r),{}),hx=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=s),r),{}),yY=(e,t)=>({...e.HideDisabled!=null&&{HideDisabled:e.HideDisabled},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.MaxResults!=null&&{MaxResults:e.MaxResults},...e.NextToken!=null&&{NextToken:e.NextToken}}),gY=(e,t)=>({...e.MaxResults!=null&&{MaxResults:e.MaxResults},...e.NextToken!=null&&{NextToken:e.NextToken}}),wY=(e,t)=>({...e.ResourceArn!=null&&{ResourceArn:e.ResourceArn}}),vY=(e,t)=>e.filter(r=>r!=null).map(r=>r),oa=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=s),r),{}),EY=(e,t)=>({...e.DeveloperUserIdentifier!=null&&{DeveloperUserIdentifier:e.DeveloperUserIdentifier},...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.MaxResults!=null&&{MaxResults:e.MaxResults},...e.NextToken!=null&&{NextToken:e.NextToken}}),SY=(e,t)=>({...e.Claim!=null&&{Claim:e.Claim},...e.MatchType!=null&&{MatchType:e.MatchType},...e.RoleARN!=null&&{RoleARN:e.RoleARN},...e.Value!=null&&{Value:e.Value}}),PY=(e,t)=>e.filter(r=>r!=null).map(r=>SY(r,t)),IY=(e,t)=>({...e.DestinationUserIdentifier!=null&&{DestinationUserIdentifier:e.DestinationUserIdentifier},...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.SourceUserIdentifier!=null&&{SourceUserIdentifier:e.SourceUserIdentifier}}),_x=(e,t)=>e.filter(r=>r!=null).map(r=>r),yx=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=s),r),{}),bY=(e,t)=>({...e.AmbiguousRoleResolution!=null&&{AmbiguousRoleResolution:e.AmbiguousRoleResolution},...e.RulesConfiguration!=null&&{RulesConfiguration:CY(e.RulesConfiguration,t)},...e.Type!=null&&{Type:e.Type}}),AY=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=bY(s,t)),r),{}),RY=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=s),r),{}),CY=(e,t)=>({...e.Rules!=null&&{Rules:PY(e.Rules,t)}}),gx=(e,t)=>e.filter(r=>r!=null).map(r=>r),TY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.RoleMappings!=null&&{RoleMappings:AY(e.RoleMappings,t)},...e.Roles!=null&&{Roles:RY(e.Roles,t)}}),xY=(e,t)=>({...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId},...e.IdentityProviderName!=null&&{IdentityProviderName:e.IdentityProviderName},...e.PrincipalTags!=null&&{PrincipalTags:yx(e.PrincipalTags,t)},...e.UseDefaults!=null&&{UseDefaults:e.UseDefaults}}),qY=(e,t)=>({...e.ResourceArn!=null&&{ResourceArn:e.ResourceArn},...e.Tags!=null&&{Tags:Ug(e.Tags,t)}}),OY=(e,t)=>({...e.DeveloperProviderName!=null&&{DeveloperProviderName:e.DeveloperProviderName},...e.DeveloperUserIdentifier!=null&&{DeveloperUserIdentifier:e.DeveloperUserIdentifier},...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.IdentityPoolId!=null&&{IdentityPoolId:e.IdentityPoolId}}),NY=(e,t)=>({...e.IdentityId!=null&&{IdentityId:e.IdentityId},...e.Logins!=null&&{Logins:oa(e.Logins,t)},...e.LoginsToRemove!=null&&{LoginsToRemove:vY(e.LoginsToRemove,t)}}),MY=(e,t)=>({...e.ResourceArn!=null&&{ResourceArn:e.ResourceArn},...e.TagKeys!=null&&{TagKeys:_Y(e.TagKeys,t)}}),kY=(e,t)=>({ClientId:(0,E.expectString)(e.ClientId),ProviderName:(0,E.expectString)(e.ProviderName),ServerSideTokenCheck:(0,E.expectBoolean)(e.ServerSideTokenCheck)}),DY=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:kY(n,t)),jY=(e,t)=>({message:(0,E.expectString)(e.message)}),LY=(e,t)=>({AccessKeyId:(0,E.expectString)(e.AccessKeyId),Expiration:e.Expiration!=null?(0,E.expectNonNull)((0,E.parseEpochTimestamp)((0,E.expectNumber)(e.Expiration))):void 0,SecretKey:(0,E.expectString)(e.SecretKey),SessionToken:(0,E.expectString)(e.SessionToken)}),zY=(e,t)=>({UnprocessedIdentityIds:e.UnprocessedIdentityIds!=null?IX(e.UnprocessedIdentityIds,t):void 0}),FY=(e,t)=>({message:(0,E.expectString)(e.message)}),UY=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),$Y=(e,t)=>({message:(0,E.expectString)(e.message)}),HY=(e,t)=>({Credentials:e.Credentials!=null?LY(e.Credentials,t):void 0,IdentityId:(0,E.expectString)(e.IdentityId)}),GY=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),RoleMappings:e.RoleMappings!=null?_X(e.RoleMappings,t):void 0,Roles:e.Roles!=null?yX(e.Roles,t):void 0}),BY=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId)}),VY=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId),Token:(0,E.expectString)(e.Token)}),WY=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId),Token:(0,E.expectString)(e.Token)}),KY=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityProviderName:(0,E.expectString)(e.IdentityProviderName),PrincipalTags:e.PrincipalTags!=null?Ex(e.PrincipalTags,t):void 0,UseDefaults:(0,E.expectBoolean)(e.UseDefaults)}),JY=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:wx(n,t)),wx=(e,t)=>({CreationDate:e.CreationDate!=null?(0,E.expectNonNull)((0,E.parseEpochTimestamp)((0,E.expectNumber)(e.CreationDate))):void 0,IdentityId:(0,E.expectString)(e.IdentityId),LastModifiedDate:e.LastModifiedDate!=null?(0,E.expectNonNull)((0,E.parseEpochTimestamp)((0,E.expectNumber)(e.LastModifiedDate))):void 0,Logins:e.Logins!=null?oX(e.Logins,t):void 0}),$g=(e,t)=>({AllowClassicFlow:(0,E.expectBoolean)(e.AllowClassicFlow),AllowUnauthenticatedIdentities:(0,E.expectBoolean)(e.AllowUnauthenticatedIdentities),CognitoIdentityProviders:e.CognitoIdentityProviders!=null?DY(e.CognitoIdentityProviders,t):void 0,DeveloperProviderName:(0,E.expectString)(e.DeveloperProviderName),IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityPoolName:(0,E.expectString)(e.IdentityPoolName),IdentityPoolTags:e.IdentityPoolTags!=null?vx(e.IdentityPoolTags,t):void 0,OpenIdConnectProviderARNs:e.OpenIdConnectProviderARNs!=null?fX(e.OpenIdConnectProviderARNs,t):void 0,SamlProviderARNs:e.SamlProviderARNs!=null?wX(e.SamlProviderARNs,t):void 0,SupportedLoginProviders:e.SupportedLoginProviders!=null?QY(e.SupportedLoginProviders,t):void 0}),YY=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityPoolName:(0,E.expectString)(e.IdentityPoolName)}),XY=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:YY(n,t)),vx=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,E.expectString)(s)),r),{}),QY=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,E.expectString)(s)),r),{}),ZY=(e,t)=>({message:(0,E.expectString)(e.message)}),eX=(e,t)=>({message:(0,E.expectString)(e.message)}),tX=(e,t)=>({message:(0,E.expectString)(e.message)}),rX=(e,t)=>({message:(0,E.expectString)(e.message)}),nX=(e,t)=>({Identities:e.Identities!=null?JY(e.Identities,t):void 0,IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),NextToken:(0,E.expectString)(e.NextToken)}),sX=(e,t)=>({IdentityPools:e.IdentityPools!=null?XY(e.IdentityPools,t):void 0,NextToken:(0,E.expectString)(e.NextToken)}),iX=(e,t)=>({Tags:e.Tags!=null?vx(e.Tags,t):void 0}),oX=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),aX=(e,t)=>({DeveloperUserIdentifierList:e.DeveloperUserIdentifierList!=null?UY(e.DeveloperUserIdentifierList,t):void 0,IdentityId:(0,E.expectString)(e.IdentityId),NextToken:(0,E.expectString)(e.NextToken)}),cX=(e,t)=>({Claim:(0,E.expectString)(e.Claim),MatchType:(0,E.expectString)(e.MatchType),RoleARN:(0,E.expectString)(e.RoleARN),Value:(0,E.expectString)(e.Value)}),dX=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:cX(n,t)),lX=(e,t)=>({IdentityId:(0,E.expectString)(e.IdentityId)}),uX=(e,t)=>({message:(0,E.expectString)(e.message)}),fX=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),Ex=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,E.expectString)(s)),r),{}),pX=(e,t)=>({message:(0,E.expectString)(e.message)}),mX=(e,t)=>({message:(0,E.expectString)(e.message)}),hX=(e,t)=>({AmbiguousRoleResolution:(0,E.expectString)(e.AmbiguousRoleResolution),RulesConfiguration:e.RulesConfiguration!=null?gX(e.RulesConfiguration,t):void 0,Type:(0,E.expectString)(e.Type)}),_X=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=hX(s,t)),r),{}),yX=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=(0,E.expectString)(s)),r),{}),gX=(e,t)=>({Rules:e.Rules!=null?dX(e.Rules,t):void 0}),wX=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:(0,E.expectString)(n)),vX=(e,t)=>({IdentityPoolId:(0,E.expectString)(e.IdentityPoolId),IdentityProviderName:(0,E.expectString)(e.IdentityProviderName),PrincipalTags:e.PrincipalTags!=null?Ex(e.PrincipalTags,t):void 0,UseDefaults:(0,E.expectBoolean)(e.UseDefaults)}),EX=(e,t)=>({}),SX=(e,t)=>({message:(0,E.expectString)(e.message)}),PX=(e,t)=>({ErrorCode:(0,E.expectString)(e.ErrorCode),IdentityId:(0,E.expectString)(e.IdentityId)}),IX=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>n===null?null:PX(n,t)),bX=(e,t)=>({}),F=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),aa=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),AX=(e,t)=>aa(e,t).then(r=>t.utf8Encoder(r)),ae=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),d={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new L9.HttpRequest(d)},we=(e,t)=>AX(e,t).then(r=>r.length?JSON.parse(r):{}),ce=async(e,t)=>{let r=await we(e,t);return r.message=r.message??r.Message,r},de=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Hg=l(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.CreateIdentityPoolCommand=void 0;var RX=k(),CX=j(),TX=J(),xX=R(),Sx=Q(),Px=re(),ca=class extends xX.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,CX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,RX.getEndpointPlugin)(r,ca.getEndpointParameterInstructions())),this.middlewareStack.use((0,TX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"CreateIdentityPoolCommand",inputFilterSensitiveLog:Sx.CreateIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:Sx.IdentityPoolFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Px.serializeAws_json1_1CreateIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,Px.deserializeAws_json1_1CreateIdentityPoolCommand)(t,r)}};Ap.CreateIdentityPoolCommand=ca});var Gg=l(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.DeleteIdentitiesCommand=void 0;var qX=k(),OX=j(),NX=J(),MX=R(),Ix=Q(),bx=re(),da=class extends MX.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,OX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,qX.getEndpointPlugin)(r,da.getEndpointParameterInstructions())),this.middlewareStack.use((0,NX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DeleteIdentitiesCommand",inputFilterSensitiveLog:Ix.DeleteIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:Ix.DeleteIdentitiesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,bx.serializeAws_json1_1DeleteIdentitiesCommand)(t,r)}deserialize(t,r){return(0,bx.deserializeAws_json1_1DeleteIdentitiesCommand)(t,r)}};Rp.DeleteIdentitiesCommand=da});var Bg=l(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.DeleteIdentityPoolCommand=void 0;var kX=k(),DX=j(),jX=J(),LX=R(),zX=Q(),Ax=re(),la=class extends LX.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,DX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,kX.getEndpointPlugin)(r,la.getEndpointParameterInstructions())),this.middlewareStack.use((0,jX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DeleteIdentityPoolCommand",inputFilterSensitiveLog:zX.DeleteIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Ax.serializeAws_json1_1DeleteIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,Ax.deserializeAws_json1_1DeleteIdentityPoolCommand)(t,r)}};Cp.DeleteIdentityPoolCommand=la});var Vg=l(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.DescribeIdentityCommand=void 0;var FX=k(),UX=j(),$X=J(),HX=R(),Rx=Q(),Cx=re(),ua=class extends HX.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,UX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,FX.getEndpointPlugin)(r,ua.getEndpointParameterInstructions())),this.middlewareStack.use((0,$X.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DescribeIdentityCommand",inputFilterSensitiveLog:Rx.DescribeIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:Rx.IdentityDescriptionFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Cx.serializeAws_json1_1DescribeIdentityCommand)(t,r)}deserialize(t,r){return(0,Cx.deserializeAws_json1_1DescribeIdentityCommand)(t,r)}};Tp.DescribeIdentityCommand=ua});var Wg=l(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.DescribeIdentityPoolCommand=void 0;var GX=k(),BX=j(),VX=J(),WX=R(),Tx=Q(),xx=re(),fa=class extends WX.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,BX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,GX.getEndpointPlugin)(r,fa.getEndpointParameterInstructions())),this.middlewareStack.use((0,VX.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"DescribeIdentityPoolCommand",inputFilterSensitiveLog:Tx.DescribeIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:Tx.IdentityPoolFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,xx.serializeAws_json1_1DescribeIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,xx.deserializeAws_json1_1DescribeIdentityPoolCommand)(t,r)}};xp.DescribeIdentityPoolCommand=fa});var Kg=l(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.GetCredentialsForIdentityCommand=void 0;var KX=k(),JX=j(),YX=R(),qx=Q(),Ox=re(),pa=class extends YX.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,JX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,KX.getEndpointPlugin)(r,pa.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:qx.GetCredentialsForIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:qx.GetCredentialsForIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Ox.serializeAws_json1_1GetCredentialsForIdentityCommand)(t,r)}deserialize(t,r){return(0,Ox.deserializeAws_json1_1GetCredentialsForIdentityCommand)(t,r)}};qp.GetCredentialsForIdentityCommand=pa});var Jg=l(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.GetIdCommand=void 0;var XX=k(),QX=j(),ZX=R(),Nx=Q(),Mx=re(),ma=class extends ZX.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,QX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,XX.getEndpointPlugin)(r,ma.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:Nx.GetIdInputFilterSensitiveLog,outputFilterSensitiveLog:Nx.GetIdResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Mx.serializeAws_json1_1GetIdCommand)(t,r)}deserialize(t,r){return(0,Mx.deserializeAws_json1_1GetIdCommand)(t,r)}};Op.GetIdCommand=ma});var Yg=l(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.GetIdentityPoolRolesCommand=void 0;var eQ=k(),tQ=j(),rQ=J(),nQ=R(),kx=Q(),Dx=re(),ha=class extends nQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,tQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,eQ.getEndpointPlugin)(r,ha.getEndpointParameterInstructions())),this.middlewareStack.use((0,rQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetIdentityPoolRolesCommand",inputFilterSensitiveLog:kx.GetIdentityPoolRolesInputFilterSensitiveLog,outputFilterSensitiveLog:kx.GetIdentityPoolRolesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Dx.serializeAws_json1_1GetIdentityPoolRolesCommand)(t,r)}deserialize(t,r){return(0,Dx.deserializeAws_json1_1GetIdentityPoolRolesCommand)(t,r)}};Np.GetIdentityPoolRolesCommand=ha});var Xg=l(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.GetOpenIdTokenCommand=void 0;var sQ=k(),iQ=j(),oQ=R(),jx=Q(),Lx=re(),_a=class extends oQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,iQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,sQ.getEndpointPlugin)(r,_a.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetOpenIdTokenCommand",inputFilterSensitiveLog:jx.GetOpenIdTokenInputFilterSensitiveLog,outputFilterSensitiveLog:jx.GetOpenIdTokenResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Lx.serializeAws_json1_1GetOpenIdTokenCommand)(t,r)}deserialize(t,r){return(0,Lx.deserializeAws_json1_1GetOpenIdTokenCommand)(t,r)}};Mp.GetOpenIdTokenCommand=_a});var Qg=l(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.GetOpenIdTokenForDeveloperIdentityCommand=void 0;var aQ=k(),cQ=j(),dQ=J(),lQ=R(),zx=Q(),Fx=re(),ya=class extends lQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,cQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,aQ.getEndpointPlugin)(r,ya.getEndpointParameterInstructions())),this.middlewareStack.use((0,dQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetOpenIdTokenForDeveloperIdentityCommand",inputFilterSensitiveLog:zx.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:zx.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Fx.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand)(t,r)}deserialize(t,r){return(0,Fx.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand)(t,r)}};kp.GetOpenIdTokenForDeveloperIdentityCommand=ya});var Zg=l(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.GetPrincipalTagAttributeMapCommand=void 0;var uQ=k(),fQ=j(),pQ=J(),mQ=R(),Ux=Q(),$x=re(),ga=class extends mQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,fQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,uQ.getEndpointPlugin)(r,ga.getEndpointParameterInstructions())),this.middlewareStack.use((0,pQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"GetPrincipalTagAttributeMapCommand",inputFilterSensitiveLog:Ux.GetPrincipalTagAttributeMapInputFilterSensitiveLog,outputFilterSensitiveLog:Ux.GetPrincipalTagAttributeMapResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,$x.serializeAws_json1_1GetPrincipalTagAttributeMapCommand)(t,r)}deserialize(t,r){return(0,$x.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand)(t,r)}};Dp.GetPrincipalTagAttributeMapCommand=ga});var ew=l(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.ListIdentitiesCommand=void 0;var hQ=k(),_Q=j(),yQ=J(),gQ=R(),Hx=Q(),Gx=re(),wa=class extends gQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,_Q.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,hQ.getEndpointPlugin)(r,wa.getEndpointParameterInstructions())),this.middlewareStack.use((0,yQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"ListIdentitiesCommand",inputFilterSensitiveLog:Hx.ListIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:Hx.ListIdentitiesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Gx.serializeAws_json1_1ListIdentitiesCommand)(t,r)}deserialize(t,r){return(0,Gx.deserializeAws_json1_1ListIdentitiesCommand)(t,r)}};jp.ListIdentitiesCommand=wa});var zp=l(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.ListIdentityPoolsCommand=void 0;var wQ=k(),vQ=j(),EQ=J(),SQ=R(),Bx=Q(),Vx=re(),va=class extends SQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,vQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,wQ.getEndpointPlugin)(r,va.getEndpointParameterInstructions())),this.middlewareStack.use((0,EQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"ListIdentityPoolsCommand",inputFilterSensitiveLog:Bx.ListIdentityPoolsInputFilterSensitiveLog,outputFilterSensitiveLog:Bx.ListIdentityPoolsResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Vx.serializeAws_json1_1ListIdentityPoolsCommand)(t,r)}deserialize(t,r){return(0,Vx.deserializeAws_json1_1ListIdentityPoolsCommand)(t,r)}};Lp.ListIdentityPoolsCommand=va});var tw=l(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.ListTagsForResourceCommand=void 0;var PQ=k(),IQ=j(),bQ=J(),AQ=R(),Wx=Q(),Kx=re(),Ea=class extends AQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,IQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,PQ.getEndpointPlugin)(r,Ea.getEndpointParameterInstructions())),this.middlewareStack.use((0,bQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:Wx.ListTagsForResourceInputFilterSensitiveLog,outputFilterSensitiveLog:Wx.ListTagsForResourceResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Kx.serializeAws_json1_1ListTagsForResourceCommand)(t,r)}deserialize(t,r){return(0,Kx.deserializeAws_json1_1ListTagsForResourceCommand)(t,r)}};Fp.ListTagsForResourceCommand=Ea});var rw=l(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.LookupDeveloperIdentityCommand=void 0;var RQ=k(),CQ=j(),TQ=J(),xQ=R(),Jx=Q(),Yx=re(),Sa=class extends xQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,CQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,RQ.getEndpointPlugin)(r,Sa.getEndpointParameterInstructions())),this.middlewareStack.use((0,TQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"LookupDeveloperIdentityCommand",inputFilterSensitiveLog:Jx.LookupDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:Jx.LookupDeveloperIdentityResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Yx.serializeAws_json1_1LookupDeveloperIdentityCommand)(t,r)}deserialize(t,r){return(0,Yx.deserializeAws_json1_1LookupDeveloperIdentityCommand)(t,r)}};Up.LookupDeveloperIdentityCommand=Sa});var nw=l($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.MergeDeveloperIdentitiesCommand=void 0;var qQ=k(),OQ=j(),NQ=J(),MQ=R(),Xx=Q(),Qx=re(),Pa=class extends MQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,OQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,qQ.getEndpointPlugin)(r,Pa.getEndpointParameterInstructions())),this.middlewareStack.use((0,NQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"MergeDeveloperIdentitiesCommand",inputFilterSensitiveLog:Xx.MergeDeveloperIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:Xx.MergeDeveloperIdentitiesResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Qx.serializeAws_json1_1MergeDeveloperIdentitiesCommand)(t,r)}deserialize(t,r){return(0,Qx.deserializeAws_json1_1MergeDeveloperIdentitiesCommand)(t,r)}};$p.MergeDeveloperIdentitiesCommand=Pa});var sw=l(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.SetIdentityPoolRolesCommand=void 0;var kQ=k(),DQ=j(),jQ=J(),LQ=R(),zQ=Q(),Zx=re(),Ia=class extends LQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,DQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,kQ.getEndpointPlugin)(r,Ia.getEndpointParameterInstructions())),this.middlewareStack.use((0,jQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"SetIdentityPoolRolesCommand",inputFilterSensitiveLog:zQ.SetIdentityPoolRolesInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,Zx.serializeAws_json1_1SetIdentityPoolRolesCommand)(t,r)}deserialize(t,r){return(0,Zx.deserializeAws_json1_1SetIdentityPoolRolesCommand)(t,r)}};Hp.SetIdentityPoolRolesCommand=Ia});var iw=l(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.SetPrincipalTagAttributeMapCommand=void 0;var FQ=k(),UQ=j(),$Q=J(),HQ=R(),eq=Q(),tq=re(),ba=class extends HQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,UQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,FQ.getEndpointPlugin)(r,ba.getEndpointParameterInstructions())),this.middlewareStack.use((0,$Q.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"SetPrincipalTagAttributeMapCommand",inputFilterSensitiveLog:eq.SetPrincipalTagAttributeMapInputFilterSensitiveLog,outputFilterSensitiveLog:eq.SetPrincipalTagAttributeMapResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,tq.serializeAws_json1_1SetPrincipalTagAttributeMapCommand)(t,r)}deserialize(t,r){return(0,tq.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand)(t,r)}};Gp.SetPrincipalTagAttributeMapCommand=ba});var ow=l(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.TagResourceCommand=void 0;var GQ=k(),BQ=j(),VQ=J(),WQ=R(),rq=Q(),nq=re(),Aa=class extends WQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,BQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,GQ.getEndpointPlugin)(r,Aa.getEndpointParameterInstructions())),this.middlewareStack.use((0,VQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:rq.TagResourceInputFilterSensitiveLog,outputFilterSensitiveLog:rq.TagResourceResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,nq.serializeAws_json1_1TagResourceCommand)(t,r)}deserialize(t,r){return(0,nq.deserializeAws_json1_1TagResourceCommand)(t,r)}};Bp.TagResourceCommand=Aa});var aw=l(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.UnlinkDeveloperIdentityCommand=void 0;var KQ=k(),JQ=j(),YQ=J(),XQ=R(),QQ=Q(),sq=re(),Ra=class extends XQ.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,JQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,KQ.getEndpointPlugin)(r,Ra.getEndpointParameterInstructions())),this.middlewareStack.use((0,YQ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UnlinkDeveloperIdentityCommand",inputFilterSensitiveLog:QQ.UnlinkDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,sq.serializeAws_json1_1UnlinkDeveloperIdentityCommand)(t,r)}deserialize(t,r){return(0,sq.deserializeAws_json1_1UnlinkDeveloperIdentityCommand)(t,r)}};Vp.UnlinkDeveloperIdentityCommand=Ra});var cw=l(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.UnlinkIdentityCommand=void 0;var ZQ=k(),e7=j(),t7=R(),r7=Q(),iq=re(),Ca=class extends t7.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,e7.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,ZQ.getEndpointPlugin)(r,Ca.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UnlinkIdentityCommand",inputFilterSensitiveLog:r7.UnlinkIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:u=>u},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,iq.serializeAws_json1_1UnlinkIdentityCommand)(t,r)}deserialize(t,r){return(0,iq.deserializeAws_json1_1UnlinkIdentityCommand)(t,r)}};Wp.UnlinkIdentityCommand=Ca});var dw=l(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.UntagResourceCommand=void 0;var n7=k(),s7=j(),i7=J(),o7=R(),oq=Q(),aq=re(),Ta=class extends o7.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,s7.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,n7.getEndpointPlugin)(r,Ta.getEndpointParameterInstructions())),this.middlewareStack.use((0,i7.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:oq.UntagResourceInputFilterSensitiveLog,outputFilterSensitiveLog:oq.UntagResourceResponseFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,aq.serializeAws_json1_1UntagResourceCommand)(t,r)}deserialize(t,r){return(0,aq.deserializeAws_json1_1UntagResourceCommand)(t,r)}};Kp.UntagResourceCommand=Ta});var lw=l(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.UpdateIdentityPoolCommand=void 0;var a7=k(),c7=j(),d7=J(),l7=R(),cq=Q(),dq=re(),xa=class extends l7.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,c7.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,a7.getEndpointPlugin)(r,xa.getEndpointParameterInstructions())),this.middlewareStack.use((0,d7.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityClient",commandName:"UpdateIdentityPoolCommand",inputFilterSensitiveLog:cq.IdentityPoolFilterSensitiveLog,outputFilterSensitiveLog:cq.IdentityPoolFilterSensitiveLog},{requestHandler:d}=r;return s.resolve(u=>d.handle(u.request,n||{}),c)}serialize(t,r){return(0,dq.serializeAws_json1_1UpdateIdentityPoolCommand)(t,r)}deserialize(t,r){return(0,dq.deserializeAws_json1_1UpdateIdentityPoolCommand)(t,r)}};Jp.UpdateIdentityPoolCommand=xa});var lq=l(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.CognitoIdentity=void 0;var u7=Sp(),f7=Hg(),p7=Gg(),m7=Bg(),h7=Vg(),_7=Wg(),y7=Kg(),g7=Jg(),w7=Yg(),v7=Xg(),E7=Qg(),S7=Zg(),P7=ew(),I7=zp(),b7=tw(),A7=rw(),R7=nw(),C7=sw(),T7=iw(),x7=ow(),q7=aw(),O7=cw(),N7=dw(),M7=lw(),uw=class extends u7.CognitoIdentityClient{createIdentityPool(t,r,n){let s=new f7.CreateIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}deleteIdentities(t,r,n){let s=new p7.DeleteIdentitiesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}deleteIdentityPool(t,r,n){let s=new m7.DeleteIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}describeIdentity(t,r,n){let s=new h7.DescribeIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}describeIdentityPool(t,r,n){let s=new _7.DescribeIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getCredentialsForIdentity(t,r,n){let s=new y7.GetCredentialsForIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getId(t,r,n){let s=new g7.GetIdCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getIdentityPoolRoles(t,r,n){let s=new w7.GetIdentityPoolRolesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getOpenIdToken(t,r,n){let s=new v7.GetOpenIdTokenCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getOpenIdTokenForDeveloperIdentity(t,r,n){let s=new E7.GetOpenIdTokenForDeveloperIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}getPrincipalTagAttributeMap(t,r,n){let s=new S7.GetPrincipalTagAttributeMapCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listIdentities(t,r,n){let s=new P7.ListIdentitiesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listIdentityPools(t,r,n){let s=new I7.ListIdentityPoolsCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}listTagsForResource(t,r,n){let s=new b7.ListTagsForResourceCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}lookupDeveloperIdentity(t,r,n){let s=new A7.LookupDeveloperIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}mergeDeveloperIdentities(t,r,n){let s=new R7.MergeDeveloperIdentitiesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}setIdentityPoolRoles(t,r,n){let s=new C7.SetIdentityPoolRolesCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}setPrincipalTagAttributeMap(t,r,n){let s=new T7.SetPrincipalTagAttributeMapCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}tagResource(t,r,n){let s=new x7.TagResourceCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}unlinkDeveloperIdentity(t,r,n){let s=new q7.UnlinkDeveloperIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}unlinkIdentity(t,r,n){let s=new O7.UnlinkIdentityCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}untagResource(t,r,n){let s=new N7.UntagResourceCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}updateIdentityPool(t,r,n){let s=new M7.UpdateIdentityPoolCommand(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}};Yp.CognitoIdentity=uw});var uq=l(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});var le=A();le.__exportStar(Hg(),Z);le.__exportStar(Gg(),Z);le.__exportStar(Bg(),Z);le.__exportStar(Vg(),Z);le.__exportStar(Wg(),Z);le.__exportStar(Kg(),Z);le.__exportStar(Jg(),Z);le.__exportStar(Yg(),Z);le.__exportStar(Xg(),Z);le.__exportStar(Qg(),Z);le.__exportStar(Zg(),Z);le.__exportStar(ew(),Z);le.__exportStar(zp(),Z);le.__exportStar(tw(),Z);le.__exportStar(rw(),Z);le.__exportStar(nw(),Z);le.__exportStar(sw(),Z);le.__exportStar(iw(),Z);le.__exportStar(ow(),Z);le.__exportStar(aw(),Z);le.__exportStar(cw(),Z);le.__exportStar(dw(),Z);le.__exportStar(lw(),Z)});var fq=l(fw=>{"use strict";Object.defineProperty(fw,"__esModule",{value:!0});var k7=A();k7.__exportStar(Q(),fw)});var mq=l(pq=>{"use strict";Object.defineProperty(pq,"__esModule",{value:!0})});var hq=l(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.paginateListIdentityPools=void 0;var D7=Sp(),j7=zp(),L7=async(e,t,...r)=>await e.send(new j7.ListIdentityPoolsCommand(t),...r);async function*z7(e,t,...r){let n=e.startingToken||void 0,s=!0,i;for(;s;){if(t.NextToken=n,t.MaxResults=e.pageSize,e.client instanceof D7.CognitoIdentityClient)i=await L7(e.client,t,...r);else throw new Error("Invalid client, expected CognitoIdentity | CognitoIdentityClient");yield i;let o=n;n=i.NextToken,s=!!(n&&(!e.stopOnSameToken||n!==o))}return void 0}Xp.paginateListIdentityPools=z7});var yq=l(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});var _q=A();_q.__exportStar(mq(),Qp);_q.__exportStar(hq(),Qp)});var Oa=l(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.CognitoIdentityServiceException=void 0;var qa=A();qa.__exportStar(lq(),Ar);qa.__exportStar(Sp(),Ar);qa.__exportStar(uq(),Ar);qa.__exportStar(fq(),Ar);qa.__exportStar(yq(),Ar);var F7=Ip();Object.defineProperty(Ar,"CognitoIdentityServiceException",{enumerable:!0,get:function(){return F7.CognitoIdentityServiceException}})});var wq=l(gq=>{"use strict";Object.defineProperty(gq,"__esModule",{value:!0})});var Eq=l(vq=>{"use strict";Object.defineProperty(vq,"__esModule",{value:!0})});var Pq=l(Sq=>{"use strict";Object.defineProperty(Sq,"__esModule",{value:!0})});var pw=l(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.resolveLogins=void 0;function U7(e){return Promise.all(Object.keys(e).reduce((t,r)=>{let n=e[r];return typeof n=="string"?t.push([r,n]):t.push(n().then(s=>[r,s])),t},[])).then(t=>t.reduce((r,[n,s])=>(r[n]=s,r),{}))}Zp.resolveLogins=U7});var hw=l(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.fromCognitoIdentity=void 0;var $7=Oa(),mw=V(),H7=pw();function G7(e){return async()=>{let{Credentials:{AccessKeyId:t=B7(),Expiration:r,SecretKey:n=W7(),SessionToken:s}=V7()}=await e.client.send(new $7.GetCredentialsForIdentityCommand({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await(0,H7.resolveLogins)(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:t,secretAccessKey:n,sessionToken:s,expiration:r}}}em.fromCognitoIdentity=G7;function B7(){throw new mw.CredentialsProviderError("Response from Amazon Cognito contained no access key ID")}function V7(){throw new mw.CredentialsProviderError("Response from Amazon Cognito contained no credentials")}function W7(){throw new mw.CredentialsProviderError("Response from Amazon Cognito contained no secret key")}});var Iq=l(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.IndexedDbStorage=void 0;var _w="IdentityIds",yw=class{constructor(t="aws:cognito-identity-ids"){this.dbName=t}getItem(t){return this.withObjectStore("readonly",r=>{let n=r.get(t);return new Promise(s=>{n.onerror=()=>s(null),n.onsuccess=()=>s(n.result?n.result.value:null)})}).catch(()=>null)}removeItem(t){return this.withObjectStore("readwrite",r=>{let n=r.delete(t);return new Promise((s,i)=>{n.onerror=()=>i(n.error),n.onsuccess=()=>s()})})}setItem(t,r){return this.withObjectStore("readwrite",n=>{let s=n.put({id:t,value:r});return new Promise((i,o)=>{s.onerror=()=>o(s.error),s.onsuccess=()=>i()})})}getDb(){let t=self.indexedDB.open(this.dbName,1);return new Promise((r,n)=>{t.onsuccess=()=>{r(t.result)},t.onerror=()=>{n(t.error)},t.onblocked=()=>{n(new Error("Unable to access DB"))},t.onupgradeneeded=()=>{let s=t.result;s.onerror=()=>{n(new Error("Failed to create object store"))},s.createObjectStore(_w,{keyPath:"id"})}})}withObjectStore(t,r){return this.getDb().then(n=>{let s=n.transaction(_w,t);return s.oncomplete=()=>n.close(),new Promise((i,o)=>{s.onerror=()=>o(s.error),i(r(s.objectStore(_w)))}).catch(i=>{throw n.close(),i})})}};tm.IndexedDbStorage=yw});var bq=l(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.InMemoryStorage=void 0;var gw=class{constructor(t={}){this.store=t}getItem(t){return t in this.store?this.store[t]:null}removeItem(t){delete this.store[t]}setItem(t,r){this.store[t]=r}};rm.InMemoryStorage=gw});var Aq=l(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.localStorage=void 0;var K7=Iq(),J7=bq(),Y7=new J7.InMemoryStorage;function X7(){return typeof self=="object"&&self.indexedDB?new K7.IndexedDbStorage:typeof window=="object"&&window.localStorage?window.localStorage:Y7}nm.localStorage=X7});var Rq=l(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.fromCognitoIdentityPool=void 0;var Q7=Oa(),Z7=V(),eZ=hw(),tZ=Aq(),rZ=pw();function nZ({accountId:e,cache:t=(0,tZ.localStorage)(),client:r,customRoleArn:n,identityPoolId:s,logins:i,userIdentifier:o=!i||Object.keys(i).length===0?"ANONYMOUS":void 0}){let a=o?`aws:cognito-identity-credentials:${s}:${o}`:void 0,c=async()=>{let d=a&&await t.getItem(a);if(!d){let{IdentityId:u=sZ()}=await r.send(new Q7.GetIdCommand({AccountId:e,IdentityPoolId:s,Logins:i?await(0,rZ.resolveLogins)(i):void 0}));d=u,a&&Promise.resolve(t.setItem(a,d)).catch(()=>{})}return c=(0,eZ.fromCognitoIdentity)({client:r,customRoleArn:n,logins:i,identityId:d}),c()};return()=>c().catch(async d=>{throw a&&Promise.resolve(t.removeItem(a)).catch(()=>{}),d})}sm.fromCognitoIdentityPool=nZ;function sZ(){throw new Z7.CredentialsProviderError("Response from Amazon Cognito contained no identity ID")}});var ww=l(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});var Na=A();Na.__exportStar(wq(),Nn);Na.__exportStar(Eq(),Nn);Na.__exportStar(Pq(),Nn);Na.__exportStar(hw(),Nn);Na.__exportStar(Rq(),Nn)});var Cq=l(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.fromCognitoIdentity=void 0;var iZ=Oa(),oZ=ww(),aZ=e=>{var t;return(0,oZ.fromCognitoIdentity)({...e,client:new iZ.CognitoIdentityClient((t=e.clientConfig)!==null&&t!==void 0?t:{})})};im.fromCognitoIdentity=aZ});var Tq=l(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.fromCognitoIdentityPool=void 0;var cZ=Oa(),dZ=ww(),lZ=e=>{var t;return(0,dZ.fromCognitoIdentityPool)({...e,client:new cZ.CognitoIdentityClient((t=e.clientConfig)!==null&&t!==void 0?t:{})})};om.fromCognitoIdentityPool=lZ});var xq=l(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.fromContainerMetadata=void 0;var uZ=fs(),fZ=e=>(0,uZ.fromContainerMetadata)(e);am.fromContainerMetadata=fZ});var qq=l(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.fromEnv=void 0;var pZ=Xl(),mZ=()=>(0,pZ.fromEnv)();cm.fromEnv=mZ});var Nq=l(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.fromIni=void 0;var Oq=On(),hZ=xg(),_Z=(e={})=>{var t,r;return(0,hZ.fromIni)({...e,roleAssumer:(t=e.roleAssumer)!==null&&t!==void 0?t:(0,Oq.getDefaultRoleAssumer)(e.clientConfig,e.clientPlugins),roleAssumerWithWebIdentity:(r=e.roleAssumerWithWebIdentity)!==null&&r!==void 0?r:(0,Oq.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};dm.fromIni=_Z});var Mq=l(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.fromInstanceMetadata=void 0;var yZ=fs(),gZ=e=>(0,yZ.fromInstanceMetadata)(e);lm.fromInstanceMetadata=gZ});var Dq=l(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.fromNodeProviderChain=void 0;var kq=On(),wZ=ap(),vZ=(e={})=>{var t,r;return(0,wZ.defaultProvider)({...e,roleAssumer:(t=e.roleAssumer)!==null&&t!==void 0?t:(0,kq.getDefaultRoleAssumer)(e.clientConfig,e.clientPlugins),roleAssumerWithWebIdentity:(r=e.roleAssumerWithWebIdentity)!==null&&r!==void 0?r:(0,kq.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};um.fromNodeProviderChain=vZ});var jq=l(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.fromProcess=void 0;var EZ=Au(),SZ=e=>(0,EZ.fromProcess)(e);fm.fromProcess=SZ});var Lq=l(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.fromSSO=void 0;var PZ=ig(),IZ=zo(),bZ=(e={})=>(0,IZ.fromSSO)({ssoClient:e.clientConfig?new PZ.SSOClient(e.clientConfig):void 0,...e});pm.fromSSO=bZ});var Uq=l(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.fromTemporaryCredentials=void 0;var zq=On(),Fq=V(),AZ=e=>{let t;return async()=>{var r;let n={...e.params,RoleSessionName:(r=e.params.RoleSessionName)!==null&&r!==void 0?r:"aws-sdk-js-"+Date.now()};if(n?.SerialNumber){if(!e.mfaCodeProvider)throw new Fq.CredentialsProviderError("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",!1);n.TokenCode=await e.mfaCodeProvider(n?.SerialNumber)}if(t||(t=new zq.STSClient({...e.clientConfig,credentials:e.masterCredentials})),e.clientPlugins)for(let i of e.clientPlugins)t.middlewareStack.use(i);let{Credentials:s}=await t.send(new zq.AssumeRoleCommand(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Fq.CredentialsProviderError(`Invalid response from STS.assumeRole call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};mm.fromTemporaryCredentials=AZ});var $q=l(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.fromTokenFile=void 0;var RZ=On(),CZ=Fo(),TZ=(e={})=>{var t;return(0,CZ.fromTokenFile)({...e,roleAssumerWithWebIdentity:(t=e.roleAssumerWithWebIdentity)!==null&&t!==void 0?t:(0,RZ.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};hm.fromTokenFile=TZ});var Hq=l(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.fromWebToken=void 0;var xZ=On(),qZ=Fo(),OZ=e=>{var t;return(0,qZ.fromWebToken)({...e,roleAssumerWithWebIdentity:(t=e.roleAssumerWithWebIdentity)!==null&&t!==void 0?t:(0,xZ.getDefaultRoleAssumerWithWebIdentity)(e.clientConfig,e.clientPlugins)})};_m.fromWebToken=OZ});var Gq=l(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var ht=A();ht.__exportStar(Cq(),We);ht.__exportStar(Tq(),We);ht.__exportStar(xq(),We);ht.__exportStar(qq(),We);ht.__exportStar(Nq(),We);ht.__exportStar(Mq(),We);ht.__exportStar(Dq(),We);ht.__exportStar(jq(),We);ht.__exportStar(Lq(),We);ht.__exportStar(Uq(),We);ht.__exportStar($q(),We);ht.__exportStar(Hq(),We)});var Cr=l((Rr,ym)=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});var Bq=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function NZ(e){return Bq.includes(e)}var MZ=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...Bq];function kZ(e){return MZ.includes(e)}var DZ=["null","undefined","string","number","bigint","boolean","symbol"];function jZ(e){return DZ.includes(e)}function As(e){return t=>typeof t===e}var{toString:Vq}=Object.prototype,Ma=e=>{let t=Vq.call(e).slice(8,-1);if(/HTML\w+Element/.test(t)&&h.domElement(e))return"HTMLElement";if(kZ(t))return t},X=e=>t=>Ma(t)===e;function h(e){if(e===null)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(h.observable(e))return"Observable";if(h.array(e))return"Array";if(h.buffer(e))return"Buffer";let t=Ma(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}h.undefined=As("undefined");h.string=As("string");var LZ=As("number");h.number=e=>LZ(e)&&!h.nan(e);h.bigint=As("bigint");h.function_=As("function");h.null_=e=>e===null;h.class_=e=>h.function_(e)&&e.toString().startsWith("class ");h.boolean=e=>e===!0||e===!1;h.symbol=As("symbol");h.numericString=e=>h.string(e)&&!h.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e));h.array=(e,t)=>Array.isArray(e)?h.function_(t)?e.every(t):!0:!1;h.buffer=e=>{var t,r,n,s;return(s=(n=(r=(t=e)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.isBuffer)===null||n===void 0?void 0:n.call(r,e))!==null&&s!==void 0?s:!1};h.blob=e=>X("Blob")(e);h.nullOrUndefined=e=>h.null_(e)||h.undefined(e);h.object=e=>!h.null_(e)&&(typeof e=="object"||h.function_(e));h.iterable=e=>{var t;return h.function_((t=e)===null||t===void 0?void 0:t[Symbol.iterator])};h.asyncIterable=e=>{var t;return h.function_((t=e)===null||t===void 0?void 0:t[Symbol.asyncIterator])};h.generator=e=>{var t,r;return h.iterable(e)&&h.function_((t=e)===null||t===void 0?void 0:t.next)&&h.function_((r=e)===null||r===void 0?void 0:r.throw)};h.asyncGenerator=e=>h.asyncIterable(e)&&h.function_(e.next)&&h.function_(e.throw);h.nativePromise=e=>X("Promise")(e);var zZ=e=>{var t,r;return h.function_((t=e)===null||t===void 0?void 0:t.then)&&h.function_((r=e)===null||r===void 0?void 0:r.catch)};h.promise=e=>h.nativePromise(e)||zZ(e);h.generatorFunction=X("GeneratorFunction");h.asyncGeneratorFunction=e=>Ma(e)==="AsyncGeneratorFunction";h.asyncFunction=e=>Ma(e)==="AsyncFunction";h.boundFunction=e=>h.function_(e)&&!e.hasOwnProperty("prototype");h.regExp=X("RegExp");h.date=X("Date");h.error=X("Error");h.map=e=>X("Map")(e);h.set=e=>X("Set")(e);h.weakMap=e=>X("WeakMap")(e);h.weakSet=e=>X("WeakSet")(e);h.int8Array=X("Int8Array");h.uint8Array=X("Uint8Array");h.uint8ClampedArray=X("Uint8ClampedArray");h.int16Array=X("Int16Array");h.uint16Array=X("Uint16Array");h.int32Array=X("Int32Array");h.uint32Array=X("Uint32Array");h.float32Array=X("Float32Array");h.float64Array=X("Float64Array");h.bigInt64Array=X("BigInt64Array");h.bigUint64Array=X("BigUint64Array");h.arrayBuffer=X("ArrayBuffer");h.sharedArrayBuffer=X("SharedArrayBuffer");h.dataView=X("DataView");h.enumCase=(e,t)=>Object.values(t).includes(e);h.directInstanceOf=(e,t)=>Object.getPrototypeOf(e)===t.prototype;h.urlInstance=e=>X("URL")(e);h.urlString=e=>{if(!h.string(e))return!1;try{return new URL(e),!0}catch{return!1}};h.truthy=e=>Boolean(e);h.falsy=e=>!e;h.nan=e=>Number.isNaN(e);h.primitive=e=>h.null_(e)||jZ(typeof e);h.integer=e=>Number.isInteger(e);h.safeInteger=e=>Number.isSafeInteger(e);h.plainObject=e=>{if(Vq.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};h.typedArray=e=>NZ(Ma(e));var FZ=e=>h.safeInteger(e)&&e>=0;h.arrayLike=e=>!h.nullOrUndefined(e)&&!h.function_(e)&&FZ(e.length);h.inRange=(e,t)=>{if(h.number(t))return e>=Math.min(0,t)&&e<=Math.max(t,0);if(h.array(t)&&t.length===2)return e>=Math.min(...t)&&e<=Math.max(...t);throw new TypeError(`Invalid range: ${JSON.stringify(t)}`)};var UZ=1,$Z=["innerHTML","ownerDocument","style","attributes","nodeValue"];h.domElement=e=>h.object(e)&&e.nodeType===UZ&&h.string(e.nodeName)&&!h.plainObject(e)&&$Z.every(t=>t in e);h.observable=e=>{var t,r,n,s;return e?e===((r=(t=e)[Symbol.observable])===null||r===void 0?void 0:r.call(t))||e===((s=(n=e)["@@observable"])===null||s===void 0?void 0:s.call(n)):!1};h.nodeStream=e=>h.object(e)&&h.function_(e.pipe)&&!h.observable(e);h.infinite=e=>e===1/0||e===-1/0;var Wq=e=>t=>h.integer(t)&&Math.abs(t%2)===e;h.evenInteger=Wq(0);h.oddInteger=Wq(1);h.emptyArray=e=>h.array(e)&&e.length===0;h.nonEmptyArray=e=>h.array(e)&&e.length>0;h.emptyString=e=>h.string(e)&&e.length===0;var HZ=e=>h.string(e)&&!/\S/.test(e);h.emptyStringOrWhitespace=e=>h.emptyString(e)||HZ(e);h.nonEmptyString=e=>h.string(e)&&e.length>0;h.nonEmptyStringAndNotWhitespace=e=>h.string(e)&&!h.emptyStringOrWhitespace(e);h.emptyObject=e=>h.object(e)&&!h.map(e)&&!h.set(e)&&Object.keys(e).length===0;h.nonEmptyObject=e=>h.object(e)&&!h.map(e)&&!h.set(e)&&Object.keys(e).length>0;h.emptySet=e=>h.set(e)&&e.size===0;h.nonEmptySet=e=>h.set(e)&&e.size>0;h.emptyMap=e=>h.map(e)&&e.size===0;h.nonEmptyMap=e=>h.map(e)&&e.size>0;h.propertyKey=e=>h.any([h.string,h.number,h.symbol],e);h.formData=e=>X("FormData")(e);h.urlSearchParams=e=>X("URLSearchParams")(e);var Kq=(e,t,r)=>{if(!h.function_(t))throw new TypeError(`Invalid predicate: ${JSON.stringify(t)}`);if(r.length===0)throw new TypeError("Invalid number of values");return e.call(r,t)};h.any=(e,...t)=>(h.array(e)?e:[e]).some(n=>Kq(Array.prototype.some,n,t));h.all=(e,...t)=>Kq(Array.prototype.every,e,t);var I=(e,t,r,n={})=>{if(!e){let{multipleValues:s}=n,i=s?`received values of types ${[...new Set(r.map(o=>`\`${h(o)}\``))].join(", ")}`:`received value of type \`${h(r)}\``;throw new TypeError(`Expected value which is \`${t}\`, ${i}.`)}};Rr.assert={undefined:e=>I(h.undefined(e),"undefined",e),string:e=>I(h.string(e),"string",e),number:e=>I(h.number(e),"number",e),bigint:e=>I(h.bigint(e),"bigint",e),function_:e=>I(h.function_(e),"Function",e),null_:e=>I(h.null_(e),"null",e),class_:e=>I(h.class_(e),"Class",e),boolean:e=>I(h.boolean(e),"boolean",e),symbol:e=>I(h.symbol(e),"symbol",e),numericString:e=>I(h.numericString(e),"string with a number",e),array:(e,t)=>{I(h.array(e),"Array",e),t&&e.forEach(t)},buffer:e=>I(h.buffer(e),"Buffer",e),blob:e=>I(h.blob(e),"Blob",e),nullOrUndefined:e=>I(h.nullOrUndefined(e),"null or undefined",e),object:e=>I(h.object(e),"Object",e),iterable:e=>I(h.iterable(e),"Iterable",e),asyncIterable:e=>I(h.asyncIterable(e),"AsyncIterable",e),generator:e=>I(h.generator(e),"Generator",e),asyncGenerator:e=>I(h.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>I(h.nativePromise(e),"native Promise",e),promise:e=>I(h.promise(e),"Promise",e),generatorFunction:e=>I(h.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>I(h.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>I(h.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>I(h.boundFunction(e),"Function",e),regExp:e=>I(h.regExp(e),"RegExp",e),date:e=>I(h.date(e),"Date",e),error:e=>I(h.error(e),"Error",e),map:e=>I(h.map(e),"Map",e),set:e=>I(h.set(e),"Set",e),weakMap:e=>I(h.weakMap(e),"WeakMap",e),weakSet:e=>I(h.weakSet(e),"WeakSet",e),int8Array:e=>I(h.int8Array(e),"Int8Array",e),uint8Array:e=>I(h.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>I(h.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>I(h.int16Array(e),"Int16Array",e),uint16Array:e=>I(h.uint16Array(e),"Uint16Array",e),int32Array:e=>I(h.int32Array(e),"Int32Array",e),uint32Array:e=>I(h.uint32Array(e),"Uint32Array",e),float32Array:e=>I(h.float32Array(e),"Float32Array",e),float64Array:e=>I(h.float64Array(e),"Float64Array",e),bigInt64Array:e=>I(h.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>I(h.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>I(h.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>I(h.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>I(h.dataView(e),"DataView",e),enumCase:(e,t)=>I(h.enumCase(e,t),"EnumCase",e),urlInstance:e=>I(h.urlInstance(e),"URL",e),urlString:e=>I(h.urlString(e),"string with a URL",e),truthy:e=>I(h.truthy(e),"truthy",e),falsy:e=>I(h.falsy(e),"falsy",e),nan:e=>I(h.nan(e),"NaN",e),primitive:e=>I(h.primitive(e),"primitive",e),integer:e=>I(h.integer(e),"integer",e),safeInteger:e=>I(h.safeInteger(e),"integer",e),plainObject:e=>I(h.plainObject(e),"plain object",e),typedArray:e=>I(h.typedArray(e),"TypedArray",e),arrayLike:e=>I(h.arrayLike(e),"array-like",e),domElement:e=>I(h.domElement(e),"HTMLElement",e),observable:e=>I(h.observable(e),"Observable",e),nodeStream:e=>I(h.nodeStream(e),"Node.js Stream",e),infinite:e=>I(h.infinite(e),"infinite number",e),emptyArray:e=>I(h.emptyArray(e),"empty array",e),nonEmptyArray:e=>I(h.nonEmptyArray(e),"non-empty array",e),emptyString:e=>I(h.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>I(h.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>I(h.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>I(h.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>I(h.emptyObject(e),"empty object",e),nonEmptyObject:e=>I(h.nonEmptyObject(e),"non-empty object",e),emptySet:e=>I(h.emptySet(e),"empty set",e),nonEmptySet:e=>I(h.nonEmptySet(e),"non-empty set",e),emptyMap:e=>I(h.emptyMap(e),"empty map",e),nonEmptyMap:e=>I(h.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>I(h.propertyKey(e),"PropertyKey",e),formData:e=>I(h.formData(e),"FormData",e),urlSearchParams:e=>I(h.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>I(h.evenInteger(e),"even integer",e),oddInteger:e=>I(h.oddInteger(e),"odd integer",e),directInstanceOf:(e,t)=>I(h.directInstanceOf(e,t),"T",e),inRange:(e,t)=>I(h.inRange(e,t),"in range",e),any:(e,...t)=>I(h.any(e,...t),"predicate returns truthy for any value",t,{multipleValues:!0}),all:(e,...t)=>I(h.all(e,...t),"predicate returns truthy for all values",t,{multipleValues:!0})};Object.defineProperties(h,{class:{value:h.class_},function:{value:h.function_},null:{value:h.null_}});Object.defineProperties(Rr.assert,{class:{value:Rr.assert.class_},function:{value:Rr.assert.function_},null:{value:Rr.assert.null_}});Rr.default=h;ym.exports=h;ym.exports.default=h;ym.exports.assert=Rr.assert});var Jq=l((Hue,vw)=>{"use strict";var gm=class extends Error{constructor(t){super(t||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},Rs=class{static fn(t){return(...r)=>new Rs((n,s,i)=>{r.push(i),t(...r).then(n,s)})}constructor(t){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let s=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},i=a=>{this._isPending=!1,n(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),t(s,i,o)})}then(t,r){return this._promise.then(t,r)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(t){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new gm(t))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(Rs.prototype,Promise.prototype);vw.exports=Rs;vw.exports.CancelError=gm});var Yq=l((Sw,Pw)=>{"use strict";Object.defineProperty(Sw,"__esModule",{value:!0});function GZ(e){return e.encrypted}var Ew=(e,t)=>{let r;typeof t=="function"?r={connect:t}:r=t;let n=typeof r.connect=="function",s=typeof r.secureConnect=="function",i=typeof r.close=="function",o=()=>{n&&r.connect(),GZ(e)&&s&&(e.authorized?r.secureConnect():e.authorizationError||e.once("secureConnect",r.secureConnect)),i&&e.once("close",r.close)};e.writable&&!e.connecting?o():e.connecting?e.once("connect",o):e.destroyed&&i&&r.close(e._hadError)};Sw.default=Ew;Pw.exports=Ew;Pw.exports.default=Ew});var Xq=l((bw,Aw)=>{"use strict";Object.defineProperty(bw,"__esModule",{value:!0});var BZ=Yq(),VZ=require("util"),WZ=Number(process.versions.node.split(".")[0]),Iw=e=>{if(e.timings)return e.timings;let t={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=t;let r=a=>{let c=a.emit.bind(a);a.emit=(d,...u)=>(d==="error"&&(t.error=Date.now(),t.phases.total=t.error-t.start,a.emit=c),c(d,...u))};r(e);let n=()=>{t.abort=Date.now(),(!t.response||WZ>=13)&&(t.phases.total=Date.now()-t.start)};e.prependOnceListener("abort",n);let s=a=>{if(t.socket=Date.now(),t.phases.wait=t.socket-t.start,VZ.types.isProxy(a))return;let c=()=>{t.lookup=Date.now(),t.phases.dns=t.lookup-t.socket};a.prependOnceListener("lookup",c),BZ.default(a,{connect:()=>{t.connect=Date.now(),t.lookup===void 0&&(a.removeListener("lookup",c),t.lookup=t.connect,t.phases.dns=t.lookup-t.socket),t.phases.tcp=t.connect-t.lookup},secureConnect:()=>{t.secureConnect=Date.now(),t.phases.tls=t.secureConnect-t.connect}})};e.socket?s(e.socket):e.prependOnceListener("socket",s);let i=()=>{var a;t.upload=Date.now(),t.phases.request=t.upload-((a=t.secureConnect)!==null&&a!==void 0?a:t.connect)};return(()=>typeof e.writableFinished=="boolean"?e.writableFinished:e.finished&&e.outputSize===0&&(!e.socket||e.socket.writableLength===0))()?i():e.prependOnceListener("finish",i),e.prependOnceListener("response",a=>{t.response=Date.now(),t.phases.firstByte=t.response-t.upload,a.timings=t,r(a),a.prependOnceListener("end",()=>{t.end=Date.now(),t.phases.download=t.end-t.response,t.phases.total=t.end-t.start}),a.prependOnceListener("aborted",n)}),t};bw.default=Iw;Aw.exports=Iw;Aw.exports.default=Iw});var sO=l((Gue,Tw)=>{"use strict";var{V4MAPPED:KZ,ADDRCONFIG:JZ,ALL:nO,promises:{Resolver:Qq},lookup:YZ}=require("dns"),{promisify:Rw}=require("util"),XZ=require("os"),Cs=Symbol("cacheableLookupCreateConnection"),Cw=Symbol("cacheableLookupInstance"),Zq=Symbol("expires"),QZ=typeof nO=="number",eO=e=>{if(!(e&&typeof e.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},ZZ=e=>{for(let t of e)t.family!==6&&(t.address=`::ffff:${t.address}`,t.family=6)},tO=()=>{let e=!1,t=!1;for(let r of Object.values(XZ.networkInterfaces()))for(let n of r)if(!n.internal&&(n.family==="IPv6"?t=!0:e=!0,e&&t))return{has4:e,has6:t};return{has4:e,has6:t}},eee=e=>Symbol.iterator in e,rO={ttl:!0},tee={all:!0},wm=class{constructor({cache:t=new Map,maxTtl:r=1/0,fallbackDuration:n=3600,errorTtl:s=.15,resolver:i=new Qq,lookup:o=YZ}={}){if(this.maxTtl=r,this.errorTtl=s,this._cache=t,this._resolver=i,this._dnsLookup=Rw(o),this._resolver instanceof Qq?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=Rw(this._resolver.resolve4.bind(this._resolver)),this._resolve6=Rw(this._resolver.resolve6.bind(this._resolver))),this._iface=tO(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,n<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(t){this.clear(),this._resolver.setServers(t)}get servers(){return this._resolver.getServers()}lookup(t,r,n){if(typeof r=="function"?(n=r,r={}):typeof r=="number"&&(r={family:r}),!n)throw new Error("Callback must be a function.");this.lookupAsync(t,r).then(s=>{r.all?n(null,s):n(null,s.address,s.family,s.expires,s.ttl)},n)}async lookupAsync(t,r={}){typeof r=="number"&&(r={family:r});let n=await this.query(t);if(r.family===6){let s=n.filter(i=>i.family===6);r.hints&KZ&&(QZ&&r.hints&nO||s.length===0)?ZZ(n):n=s}else r.family===4&&(n=n.filter(s=>s.family===4));if(r.hints&JZ){let{_iface:s}=this;n=n.filter(i=>i.family===6?s.has6:s.has4)}if(n.length===0){let s=new Error(`cacheableLookup ENOTFOUND ${t}`);throw s.code="ENOTFOUND",s.hostname=t,s}return r.all?n:n[0]}async query(t){let r=await this._cache.get(t);if(!r){let n=this._pending[t];if(n)r=await n;else{let s=this.queryAndCache(t);this._pending[t]=s;try{r=await s}finally{delete this._pending[t]}}}return r=r.map(n=>({...n})),r}async _resolve(t){let r=async d=>{try{return await d}catch(u){if(u.code==="ENODATA"||u.code==="ENOTFOUND")return[];throw u}},[n,s]=await Promise.all([this._resolve4(t,rO),this._resolve6(t,rO)].map(d=>r(d))),i=0,o=0,a=0,c=Date.now();for(let d of n)d.family=4,d.expires=c+d.ttl*1e3,i=Math.max(i,d.ttl);for(let d of s)d.family=6,d.expires=c+d.ttl*1e3,o=Math.max(o,d.ttl);return n.length>0?s.length>0?a=Math.min(i,o):a=i:a=o,{entries:[...n,...s],cacheTtl:a}}async _lookup(t){try{return{entries:await this._dnsLookup(t,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(t,r,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,r[Zq]=Date.now()+n;try{await this._cache.set(t,r,n)}catch(s){this.lookupAsync=async()=>{let i=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw i.cause=s,i}}eee(this._cache)&&this._tick(n)}}async queryAndCache(t){if(this._hostnamesToFallback.has(t))return this._dnsLookup(t,tee);let r=await this._resolve(t);r.entries.length===0&&this._fallback&&(r=await this._lookup(t),r.entries.length!==0&&this._hostnamesToFallback.add(t));let n=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(t,r.entries,n),r.entries}_tick(t){let r=this._nextRemovalTime;(!r||t<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=t,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,s=Date.now();for(let[i,o]of this._cache){let a=o[Zq];s>=a?this._cache.delete(i):a<n&&(n=a)}n!==1/0&&this._tick(n-s)},t),this._removalTimeout.unref&&this._removalTimeout.unref())}install(t){if(eO(t),Cs in t)throw new Error("CacheableLookup has been already installed");t[Cs]=t.createConnection,t[Cw]=this,t.createConnection=(r,n)=>("lookup"in r||(r.lookup=this.lookup),t[Cs](r,n))}uninstall(t){if(eO(t),t[Cs]){if(t[Cw]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");t.createConnection=t[Cs],delete t[Cs],delete t[Cw]}}updateInterfaceInfo(){let{_iface:t}=this;this._iface=tO(),(t.has4&&!this._iface.has4||t.has6&&!this._iface.has6)&&this._cache.clear()}clear(t){if(t){this._cache.delete(t);return}this._cache.clear()}};Tw.exports=wm;Tw.exports.default=wm});var aO=l((Bue,oO)=>{"use strict";var ree="text/plain",nee="us-ascii",iO=(e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),see=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:s,hash:i}=r.groups,o=n.split(";");i=t?"":i;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let c=(o.shift()||"").toLowerCase(),u=[...o.map(f=>{let[p,m=""]=f.split("=").map(_=>_.trim());return p==="charset"&&(m=m.toLowerCase(),m===nee)?"":`${p}${m?`=${m}`:""}`}).filter(Boolean)];return a&&u.push("base64"),(u.length!==0||c&&c!==ree)&&u.unshift(c),`data:${u.join(";")},${a?s.trim():s}${i?`#${i}`:""}`},iee=(e,t)=>{if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return see(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname&&(s.pathname=s.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=s.pathname.split("/"),a=o[o.length-1];iO(a,t.removeDirectoryIndex)&&(o=o.slice(0,o.length-1),s.pathname=o.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let o of[...s.searchParams.keys()])iO(o,t.removeQueryParameters)&&s.searchParams.delete(o);t.removeQueryParameters===!0&&(s.search=""),t.sortQueryParameters&&s.searchParams.sort(),t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let i=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!i.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e};oO.exports=iee});var lO=l((Vue,dO)=>{dO.exports=cO;function cO(e,t){if(e&&t)return cO(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];var i=e.apply(this,n),o=n[n.length-1];return typeof i=="function"&&i!==o&&Object.keys(o).forEach(function(a){i[a]=o[a]}),i}}});var qw=l((Wue,xw)=>{var uO=lO();xw.exports=uO(vm);xw.exports.strict=uO(fO);vm.proto=vm(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return vm(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return fO(this)},configurable:!0})});function vm(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function fO(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var hO=l((Kue,mO)=>{var oee=qw(),aee=function(){},cee=function(e){return e.setHeader&&typeof e.abort=="function"},dee=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},pO=function(e,t,r){if(typeof t=="function")return pO(e,null,t);t||(t={}),r=oee(r||aee);var n=e._writableState,s=e._readableState,i=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,a=!1,c=function(){e.writable||d()},d=function(){o=!1,i||r.call(e)},u=function(){i=!1,o||r.call(e)},f=function(y){r.call(e,y?new Error("exited with error code: "+y):null)},p=function(y){r.call(e,y)},m=function(){process.nextTick(_)},_=function(){if(!a){if(i&&!(s&&s.ended&&!s.destroyed))return r.call(e,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},g=function(){e.req.on("finish",d)};return cee(e)?(e.on("complete",d),e.on("abort",m),e.req?g():e.on("request",g)):o&&!n&&(e.on("end",c),e.on("close",c)),dee(e)&&e.on("exit",f),e.on("end",u),e.on("finish",d),t.error!==!1&&e.on("error",p),e.on("close",m),function(){a=!0,e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",g),e.req&&e.req.removeListener("finish",d),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",d),e.removeListener("exit",f),e.removeListener("end",u),e.removeListener("error",p),e.removeListener("close",m)}};mO.exports=pO});var gO=l((Jue,yO)=>{var lee=qw(),uee=hO(),Ow=require("fs"),ka=function(){},fee=/^v?\.0/.test(process.version),Em=function(e){return typeof e=="function"},pee=function(e){return!fee||!Ow?!1:(e instanceof(Ow.ReadStream||ka)||e instanceof(Ow.WriteStream||ka))&&Em(e.close)},mee=function(e){return e.setHeader&&Em(e.abort)},hee=function(e,t,r,n){n=lee(n);var s=!1;e.on("close",function(){s=!0}),uee(e,{readable:t,writable:r},function(o){if(o)return n(o);s=!0,n()});var i=!1;return function(o){if(!s&&!i){if(i=!0,pee(e))return e.close(ka);if(mee(e))return e.abort();if(Em(e.destroy))return e.destroy();n(o||new Error("stream was destroyed"))}}},_O=function(e){e()},_ee=function(e,t){return e.pipe(t)},yee=function(){var e=Array.prototype.slice.call(arguments),t=Em(e[e.length-1]||ka)&&e.pop()||ka;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(s,i){var o=i<e.length-1,a=i>0;return hee(s,o,a,function(c){r||(r=c),c&&n.forEach(_O),!o&&(n.forEach(_O),t(r))})});return e.reduce(_ee)};yO.exports=yee});var vO=l((Yue,wO)=>{"use strict";var{PassThrough:gee}=require("stream");wO.exports=e=>{e={...e};let{array:t}=e,{encoding:r}=e,n=r==="buffer",s=!1;t?s=!(r||n):r=r||"utf8",n&&(r=null);let i=new gee({objectMode:s});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",c=>{a.push(c),s?o=a.length:o+=c.length}),i.getBufferedValue=()=>t?a:n?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var EO=l((Xue,Ts)=>{"use strict";var{constants:wee}=require("buffer"),vee=gO(),Eee=vO(),Sm=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Pm(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};let{maxBuffer:r}=t,n;return await new Promise((s,i)=>{let o=a=>{a&&n.getBufferedLength()<=wee.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),i(a)};n=vee(e,Eee(t),a=>{if(a){o(a);return}s()}),n.on("data",()=>{n.getBufferedLength()>r&&o(new Sm)})}),n.getBufferedValue()}Ts.exports=Pm;Ts.exports.default=Pm;Ts.exports.buffer=(e,t)=>Pm(e,{...t,encoding:"buffer"});Ts.exports.array=(e,t)=>Pm(e,{...t,array:!0});Ts.exports.MaxBufferError=Sm});var PO=l((Zue,SO)=>{"use strict";var See=new Set([200,203,204,206,300,301,404,405,410,414,501]),Pee=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Iee=new Set([500,502,503,504]),bee={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},Aee={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function Mn(e){let t=parseInt(e,10);return isFinite(t)?t:0}function Ree(e){return e?Iee.has(e.status):!0}function Nw(e){let t={};if(!e)return t;let r=e.trim().split(/\s*,\s*/);for(let n of r){let[s,i]=n.split(/\s*=\s*/,2);t[s]=i===void 0?!0:i.replace(/^"|"$/g,"")}return t}function Cee(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(!!t.length)return t.join(", ")}SO.exports=class{constructor(t,r,{shared:n,cacheHeuristic:s,immutableMinTimeToLive:i,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=s!==void 0?s:.1,this._immutableMinTtl=i!==void 0?i:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=Nw(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=Nw(t.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Cee(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&Pee.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||See.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=Nw(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)bee[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let s of n)delete r[s]}if(r.warning){let n=r.warning.split(/,/).filter(s=>!/^\s*1[0-9][0-9]/.test(s));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return Mn(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return Mn(this._rescc["s-maxage"])}if(this._rescc["max-age"])return Mn(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+Mn(this._rescc["stale-if-error"]),n=t+Mn(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+Mn(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+Mn(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let s=r["if-none-match"].split(/,/).filter(i=>!/^\s*W\//.test(i));s.length?r["if-none-match"]=s.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&Ree(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let s={};for(let o in this._resHeaders)s[o]=o in r.headers&&!Aee[o]?r.headers[o]:this._resHeaders[o];let i=Object.assign({},r,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(t,i,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Im=l((efe,IO)=>{"use strict";IO.exports=e=>{let t={};for(let[r,n]of Object.entries(e))t[r.toLowerCase()]=n;return t}});var AO=l((tfe,bO)=>{"use strict";var Tee=require("stream").Readable,xee=Im(),Mw=class extends Tee{constructor(t,r,n,s){if(typeof t!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof s!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=t,this.headers=xee(r),this.body=n,this.url=s}_read(){this.push(this.body),this.push(null)}};bO.exports=Mw});var CO=l((rfe,RO)=>{"use strict";var qee=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];RO.exports=(e,t)=>{let r=new Set(Object.keys(e).concat(qee));for(let n of r)n in t||(t[n]=typeof e[n]=="function"?e[n].bind(e):e[n])}});var xO=l((nfe,TO)=>{"use strict";var Oee=require("stream").PassThrough,Nee=CO(),Mee=e=>{if(!(e&&e.pipe))throw new TypeError("Parameter `response` must be a response stream.");let t=new Oee;return Nee(e,t),e.pipe(t)};TO.exports=Mee});var qO=l(kw=>{kw.stringify=function e(t){if(typeof t>"u")return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&typeof t=="object"){var r="",n=Array.isArray(t);r=n?"[":"{";var s=!0;for(var i in t){var o=typeof t[i]=="function"||!n&&typeof t[i]>"u";Object.hasOwnProperty.call(t,i)&&!o&&(s||(r+=","),s=!1,n?t[i]==null?r+="null":r+=e(t[i]):t[i]!==void 0&&(r+=e(i)+":"+e(t[i])))}return r+=n?"]":"}",r}else return typeof t=="string"?JSON.stringify(/^:/.test(t)?":"+t:t):typeof t>"u"?"null":JSON.stringify(t)};kw.parse=function(e){return JSON.parse(e,function(t,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var kO=l((ife,MO)=>{"use strict";var kee=require("events"),OO=qO(),Dee=e=>{let t={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(e.adapter||e.uri){let r=e.adapter||/^[^:+]*/.exec(e.uri)[0];return new(require(t[r]))(e)}return new Map},NO=["sqlite","postgres","mysql","mongo","redis","tiered"],Dw=class extends kee{constructor(t,{emitErrors:r=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:OO.stringify,deserialize:OO.parse,...typeof t=="string"?{uri:t}:t,...n},!this.opts.store){let i={...this.opts};this.opts.store=Dee(i)}if(this.opts.compression){let i=this.opts.compression;this.opts.serialize=i.serialize.bind(i),this.opts.deserialize=i.deserialize.bind(i)}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",i=>this.emit("error",i)),this.opts.store.namespace=this.opts.namespace;let s=i=>async function*(){for await(let[o,a]of typeof i=="function"?i(this.opts.store.namespace):i){let c=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof c.expires=="number"&&Date.now()>c.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),c.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=s(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=s(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return NO.includes(this.opts.store.opts.dialect)||NO.findIndex(t=>this.opts.store.opts.url.includes(t))>=0}_getKeyPrefix(t){return`${this.opts.namespace}:${t}`}_getKeyPrefixArray(t){return t.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(t){return t.split(":").splice(1).join(":")}get(t,r){let{store:n}=this.opts,s=Array.isArray(t),i=s?this._getKeyPrefixArray(t):this._getKeyPrefix(t);if(s&&n.getMany===void 0){let o=[];for(let a of i)o.push(Promise.resolve().then(()=>n.get(a)).then(c=>typeof c=="string"?this.opts.deserialize(c):this.opts.compression?this.opts.deserialize(c):c).then(c=>{if(c!=null)return typeof c.expires=="number"&&Date.now()>c.expires?this.delete(a).then(()=>{}):r&&r.raw?c:c.value}));return Promise.allSettled(o).then(a=>{let c=[];for(let d of a)c.push(d.value);return c})}return Promise.resolve().then(()=>s?n.getMany(i):n.get(i)).then(o=>typeof o=="string"?this.opts.deserialize(o):this.opts.compression?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(s){let a=[];for(let c of o){if(typeof c=="string"&&(c=this.opts.deserialize(c)),c==null){a.push(void 0);continue}typeof c.expires=="number"&&Date.now()>c.expires?(this.delete(t).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?c:c.value)}return a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(t).then(()=>{}):r&&r.raw?o:o.value}})}set(t,r,n){let s=this._getKeyPrefix(t);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:i}=this.opts;return Promise.resolve().then(()=>{let o=typeof n=="number"?Date.now()+n:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>i.set(s,o,n)).then(()=>!0)}delete(t){let{store:r}=this.opts;if(Array.isArray(t)){let s=this._getKeyPrefixArray(t);if(r.deleteMany===void 0){let i=[];for(let o of s)i.push(r.delete(o));return Promise.allSettled(i).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(s))}let n=this._getKeyPrefix(t);return Promise.resolve().then(()=>r.delete(n))}clear(){let{store:t}=this.opts;return Promise.resolve().then(()=>t.clear())}has(t){let r=this._getKeyPrefix(t),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(r):await n.get(r)!==void 0)}disconnect(){let{store:t}=this.opts;if(typeof t.disconnect=="function")return t.disconnect()}};MO.exports=Dw});var LO=l((ofe,jO)=>{"use strict";var jee=require("events"),bm=require("url"),Lee=aO(),zee=EO(),jw=PO(),DO=AO(),Fee=Im(),Uee=xO(),$ee=kO(),At=class{constructor(t,r){if(typeof t!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new $ee({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(t)}createCacheableRequest(t){return(r,n)=>{let s;if(typeof r=="string")s=Lw(bm.parse(r)),r={};else if(r instanceof bm.URL)s=Lw(bm.parse(r.toString())),r={};else{let[f,...p]=(r.path||"").split("?"),m=p.length>0?`?${p.join("?")}`:"";s=Lw({...r,pathname:f,search:m})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...Hee(s)},r.headers=Fee(r.headers);let i=new jee,o=Lee(bm.format(s),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${o}`,c=!1,d=!1,u=f=>{d=!0;let p=!1,m,_=new Promise(y=>{m=()=>{p||(p=!0,y())}}),g=y=>{if(c&&!f.forceRefresh){y.status=y.statusCode;let N=jw.fromObject(c.cachePolicy).revalidatedPolicy(f,y);if(!N.modified){let M=N.policy.responseHeaders();y=new DO(c.statusCode,M,c.body,c.url),y.cachePolicy=N.policy,y.fromCache=!0}}y.fromCache||(y.cachePolicy=new jw(f,y,f),y.fromCache=!1);let P;f.cache&&y.cachePolicy.storable()?(P=Uee(y),(async()=>{try{let N=zee.buffer(y);if(await Promise.race([_,new Promise(Ne=>y.once("end",Ne))]),p)return;let M=await N,he={cachePolicy:y.cachePolicy.toObject(),url:y.url,statusCode:y.fromCache?c.statusCode:y.statusCode,body:M},sr=f.strictTtl?y.cachePolicy.timeToLive():void 0;f.maxTtl&&(sr=sr?Math.min(sr,f.maxTtl):f.maxTtl),await this.cache.set(a,he,sr)}catch(N){i.emit("error",new At.CacheError(N))}})()):f.cache&&c&&(async()=>{try{await this.cache.delete(a)}catch(N){i.emit("error",new At.CacheError(N))}})(),i.emit("response",P||y),typeof n=="function"&&n(P||y)};try{let y=t(f,g);y.once("error",m),y.once("abort",m),i.emit("request",y)}catch(y){i.emit("error",new At.RequestError(y))}};return(async()=>{let f=async m=>{await Promise.resolve();let _=m.cache?await this.cache.get(a):void 0;if(typeof _>"u")return u(m);let g=jw.fromObject(_.cachePolicy);if(g.satisfiesWithoutRevalidation(m)&&!m.forceRefresh){let y=g.responseHeaders(),P=new DO(_.statusCode,y,_.body,_.url);P.cachePolicy=g,P.fromCache=!0,i.emit("response",P),typeof n=="function"&&n(P)}else c=_,m.headers=g.revalidationHeaders(m),u(m)},p=m=>i.emit("error",new At.CacheError(m));this.cache.once("error",p),i.on("response",()=>this.cache.removeListener("error",p));try{await f(r)}catch(m){r.automaticFailover&&!d&&u(r),i.emit("error",new At.CacheError(m))}})(),i}}};function Hee(e){let t={...e};return t.path=`${e.pathname||"/"}${e.search||""}`,delete t.pathname,delete t.search,t}function Lw(e){return{protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}}At.RequestError=class extends Error{constructor(e){super(e.message),this.name="RequestError",Object.assign(this,e)}};At.CacheError=class extends Error{constructor(e){super(e.message),this.name="CacheError",Object.assign(this,e)}};jO.exports=At});var FO=l((dfe,zO)=>{"use strict";var Gee=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];zO.exports=(e,t)=>{if(t._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(e).concat(Gee)),n={};for(let s of r)s in t||(n[s]={get(){let i=e[s];return typeof i=="function"?i.bind(e):i},set(i){e[s]=i},enumerable:!0,configurable:!1});return Object.defineProperties(t,n),e.once("aborted",()=>{t.destroy(),t.emit("aborted")}),e.once("close",()=>{e.complete&&t.readable?t.once("end",()=>{t.emit("close")}):t.emit("close")}),t}});var $O=l((lfe,UO)=>{"use strict";var{Transform:Bee,PassThrough:Vee}=require("stream"),zw=require("zlib"),Wee=FO();UO.exports=e=>{let t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t))return e;let r=t==="br";if(r&&typeof zw.createBrotliDecompress!="function")return e.destroy(new Error("Brotli is not supported on Node.js < 12")),e;let n=!0,s=new Bee({transform(a,c,d){n=!1,d(null,a)},flush(a){a()}}),i=new Vee({autoDestroy:!1,destroy(a,c){e.destroy(),c(a)}}),o=r?zw.createBrotliDecompress():zw.createUnzip();return o.once("error",a=>{if(n&&!e.readable){i.end();return}i.destroy(a)}),Wee(e,i),e.pipe(s).pipe(o).pipe(i),i}});var Uw=l((ufe,HO)=>{"use strict";var Fw=class{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,r){if(this.cache.set(t,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,s]of this.oldCache.entries())this.onEviction(n,s);this.oldCache=this.cache,this.cache=new Map}}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){let r=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,r),r}}set(t,r){return this.cache.has(t)?this.cache.set(t,r):this._set(t,r),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){let r=this.cache.delete(t);return r&&this._size--,this.oldCache.delete(t)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache)yield t;for(let t of this.oldCache){let[r]=t;this.cache.has(r)||(yield t)}}get size(){let t=0;for(let r of this.oldCache.keys())this.cache.has(r)||t++;return Math.min(this._size+t,this.maxSize)}};HO.exports=Fw});var Hw=l((ffe,WO)=>{"use strict";var Kee=require("events"),Jee=require("tls"),Yee=require("http2"),Xee=Uw(),ze=Symbol("currentStreamsCount"),GO=Symbol("request"),_t=Symbol("cachedOriginSet"),xs=Symbol("gracefullyClosing"),Qee=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],Zee=(e,t,r)=>{let n=0,s=e.length;for(;n<s;){let i=n+s>>>1;r(e[i],t)?n=i+1:s=i}return n},ete=(e,t)=>e.remoteSettings.maxConcurrentStreams>t.remoteSettings.maxConcurrentStreams,$w=(e,t)=>{for(let r of e)r[_t].length<t[_t].length&&r[_t].every(n=>t[_t].includes(n))&&r[ze]+t[ze]<=t.remoteSettings.maxConcurrentStreams&&VO(r)},tte=(e,t)=>{for(let r of e)t[_t].length<r[_t].length&&t[_t].every(n=>r[_t].includes(n))&&t[ze]+r[ze]<=r.remoteSettings.maxConcurrentStreams&&VO(t)},BO=({agent:e,isFree:t})=>{let r={};for(let n in e.sessions){let i=e.sessions[n].filter(o=>{let a=o[nr.kCurrentStreamsCount]<o.remoteSettings.maxConcurrentStreams;return t?a:!a});i.length!==0&&(r[n]=i)}return r},VO=e=>{e[xs]=!0,e[ze]===0&&e.close()},nr=class extends Kee{constructor({timeout:t=6e4,maxSessions:r=1/0,maxFreeSessions:n=10,maxCachedTlsSessions:s=100}={}){super(),this.sessions={},this.queue={},this.timeout=t,this.maxSessions=r,this.maxFreeSessions=n,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new Xee({maxSize:s})}static normalizeOrigin(t,r){return typeof t=="string"&&(t=new URL(t)),r&&t.hostname!==r&&(t.hostname=r),t.origin}normalizeOptions(t){let r="";if(t)for(let n of Qee)t[n]&&(r+=`:${t[n]}`);return r}_tryToCreateNewSession(t,r){if(!(t in this.queue)||!(r in this.queue[t]))return;let n=this.queue[t][r];this._sessionsCount<this.maxSessions&&!n.completed&&(n.completed=!0,n())}getSession(t,r,n){return new Promise((s,i)=>{Array.isArray(n)?(n=[...n],s()):n=[{resolve:s,reject:i}];let o=this.normalizeOptions(r),a=nr.normalizeOrigin(t,r&&r.servername);if(a===void 0){for(let{reject:u}of n)u(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(o in this.sessions){let u=this.sessions[o],f=-1,p=-1,m;for(let _ of u){let g=_.remoteSettings.maxConcurrentStreams;if(g<f)break;if(_[_t].includes(a)){let y=_[ze];if(y>=g||_[xs]||_.destroyed)continue;m||(f=g),y>p&&(m=_,p=y)}}if(m){if(n.length!==1){for(let{reject:_}of n){let g=new Error(`Expected the length of listeners to be 1, got ${n.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);_(g)}return}n[0].resolve(m);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...n),this._tryToCreateNewSession(o,a);return}}else this.queue[o]={};let c=()=>{o in this.queue&&this.queue[o][a]===d&&(delete this.queue[o][a],Object.keys(this.queue[o]).length===0&&delete this.queue[o])},d=()=>{let u=`${a}:${o}`,f=!1;try{let p=Yee.connect(t,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(u),...r});p[ze]=0,p[xs]=!1;let m=()=>p[ze]<p.remoteSettings.maxConcurrentStreams,_=!0;p.socket.once("session",y=>{this.tlsSessionCache.set(u,y)}),p.once("error",y=>{for(let{reject:P}of n)P(y);this.tlsSessionCache.delete(u)}),p.setTimeout(this.timeout,()=>{p.destroy()}),p.once("close",()=>{if(f){_&&this._freeSessionsCount--,this._sessionsCount--;let y=this.sessions[o];y.splice(y.indexOf(p),1),y.length===0&&delete this.sessions[o]}else{let y=new Error("Session closed without receiving a SETTINGS frame");y.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:P}of n)P(y);c()}this._tryToCreateNewSession(o,a)});let g=()=>{if(!(!(o in this.queue)||!m())){for(let y of p[_t])if(y in this.queue[o]){let{listeners:P}=this.queue[o][y];for(;P.length!==0&&m();)P.shift().resolve(p);let N=this.queue[o];if(N[y].listeners.length===0&&(delete N[y],Object.keys(N).length===0)){delete this.queue[o];break}if(!m())break}}};p.on("origin",()=>{p[_t]=p.originSet,m()&&(g(),$w(this.sessions[o],p))}),p.once("remoteSettings",()=>{if(p.ref(),p.unref(),this._sessionsCount++,d.destroyed){let y=new Error("Agent has been destroyed");for(let P of n)P.reject(y);p.destroy();return}p[_t]=p.originSet;{let y=this.sessions;if(o in y){let P=y[o];P.splice(Zee(P,p,ete),0,p)}else y[o]=[p]}this._freeSessionsCount+=1,f=!0,this.emit("session",p),g(),c(),p[ze]===0&&this._freeSessionsCount>this.maxFreeSessions&&p.close(),n.length!==0&&(this.getSession(a,r,n),n.length=0),p.on("remoteSettings",()=>{g(),$w(this.sessions[o],p)})}),p[GO]=p.request,p.request=(y,P)=>{if(p[xs])throw new Error("The session is gracefully closing. No new streams are allowed.");let N=p[GO](y,P);return p.ref(),++p[ze],p[ze]===p.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,N.once("close",()=>{if(_=m(),--p[ze],!p.destroyed&&!p.closed&&(tte(this.sessions[o],p),m()&&!p.closed)){_||(this._freeSessionsCount++,_=!0);let M=p[ze]===0;M&&p.unref(),M&&(this._freeSessionsCount>this.maxFreeSessions||p[xs])?p.close():($w(this.sessions[o],p),g())}}),N}}catch(p){for(let m of n)m.reject(p);c()}};d.listeners=n,d.completed=!1,d.destroyed=!1,this.queue[o][a]=d,this._tryToCreateNewSession(o,a)})}request(t,r,n,s){return new Promise((i,o)=>{this.getSession(t,r,[{reject:o,resolve:a=>{try{i(a.request(n,s))}catch(c){o(c)}}}])})}createConnection(t,r){return nr.connect(t,r)}static connect(t,r){r.ALPNProtocols=["h2"];let n=t.port||443,s=t.hostname||t.host;return typeof r.servername>"u"&&(r.servername=s),Jee.connect(n,s,r)}closeFreeSessions(){for(let t of Object.values(this.sessions))for(let r of t)r[ze]===0&&r.close()}destroy(t){for(let r of Object.values(this.sessions))for(let n of r)n.destroy(t);for(let r of Object.values(this.queue))for(let n of Object.values(r))n.destroyed=!0;this.queue={}}get freeSessions(){return BO({agent:this,isFree:!0})}get busySessions(){return BO({agent:this,isFree:!1})}};nr.kCurrentStreamsCount=ze;nr.kGracefullyClosing=xs;WO.exports={Agent:nr,globalAgent:new nr}});var Bw=l((pfe,KO)=>{"use strict";var{Readable:rte}=require("stream"),Gw=class extends rte{constructor(t,r){super({highWaterMark:r,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=t,this.connection=t,this._dumped=!1}_destroy(t){this.req._request.destroy(t)}setTimeout(t,r){return this.req.setTimeout(t,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};KO.exports=Gw});var Vw=l((mfe,JO)=>{"use strict";JO.exports=e=>{let t={protocol:e.protocol,hostname:typeof e.hostname=="string"&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return typeof e.port=="string"&&e.port.length!==0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}});var XO=l((hfe,YO)=>{"use strict";YO.exports=(e,t,r)=>{for(let n of r)e.on(n,(...s)=>t.emit(n,...s))}});var ZO=l((_fe,QO)=>{"use strict";QO.exports=e=>{switch(e){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var tN=l((gfe,eN)=>{"use strict";var qs=(e,t,r)=>{eN.exports[t]=class extends e{constructor(...s){super(typeof r=="string"?r:r(s)),this.name=`${super.name} [${t}]`,this.code=t}}};qs(TypeError,"ERR_INVALID_ARG_TYPE",e=>{let t=e[0].includes(".")?"property":"argument",r=e[1],n=Array.isArray(r);return n&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${e[0]}" ${t} must be ${n?"one of":"of"} type ${r}. Received ${typeof e[2]}`});qs(TypeError,"ERR_INVALID_PROTOCOL",e=>`Protocol "${e[0]}" not supported. Expected "${e[1]}"`);qs(Error,"ERR_HTTP_HEADERS_SENT",e=>`Cannot ${e[0]} headers after they are sent to the client`);qs(TypeError,"ERR_INVALID_HTTP_TOKEN",e=>`${e[0]} must be a valid HTTP token [${e[1]}]`);qs(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",e=>`Invalid value "${e[0]} for header "${e[1]}"`);qs(TypeError,"ERR_INVALID_CHAR",e=>`Invalid character in ${e[0]} [${e[1]}]`)});var Xw=l((wfe,cN)=>{"use strict";var nte=require("http2"),{Writable:ste}=require("stream"),{Agent:rN,globalAgent:ite}=Hw(),ote=Bw(),ate=Vw(),cte=XO(),dte=ZO(),{ERR_INVALID_ARG_TYPE:Ww,ERR_INVALID_PROTOCOL:lte,ERR_HTTP_HEADERS_SENT:nN,ERR_INVALID_HTTP_TOKEN:ute,ERR_HTTP_INVALID_HEADER_VALUE:fte,ERR_INVALID_CHAR:pte}=tN(),{HTTP2_HEADER_STATUS:sN,HTTP2_HEADER_METHOD:iN,HTTP2_HEADER_PATH:oN,HTTP2_METHOD_CONNECT:mte}=nte.constants,Oe=Symbol("headers"),Kw=Symbol("origin"),Jw=Symbol("session"),aN=Symbol("options"),Am=Symbol("flushedHeaders"),Da=Symbol("jobs"),hte=/^[\^`\-\w!#$%&*+.|~]+$/,_te=/[^\t\u0020-\u007E\u0080-\u00FF]/,Yw=class extends ste{constructor(t,r,n){super({autoDestroy:!1});let s=typeof t=="string"||t instanceof URL;if(s&&(t=ate(t instanceof URL?t:new URL(t))),typeof r=="function"||r===void 0?(n=r,r=s?t:{...t}):r={...t,...r},r.h2session)this[Jw]=r.h2session;else if(r.agent===!1)this.agent=new rN({maxFreeSessions:0});else if(typeof r.agent>"u"||r.agent===null)typeof r.createConnection=="function"?(this.agent=new rN({maxFreeSessions:0}),this.agent.createConnection=r.createConnection):this.agent=ite;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new Ww("options.agent",["Agent-like Object","undefined","false"],r.agent);if(r.protocol&&r.protocol!=="https:")throw new lte(r.protocol,"https:");let i=r.port||r.defaultPort||this.agent&&this.agent.defaultPort||443,o=r.hostname||r.host||"localhost";delete r.hostname,delete r.host,delete r.port;let{timeout:a}=r;if(r.timeout=void 0,this[Oe]=Object.create(null),this[Da]=[],this.socket=null,this.connection=null,this.method=r.method||"GET",this.path=r.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,r.headers)for(let[c,d]of Object.entries(r.headers))this.setHeader(c,d);r.auth&&!("authorization"in this[Oe])&&(this[Oe].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[aN]=r,i===443?(this[Kw]=`https://${o}`,":authority"in this[Oe]||(this[Oe][":authority"]=o)):(this[Kw]=`https://${o}:${i}`,":authority"in this[Oe]||(this[Oe][":authority"]=`${o}:${i}`)),a&&this.setTimeout(a),n&&this.once("response",n),this[Am]=!1}get method(){return this[Oe][iN]}set method(t){t&&(this[Oe][iN]=t.toUpperCase())}get path(){return this[Oe][oN]}set path(t){t&&(this[Oe][oN]=t)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(t,r,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let s=()=>this._request.write(t,r,n);this._request?s():this[Da].push(s)}_final(t){if(this.destroyed)return;this.flushHeaders();let r=()=>{if(this._mustNotHaveABody){t();return}this._request.end(t)};this._request?r():this[Da].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(t,r){this.res&&this.res._dump(),this._request&&this._request.destroy(),r(t)}async flushHeaders(){if(this[Am]||this.destroyed)return;this[Am]=!0;let t=this.method===mte,r=n=>{if(this._request=n,this.destroyed){n.destroy();return}t||cte(n,this,["timeout","continue","close","error"]);let s=o=>(...a)=>{!this.writable&&!this.destroyed?o(...a):this.once("finish",()=>{o(...a)})};n.once("response",s((o,a,c)=>{let d=new ote(this.socket,n.readableHighWaterMark);this.res=d,d.req=this,d.statusCode=o[sN],d.headers=o,d.rawHeaders=c,d.once("end",()=>{this.aborted?(d.aborted=!0,d.emit("aborted")):(d.complete=!0,d.socket=null,d.connection=null)}),t?(d.upgrade=!0,this.emit("connect",d,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",u=>{!d._dumped&&!d.push(u)&&n.pause()}),n.once("end",()=>{d.push(null)}),this.emit("response",d)||d._dump())})),n.once("headers",s(o=>this.emit("information",{statusCode:o[sN]}))),n.once("trailers",s((o,a,c)=>{let{res:d}=this;d.trailers=o,d.rawTrailers=c}));let{socket:i}=n.session;this.socket=i,this.connection=i;for(let o of this[Da])o();this.emit("socket",this.socket)};if(this[Jw])try{r(this[Jw].request(this[Oe]))}catch(n){this.emit("error",n)}else{this.reusedSocket=!0;try{r(await this.agent.request(this[Kw],this[aN],this[Oe]))}catch(n){this.emit("error",n)}}}getHeader(t){if(typeof t!="string")throw new Ww("name","string",t);return this[Oe][t.toLowerCase()]}get headersSent(){return this[Am]}removeHeader(t){if(typeof t!="string")throw new Ww("name","string",t);if(this.headersSent)throw new nN("remove");delete this[Oe][t.toLowerCase()]}setHeader(t,r){if(this.headersSent)throw new nN("set");if(typeof t!="string"||!hte.test(t)&&!dte(t))throw new ute("Header name",t);if(typeof r>"u")throw new fte(r,t);if(_te.test(r))throw new pte("header content",t);this[Oe][t.toLowerCase()]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(t,r){let n=()=>this._request.setTimeout(t,r);return this._request?n():this[Da].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(t){}};cN.exports=Yw});var lN=l((vfe,dN)=>{"use strict";var yte=require("tls");dN.exports=(e={},t=yte.connect)=>new Promise((r,n)=>{let s=!1,i,o=async()=>{await c,i.off("timeout",a),i.off("error",n),e.resolveSocket?(r({alpnProtocol:i.alpnProtocol,socket:i,timeout:s}),s&&(await Promise.resolve(),i.emit("timeout"))):(i.destroy(),r({alpnProtocol:i.alpnProtocol,timeout:s}))},a=async()=>{s=!0,o()},c=(async()=>{try{i=await t(e,o),i.on("error",n),i.once("timeout",a)}catch(d){n(d)}})()})});var fN=l((Efe,uN)=>{"use strict";var gte=require("net");uN.exports=e=>{let t=e.host,r=e.headers&&e.headers.host;return r&&(r.startsWith("[")?r.indexOf("]")===-1?t=r:t=r.slice(1,-1):t=r.split(":",1)[0]),gte.isIP(t)?"":t}});var hN=l((Sfe,Zw)=>{"use strict";var pN=require("http"),Qw=require("https"),wte=lN(),vte=Uw(),Ete=Xw(),Ste=fN(),Pte=Vw(),Rm=new vte({maxSize:100}),ja=new Map,mN=(e,t,r)=>{t._httpMessage={shouldKeepAlive:!0};let n=()=>{e.emit("free",t,r)};t.on("free",n);let s=()=>{e.removeSocket(t,r)};t.on("close",s);let i=()=>{e.removeSocket(t,r),t.off("close",s),t.off("free",n),t.off("agentRemove",i)};t.on("agentRemove",i),e.emit("free",t,r)},Ite=async e=>{let t=`${e.host}:${e.port}:${e.ALPNProtocols.sort()}`;if(!Rm.has(t)){if(ja.has(t))return(await ja.get(t)).alpnProtocol;let{path:r,agent:n}=e;e.path=e.socketPath;let s=wte(e);ja.set(t,s);try{let{socket:i,alpnProtocol:o}=await s;if(Rm.set(t,o),e.path=r,o==="h2")i.destroy();else{let{globalAgent:a}=Qw,c=Qw.Agent.prototype.createConnection;n?n.createConnection===c?mN(n,i,e):i.destroy():a.createConnection===c?mN(a,i,e):i.destroy()}return ja.delete(t),o}catch(i){throw ja.delete(t),i}}return Rm.get(t)};Zw.exports=async(e,t,r)=>{if((typeof e=="string"||e instanceof URL)&&(e=Pte(new URL(e))),typeof t=="function"&&(r=t,t=void 0),t={ALPNProtocols:["h2","http/1.1"],...e,...t,resolveSocket:!0},!Array.isArray(t.ALPNProtocols)||t.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");t.protocol=t.protocol||"https:";let n=t.protocol==="https:";t.host=t.hostname||t.host||"localhost",t.session=t.tlsSession,t.servername=t.servername||Ste(t),t.port=t.port||(n?443:80),t._defaultAgent=n?Qw.globalAgent:pN.globalAgent;let s=t.agent;if(s){if(s.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");t.agent=s[n?"https":"http"]}return n&&await Ite(t)==="h2"?(s&&(t.agent=s.http2),new Ete(t,r)):pN.request(t,r)};Zw.exports.protocolCache=Rm});var yN=l((Pfe,_N)=>{"use strict";var bte=require("http2"),Ate=Hw(),ev=Xw(),Rte=Bw(),Cte=hN(),Tte=(e,t,r)=>new ev(e,t,r),xte=(e,t,r)=>{let n=new ev(e,t,r);return n.end(),n};_N.exports={...bte,ClientRequest:ev,IncomingMessage:Rte,...Ate,request:Tte,get:xte,auto:Cte}});var rv=l(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});var gN=Cr();tv.default=e=>gN.default.nodeStream(e)&&gN.default.function_(e.getBoundary)});var SN=l(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});var vN=require("fs"),EN=require("util"),wN=Cr(),qte=rv(),Ote=EN.promisify(vN.stat);nv.default=async(e,t)=>{if(t&&"content-length"in t)return Number(t["content-length"]);if(!e)return 0;if(wN.default.string(e))return Buffer.byteLength(e);if(wN.default.buffer(e))return e.length;if(qte.default(e))return EN.promisify(e.getLength.bind(e))();if(e instanceof vN.ReadStream){let{size:r}=await Ote(e.path);return r===0?void 0:r}}});var iv=l(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});function Nte(e,t,r){let n={};for(let s of r)n[s]=(...i)=>{t.emit(s,...i)},e.on(s,n[s]);return()=>{for(let s of r)e.off(s,n[s])}}sv.default=Nte});var PN=l(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.default=()=>{let e=[];return{once(t,r,n){t.once(r,n),e.push({origin:t,event:r,fn:n})},unhandleAll(){for(let t of e){let{origin:r,event:n,fn:s}=t;r.removeListener(n,s)}e.length=0}}}});var bN=l(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.TimeoutError=void 0;var Mte=require("net"),kte=PN(),IN=Symbol("reentry"),Dte=()=>{},Cm=class extends Error{constructor(t,r){super(`Timeout awaiting '${r}' for ${t}ms`),this.event=r,this.name="TimeoutError",this.code="ETIMEDOUT"}};La.TimeoutError=Cm;La.default=(e,t,r)=>{if(IN in e)return Dte;e[IN]=!0;let n=[],{once:s,unhandleAll:i}=kte.default(),o=(f,p,m)=>{var _;let g=setTimeout(p,f,f,m);(_=g.unref)===null||_===void 0||_.call(g);let y=()=>{clearTimeout(g)};return n.push(y),y},{host:a,hostname:c}=r,d=(f,p)=>{e.destroy(new Cm(f,p))},u=()=>{for(let f of n)f();i()};if(e.once("error",f=>{if(u(),e.listenerCount("error")===0)throw f}),e.once("close",u),s(e,"response",f=>{s(f,"end",u)}),typeof t.request<"u"&&o(t.request,d,"request"),typeof t.socket<"u"){let f=()=>{d(t.socket,"socket")};e.setTimeout(t.socket,f),n.push(()=>{e.removeListener("timeout",f)})}return s(e,"socket",f=>{var p;let{socketPath:m}=e;if(f.connecting){let _=Boolean(m??Mte.isIP((p=c??a)!==null&&p!==void 0?p:"")!==0);if(typeof t.lookup<"u"&&!_&&typeof f.address().address>"u"){let g=o(t.lookup,d,"lookup");s(f,"lookup",g)}if(typeof t.connect<"u"){let g=()=>o(t.connect,d,"connect");_?s(f,"connect",g()):s(f,"lookup",y=>{y===null&&s(f,"connect",g())})}typeof t.secureConnect<"u"&&r.protocol==="https:"&&s(f,"connect",()=>{let g=o(t.secureConnect,d,"secureConnect");s(f,"secureConnect",g)})}if(typeof t.send<"u"){let _=()=>o(t.send,d,"send");f.connecting?s(f,"connect",()=>{s(e,"upload-complete",_())}):s(e,"upload-complete",_())}}),typeof t.response<"u"&&s(e,"upload-complete",()=>{let f=o(t.response,d,"response");s(e,"response",f)}),u}});var RN=l(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});var AN=Cr();av.default=e=>{e=e;let t={protocol:e.protocol,hostname:AN.default.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return AN.default.string(e.port)&&e.port.length>0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}});var CN=l(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});var jte=require("url"),Lte=["protocol","host","hostname","port","pathname","search"];cv.default=(e,t)=>{var r,n;if(t.path){if(t.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(t.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(t.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(t.search&&t.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!e){if(!t.protocol)throw new TypeError("No URL protocol specified");e=`${t.protocol}//${(n=(r=t.hostname)!==null&&r!==void 0?r:t.host)!==null&&n!==void 0?n:""}`}let s=new jte.URL(e);if(t.path){let i=t.path.indexOf("?");i===-1?t.pathname=t.path:(t.pathname=t.path.slice(0,i),t.search=t.path.slice(i+1)),delete t.path}for(let i of Lte)t[i]&&(s[i]=t[i].toString());return s}});var TN=l(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});var dv=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(t,r){typeof t=="object"?this.weakMap.set(t,r):this.map.set(t,r)}get(t){return typeof t=="object"?this.weakMap.get(t):this.map.get(t)}has(t){return typeof t=="object"?this.weakMap.has(t):this.map.has(t)}};lv.default=dv});var fv=l(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});var zte=async e=>{let t=[],r=0;for await(let n of e)t.push(n),r+=Buffer.byteLength(n);return Buffer.isBuffer(t[0])?Buffer.concat(t,r):Buffer.from(t.join(""))};uv.default=zte});var qN=l(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.dnsLookupIpVersionToFamily=kn.isDnsLookupIpVersion=void 0;var xN={auto:0,ipv4:4,ipv6:6};kn.isDnsLookupIpVersion=e=>e in xN;kn.dnsLookupIpVersionToFamily=e=>{if(kn.isDnsLookupIpVersion(e))return xN[e];throw new Error("Invalid DNS lookup IP version")}});var pv=l(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.isResponseOk=void 0;Tm.isResponseOk=e=>{let{statusCode:t}=e,r=e.request.options.followRedirect?299:399;return t>=200&&t<=r||t===304}});var NN=l(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});var ON=new Set;mv.default=e=>{ON.has(e)||(ON.add(e),process.emitWarning(`Got: ${e}`,{type:"DeprecationWarning"}))}});var MN=l(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});var ee=Cr(),Fte=(e,t)=>{if(ee.default.null_(e.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");ee.assert.any([ee.default.string,ee.default.undefined],e.encoding),ee.assert.any([ee.default.boolean,ee.default.undefined],e.resolveBodyOnly),ee.assert.any([ee.default.boolean,ee.default.undefined],e.methodRewriting),ee.assert.any([ee.default.boolean,ee.default.undefined],e.isStream),ee.assert.any([ee.default.string,ee.default.undefined],e.responseType),e.responseType===void 0&&(e.responseType="text");let{retry:r}=e;if(t?e.retry={...t.retry}:e.retry={calculateDelay:n=>n.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},ee.default.object(r)?(e.retry={...e.retry,...r},e.retry.methods=[...new Set(e.retry.methods.map(n=>n.toUpperCase()))],e.retry.statusCodes=[...new Set(e.retry.statusCodes)],e.retry.errorCodes=[...new Set(e.retry.errorCodes)]):ee.default.number(r)&&(e.retry.limit=r),ee.default.undefined(e.retry.maxRetryAfter)&&(e.retry.maxRetryAfter=Math.min(...[e.timeout.request,e.timeout.connect].filter(ee.default.number))),ee.default.object(e.pagination)){t&&(e.pagination={...t.pagination,...e.pagination});let{pagination:n}=e;if(!ee.default.function_(n.transform))throw new Error("`options.pagination.transform` must be implemented");if(!ee.default.function_(n.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!ee.default.function_(n.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!ee.default.function_(n.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return e.responseType==="json"&&e.headers.accept===void 0&&(e.headers.accept="application/json"),e};hv.default=Fte});var kN=l(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.retryAfterStatusCodes=void 0;za.retryAfterStatusCodes=new Set([413,429,503]);var Ute=({attemptCount:e,retryOptions:t,error:r,retryAfter:n})=>{if(e>t.limit)return 0;let s=t.methods.includes(r.options.method),i=t.errorCodes.includes(r.code),o=r.response&&t.statusCodes.includes(r.response.statusCode);if(!s||!i&&!o)return 0;if(r.response){if(n)return t.maxRetryAfter===void 0||n>t.maxRetryAfter?0:n;if(r.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(e-1)*1e3+a};za.default=Ute});var $a=l($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.UnsupportedProtocolError=$.ReadError=$.TimeoutError=$.UploadError=$.CacheError=$.HTTPError=$.MaxRedirectsError=$.RequestError=$.setNonEnumerableProperties=$.knownHookEvents=$.withoutBody=$.kIsNormalizedAlready=void 0;var DN=require("util"),jN=require("stream"),$te=require("fs"),tn=require("url"),LN=require("http"),_v=require("http"),Hte=require("https"),Gte=Xq(),Bte=sO(),zN=LO(),Vte=$O(),Wte=yN(),Kte=Im(),w=Cr(),Jte=SN(),FN=rv(),Yte=iv(),UN=bN(),Xte=RN(),$N=CN(),Qte=TN(),Zte=fv(),HN=qN(),ere=pv(),rn=NN(),tre=MN(),rre=kN(),yv,Ce=Symbol("request"),Om=Symbol("response"),Os=Symbol("responseSize"),Ns=Symbol("downloadedSize"),Ms=Symbol("bodySize"),ks=Symbol("uploadedSize"),xm=Symbol("serverResponsesPiped"),GN=Symbol("unproxyEvents"),BN=Symbol("isFromCache"),gv=Symbol("cancelTimeouts"),VN=Symbol("startedReading"),Ds=Symbol("stopReading"),qm=Symbol("triggerRead"),nn=Symbol("body"),Fa=Symbol("jobs"),WN=Symbol("originalResponse"),KN=Symbol("retryTimeout");$.kIsNormalizedAlready=Symbol("isNormalizedAlready");var nre=w.default.string(process.versions.brotli);$.withoutBody=new Set(["GET","HEAD"]);$.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function sre(e){for(let t in e){let r=e[t];if(!w.default.string(r)&&!w.default.number(r)&&!w.default.boolean(r)&&!w.default.null_(r)&&!w.default.undefined(r))throw new TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}function ire(e){return w.default.object(e)&&!("statusCode"in e)}var wv=new Qte.default,ore=async e=>new Promise((t,r)=>{let n=s=>{r(s)};e.pending||t(),e.once("error",n),e.once("ready",()=>{e.off("error",n),t()})}),are=new Set([300,301,302,303,304,307,308]),cre=["context","body","json","form"];$.setNonEnumerableProperties=(e,t)=>{let r={};for(let n of e)if(!!n)for(let s of cre)s in n&&(r[s]={writable:!0,configurable:!0,enumerable:!1,value:n[s]});Object.defineProperties(t,r)};var me=class extends Error{constructor(t,r,n){var s,i;if(super(t),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(s=r.code)!==null&&s!==void 0?s:"ERR_GOT_REQUEST_ERROR",n instanceof zm?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n[Om]}),Object.defineProperty(this,"options",{enumerable:!1,value:n.options})):Object.defineProperty(this,"options",{enumerable:!1,value:n}),this.timings=(i=this.request)===null||i===void 0?void 0:i.timings,w.default.string(r.stack)&&w.default.string(this.stack)){let o=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(o).split(`
`).reverse(),c=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;c.length!==0&&c[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,o)}${a.reverse().join(`
`)}${c.reverse().join(`
`)}`}}};$.RequestError=me;var Nm=class extends me{constructor(t){super(`Redirected ${t.options.maxRedirects} times. Aborting.`,{},t),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};$.MaxRedirectsError=Nm;var Mm=class extends me{constructor(t){super(`Response code ${t.statusCode} (${t.statusMessage})`,{},t.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};$.HTTPError=Mm;var km=class extends me{constructor(t,r){super(t.message,t,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};$.CacheError=km;var Dm=class extends me{constructor(t,r){super(t.message,t,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};$.UploadError=Dm;var jm=class extends me{constructor(t,r,n){super(t.message,t,n),this.name="TimeoutError",this.event=t.event,this.timings=r}};$.TimeoutError=jm;var Ua=class extends me{constructor(t,r){super(t.message,t,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};$.ReadError=Ua;var Lm=class extends me{constructor(t){super(`Unsupported protocol "${t.url.protocol}"`,{},t),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};$.UnsupportedProtocolError=Lm;var dre=["socket","connect","continue","information","upgrade","timeout"],zm=class extends jN.Duplex{constructor(t,r={},n){super({autoDestroy:!1,highWaterMark:0}),this[Ns]=0,this[ks]=0,this.requestInitialized=!1,this[xm]=new Set,this.redirects=[],this[Ds]=!1,this[qm]=!1,this[Fa]=[],this.retryCount=0,this._progressCallbacks=[];let s=()=>this._unlockWrite(),i=()=>this._lockWrite();this.on("pipe",d=>{d.prependListener("data",s),d.on("data",i),d.prependListener("end",s),d.on("end",i)}),this.on("unpipe",d=>{d.off("data",s),d.off("data",i),d.off("end",s),d.off("end",i)}),this.on("pipe",d=>{d instanceof _v.IncomingMessage&&(this.options.headers={...d.headers,...this.options.headers})});let{json:o,body:a,form:c}=r;if((o||a||c)&&this._lockWrite(),$.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(t,r,n)}catch(d){w.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(d);return}(async()=>{var d;try{this.options.body instanceof $te.ReadStream&&await ore(this.options.body);let{url:u}=this.options;if(!u)throw new TypeError("Missing `url` property");if(this.requestUrl=u.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(d=this[Ce])===null||d===void 0||d.destroy();return}for(let f of this[Fa])f();this[Fa].length=0,this.requestInitialized=!0}catch(u){if(u instanceof me){this._beforeError(u);return}this.destroyed||this.destroy(u)}})()}static normalizeArguments(t,r,n){var s,i,o,a,c;let d=r;if(w.default.object(t)&&!w.default.urlInstance(t))r={...n,...t,...r};else{if(t&&r&&r.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");r={...n,...r},t!==void 0&&(r.url=t),w.default.urlInstance(r.url)&&(r.url=new tn.URL(r.url.toString()))}if(r.cache===!1&&(r.cache=void 0),r.dnsCache===!1&&(r.dnsCache=void 0),w.assert.any([w.default.string,w.default.undefined],r.method),w.assert.any([w.default.object,w.default.undefined],r.headers),w.assert.any([w.default.string,w.default.urlInstance,w.default.undefined],r.prefixUrl),w.assert.any([w.default.object,w.default.undefined],r.cookieJar),w.assert.any([w.default.object,w.default.string,w.default.undefined],r.searchParams),w.assert.any([w.default.object,w.default.string,w.default.undefined],r.cache),w.assert.any([w.default.object,w.default.number,w.default.undefined],r.timeout),w.assert.any([w.default.object,w.default.undefined],r.context),w.assert.any([w.default.object,w.default.undefined],r.hooks),w.assert.any([w.default.boolean,w.default.undefined],r.decompress),w.assert.any([w.default.boolean,w.default.undefined],r.ignoreInvalidCookies),w.assert.any([w.default.boolean,w.default.undefined],r.followRedirect),w.assert.any([w.default.number,w.default.undefined],r.maxRedirects),w.assert.any([w.default.boolean,w.default.undefined],r.throwHttpErrors),w.assert.any([w.default.boolean,w.default.undefined],r.http2),w.assert.any([w.default.boolean,w.default.undefined],r.allowGetBody),w.assert.any([w.default.string,w.default.undefined],r.localAddress),w.assert.any([HN.isDnsLookupIpVersion,w.default.undefined],r.dnsLookupIpVersion),w.assert.any([w.default.object,w.default.undefined],r.https),w.assert.any([w.default.boolean,w.default.undefined],r.rejectUnauthorized),r.https&&(w.assert.any([w.default.boolean,w.default.undefined],r.https.rejectUnauthorized),w.assert.any([w.default.function_,w.default.undefined],r.https.checkServerIdentity),w.assert.any([w.default.string,w.default.object,w.default.array,w.default.undefined],r.https.certificateAuthority),w.assert.any([w.default.string,w.default.object,w.default.array,w.default.undefined],r.https.key),w.assert.any([w.default.string,w.default.object,w.default.array,w.default.undefined],r.https.certificate),w.assert.any([w.default.string,w.default.undefined],r.https.passphrase),w.assert.any([w.default.string,w.default.buffer,w.default.array,w.default.undefined],r.https.pfx)),w.assert.any([w.default.object,w.default.undefined],r.cacheOptions),w.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===n?.headers?r.headers={...r.headers}:r.headers=Kte({...n?.headers,...r.headers}),"slashes"in r)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==n?.searchParams){let m;if(w.default.string(r.searchParams)||r.searchParams instanceof tn.URLSearchParams)m=new tn.URLSearchParams(r.searchParams);else{sre(r.searchParams),m=new tn.URLSearchParams;for(let _ in r.searchParams){let g=r.searchParams[_];g===null?m.append(_,""):g!==void 0&&m.append(_,g)}}(s=n?.searchParams)===null||s===void 0||s.forEach((_,g)=>{m.has(g)||m.append(g,_)}),r.searchParams=m}if(r.username=(i=r.username)!==null&&i!==void 0?i:"",r.password=(o=r.password)!==null&&o!==void 0?o:"",w.default.undefined(r.prefixUrl)?r.prefixUrl=(a=n?.prefixUrl)!==null&&a!==void 0?a:"":(r.prefixUrl=r.prefixUrl.toString(),r.prefixUrl!==""&&!r.prefixUrl.endsWith("/")&&(r.prefixUrl+="/")),w.default.string(r.url)){if(r.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");r.url=$N.default(r.prefixUrl+r.url,r)}else(w.default.undefined(r.url)&&r.prefixUrl!==""||r.protocol)&&(r.url=$N.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:m}=r;Object.defineProperty(r,"prefixUrl",{set:g=>{let y=r.url;if(!y.href.startsWith(g))throw new Error(`Cannot change \`prefixUrl\` from ${m} to ${g}: ${y.href}`);r.url=new tn.URL(g+y.href.slice(m.length)),m=g},get:()=>m});let{protocol:_}=r.url;if(_==="unix:"&&(_="http:",r.url=new tn.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),_!=="http:"&&_!=="https:")throw new Lm(r);r.username===""?r.username=r.url.username:r.url.username=r.username,r.password===""?r.password=r.url.password:r.url.password=r.password}let{cookieJar:u}=r;if(u){let{setCookie:m,getCookieString:_}=u;w.assert.function_(m),w.assert.function_(_),m.length===4&&_.length===0&&(m=DN.promisify(m.bind(r.cookieJar)),_=DN.promisify(_.bind(r.cookieJar)),r.cookieJar={setCookie:m,getCookieString:_})}let{cache:f}=r;if(f&&(wv.has(f)||wv.set(f,new zN((m,_)=>{let g=m[Ce](m,_);return w.default.promise(g)&&(g.once=(y,P)=>{if(y==="error")g.catch(P);else if(y==="abort")(async()=>{try{(await g).once("abort",P)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${y}`);return g}),g},f))),r.cacheOptions={...r.cacheOptions},r.dnsCache===!0)yv||(yv=new Bte.default),r.dnsCache=yv;else if(!w.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${w.default(r.dnsCache)}`);w.default.number(r.timeout)?r.timeout={request:r.timeout}:n&&r.timeout!==n.timeout?r.timeout={...n.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let p=r.hooks===n?.hooks;r.hooks={...r.hooks};for(let m of $.knownHookEvents)if(m in r.hooks)if(w.default.array(r.hooks[m]))r.hooks[m]=[...r.hooks[m]];else throw new TypeError(`Parameter \`${m}\` must be an Array, got ${w.default(r.hooks[m])}`);else r.hooks[m]=[];if(n&&!p)for(let m of $.knownHookEvents)n.hooks[m].length>0&&(r.hooks[m]=[...n.hooks[m],...r.hooks[m]]);if("family"in r&&rn.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),n?.https&&(r.https={...n.https,...r.https}),"rejectUnauthorized"in r&&rn.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&rn.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&rn.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&rn.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&rn.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&rn.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&rn.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent){for(let m in r.agent)if(m!=="http"&&m!=="https"&&m!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${m}\``)}return r.maxRedirects=(c=r.maxRedirects)!==null&&c!==void 0?c:0,$.setNonEnumerableProperties([n,d],r),tre.default(r,n)}_lockWrite(){let t=()=>{throw new TypeError("The payload has been already provided")};this.write=t,this.end=t}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:t}=this,{headers:r}=t,n=!w.default.undefined(t.form),s=!w.default.undefined(t.json),i=!w.default.undefined(t.body),o=n||s||i,a=$.withoutBody.has(t.method)&&!(t.method==="GET"&&t.allowGetBody);if(this._cannotHaveBody=a,o){if(a)throw new TypeError(`The \`${t.method}\` method cannot be used with a body`);if([i,n,s].filter(c=>c).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(i&&!(t.body instanceof jN.Readable)&&!w.default.string(t.body)&&!w.default.buffer(t.body)&&!FN.default(t.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(n&&!w.default.object(t.form))throw new TypeError("The `form` option must be an Object");{let c=!w.default.string(r["content-type"]);i?(FN.default(t.body)&&c&&(r["content-type"]=`multipart/form-data; boundary=${t.body.getBoundary()}`),this[nn]=t.body):n?(c&&(r["content-type"]="application/x-www-form-urlencoded"),this[nn]=new tn.URLSearchParams(t.form).toString()):(c&&(r["content-type"]="application/json"),this[nn]=t.stringifyJson(t.json));let d=await Jte.default(this[nn],t.headers);w.default.undefined(r["content-length"])&&w.default.undefined(r["transfer-encoding"])&&!a&&!w.default.undefined(d)&&(r["content-length"]=String(d))}}else a?this._lockWrite():this._unlockWrite();this[Ms]=Number(r["content-length"])||void 0}async _onResponseBase(t){let{options:r}=this,{url:n}=r;this[WN]=t,r.decompress&&(t=Vte(t));let s=t.statusCode,i=t;i.statusMessage=i.statusMessage?i.statusMessage:LN.STATUS_CODES[s],i.url=r.url.toString(),i.requestUrl=this.requestUrl,i.redirectUrls=this.redirects,i.request=this,i.isFromCache=t.fromCache||!1,i.ip=this.ip,i.retryCount=this.retryCount,this[BN]=i.isFromCache,this[Os]=Number(t.headers["content-length"])||void 0,this[Om]=t,t.once("end",()=>{this[Os]=this[Ns],this.emit("downloadProgress",this.downloadProgress)}),t.once("error",a=>{t.destroy(),this._beforeError(new Ua(a,this))}),t.once("aborted",()=>{this._beforeError(new Ua({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=t.headers["set-cookie"];if(w.default.object(r.cookieJar)&&o){let a=o.map(async c=>r.cookieJar.setCookie(c,n.toString()));r.ignoreInvalidCookies&&(a=a.map(async c=>c.catch(()=>{})));try{await Promise.all(a)}catch(c){this._beforeError(c);return}}if(r.followRedirect&&t.headers.location&&are.has(s)){if(t.resume(),this[Ce]&&(this[gv](),delete this[Ce],this[GN]()),(s===303&&r.method!=="GET"&&r.method!=="HEAD"||!r.methodRewriting)&&(r.method="GET","body"in r&&delete r.body,"json"in r&&delete r.json,"form"in r&&delete r.form,this[nn]=void 0,delete r.headers["content-length"]),this.redirects.length>=r.maxRedirects){this._beforeError(new Nm(this));return}try{let f=function(p){return p.protocol==="unix:"||p.hostname==="unix"},c=Buffer.from(t.headers.location,"binary").toString(),d=new tn.URL(c,n),u=d.toString();if(decodeURI(u),!f(n)&&f(d)){this._beforeError(new me("Cannot redirect to UNIX socket",{},this));return}d.hostname!==n.hostname||d.port!==n.port?("host"in r.headers&&delete r.headers.host,"cookie"in r.headers&&delete r.headers.cookie,"authorization"in r.headers&&delete r.headers.authorization,(r.username||r.password)&&(r.username="",r.password="")):(d.username=r.username,d.password=r.password),this.redirects.push(u),r.url=d;for(let p of r.hooks.beforeRedirect)await p(r,i);this.emit("redirect",i,r),await this._makeRequest()}catch(c){this._beforeError(c);return}return}if(r.isStream&&r.throwHttpErrors&&!ere.isResponseOk(i)){this._beforeError(new Mm(i));return}t.on("readable",()=>{this[qm]&&this._read()}),this.on("resume",()=>{t.resume()}),this.on("pause",()=>{t.pause()}),t.once("end",()=>{this.push(null)}),this.emit("response",t);for(let a of this[xm])if(!a.headersSent){for(let c in t.headers){let d=r.decompress?c!=="content-encoding":!0,u=t.headers[c];d&&a.setHeader(c,u)}a.statusCode=s}}async _onResponse(t){try{await this._onResponseBase(t)}catch(r){this._beforeError(r)}}_onRequest(t){let{options:r}=this,{timeout:n,url:s}=r;Gte.default(t),this[gv]=UN.default(t,n,s);let i=r.cache?"cacheableResponse":"response";t.once(i,c=>{this._onResponse(c)}),t.once("error",c=>{var d;t.destroy(),(d=t.res)===null||d===void 0||d.removeAllListeners("end"),c=c instanceof UN.TimeoutError?new jm(c,this.timings,this):new me(c.message,c,this),this._beforeError(c)}),this[GN]=Yte.default(t,this,dre),this[Ce]=t,this.emit("uploadProgress",this.uploadProgress);let o=this[nn],a=this.redirects.length===0?this:t;w.default.nodeStream(o)?(o.pipe(a),o.once("error",c=>{this._beforeError(new Dm(c,this))})):(this._unlockWrite(),w.default.undefined(o)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(o,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",t)}async _createCacheableRequest(t,r){return new Promise((n,s)=>{Object.assign(r,Xte.default(t)),delete r.url;let i,o=wv.get(r.cache)(r,async a=>{a._readableState.autoDestroy=!1,i&&(await i).emit("cacheableResponse",a),n(a)});r.url=t,o.once("error",s),o.once("request",async a=>{i=a,n(i)})})}async _makeRequest(){var t,r,n,s,i;let{options:o}=this,{headers:a}=o;for(let P in a)if(w.default.undefined(a[P]))delete a[P];else if(w.default.null_(a[P]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${P}\` header`);if(o.decompress&&w.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=nre?"gzip, deflate, br":"gzip, deflate"),o.cookieJar){let P=await o.cookieJar.getCookieString(o.url.toString());w.default.nonEmptyString(P)&&(o.headers.cookie=P)}for(let P of o.hooks.beforeRequest){let N=await P(o);if(!w.default.undefined(N)){o.request=()=>N;break}}o.body&&this[nn]!==o.body&&(this[nn]=o.body);let{agent:c,request:d,timeout:u,url:f}=o;if(o.dnsCache&&!("lookup"in o)&&(o.lookup=o.dnsCache.lookup),f.hostname==="unix"){let P=/(?<socketPath>.+?):(?<path>.+)/.exec(`${f.pathname}${f.search}`);if(P?.groups){let{socketPath:N,path:M}=P.groups;Object.assign(o,{socketPath:N,path:M,host:""})}}let p=f.protocol==="https:",m;o.http2?m=Wte.auto:m=p?Hte.request:LN.request;let _=(t=o.request)!==null&&t!==void 0?t:m,g=o.cache?this._createCacheableRequest:_;c&&!o.http2&&(o.agent=c[p?"https":"http"]),o[Ce]=_,delete o.request,delete o.timeout;let y=o;if(y.shared=(r=o.cacheOptions)===null||r===void 0?void 0:r.shared,y.cacheHeuristic=(n=o.cacheOptions)===null||n===void 0?void 0:n.cacheHeuristic,y.immutableMinTimeToLive=(s=o.cacheOptions)===null||s===void 0?void 0:s.immutableMinTimeToLive,y.ignoreCargoCult=(i=o.cacheOptions)===null||i===void 0?void 0:i.ignoreCargoCult,o.dnsLookupIpVersion!==void 0)try{y.family=HN.dnsLookupIpVersionToFamily(o.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}o.https&&("rejectUnauthorized"in o.https&&(y.rejectUnauthorized=o.https.rejectUnauthorized),o.https.checkServerIdentity&&(y.checkServerIdentity=o.https.checkServerIdentity),o.https.certificateAuthority&&(y.ca=o.https.certificateAuthority),o.https.certificate&&(y.cert=o.https.certificate),o.https.key&&(y.key=o.https.key),o.https.passphrase&&(y.passphrase=o.https.passphrase),o.https.pfx&&(y.pfx=o.https.pfx));try{let P=await g(f,y);w.default.undefined(P)&&(P=m(f,y)),o.request=d,o.timeout=u,o.agent=c,o.https&&("rejectUnauthorized"in o.https&&delete y.rejectUnauthorized,o.https.checkServerIdentity&&delete y.checkServerIdentity,o.https.certificateAuthority&&delete y.ca,o.https.certificate&&delete y.cert,o.https.key&&delete y.key,o.https.passphrase&&delete y.passphrase,o.https.pfx&&delete y.pfx),ire(P)?this._onRequest(P):this.writable?(this.once("finish",()=>{this._onResponse(P)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(P)}catch(P){throw P instanceof zN.CacheError?new km(P,this):new me(P.message,P,this)}}async _error(t){try{for(let r of this.options.hooks.beforeError)t=await r(t)}catch(r){t=new me(r.message,r,this)}this.destroy(t)}_beforeError(t){if(this[Ds])return;let{options:r}=this,n=this.retryCount+1;this[Ds]=!0,t instanceof me||(t=new me(t.message,t,this));let s=t,{response:i}=s;(async()=>{if(i&&!i.body){i.setEncoding(this._readableState.encoding);try{i.rawBody=await Zte.default(i),i.body=i.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let o;try{let a;i&&"retry-after"in i.headers&&(a=Number(i.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(i.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),o=await r.retry.calculateDelay({attemptCount:n,retryOptions:r.retry,error:s,retryAfter:a,computedValue:rre.default({attemptCount:n,retryOptions:r.retry,error:s,retryAfter:a,computedValue:0})})}catch(a){this._error(new me(a.message,a,this));return}if(o){let a=async()=>{try{for(let c of this.options.hooks.beforeRetry)await c(this.options,s,n)}catch(c){this._error(new me(c.message,t,this));return}this.destroyed||(this.destroy(),this.emit("retry",n,t))};this[KN]=setTimeout(a,o);return}}this._error(s)})()}_read(){this[qm]=!0;let t=this[Om];if(t&&!this[Ds]){t.readableLength&&(this[qm]=!1);let r;for(;(r=t.read())!==null;){this[Ns]+=r.length,this[VN]=!0;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(t,r,n){let s=()=>{this._writeRequest(t,r,n)};this.requestInitialized?s():this[Fa].push(s)}_writeRequest(t,r,n){this[Ce].destroyed||(this._progressCallbacks.push(()=>{this[ks]+=Buffer.byteLength(t,r);let s=this.uploadProgress;s.percent<1&&this.emit("uploadProgress",s)}),this[Ce].write(t,r,s=>{!s&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),n(s)}))}_final(t){let r=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(Ce in this)){t();return}if(this[Ce].destroyed){t();return}this[Ce].end(n=>{n||(this[Ms]=this[ks],this.emit("uploadProgress",this.uploadProgress),this[Ce].emit("upload-complete")),t(n)})};this.requestInitialized?r():this[Fa].push(r)}_destroy(t,r){var n;this[Ds]=!0,clearTimeout(this[KN]),Ce in this&&(this[gv](),!((n=this[Om])===null||n===void 0)&&n.complete||this[Ce].destroy()),t!==null&&!w.default.undefined(t)&&!(t instanceof me)&&(t=new me(t.message,t,this)),r(t)}get _isAboutToError(){return this[Ds]}get ip(){var t;return(t=this.socket)===null||t===void 0?void 0:t.remoteAddress}get aborted(){var t,r,n;return((r=(t=this[Ce])===null||t===void 0?void 0:t.destroyed)!==null&&r!==void 0?r:this.destroyed)&&!(!((n=this[WN])===null||n===void 0)&&n.complete)}get socket(){var t,r;return(r=(t=this[Ce])===null||t===void 0?void 0:t.socket)!==null&&r!==void 0?r:void 0}get downloadProgress(){let t;return this[Os]?t=this[Ns]/this[Os]:this[Os]===this[Ns]?t=1:t=0,{percent:t,transferred:this[Ns],total:this[Os]}}get uploadProgress(){let t;return this[Ms]?t=this[ks]/this[Ms]:this[Ms]===this[ks]?t=1:t=0,{percent:t,transferred:this[ks],total:this[Ms]}}get timings(){var t;return(t=this[Ce])===null||t===void 0?void 0:t.timings}get isFromCache(){return this[BN]}pipe(t,r){if(this[VN])throw new Error("Failed to pipe. The response has been emitted already.");return t instanceof _v.ServerResponse&&this[xm].add(t),super.pipe(t,r)}unpipe(t){return t instanceof _v.ServerResponse&&this[xm].delete(t),super.unpipe(t),this}};$.default=zm});var Ha=l(Rt=>{"use strict";var lre=Rt&&Rt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ure=Rt&&Rt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lre(t,e,r)};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.CancelError=Rt.ParseError=void 0;var JN=$a(),vv=class extends JN.RequestError{constructor(t,r){let{options:n}=r.request;super(`${t.message} in "${n.url.toString()}"`,t,r.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};Rt.ParseError=vv;var Ev=class extends JN.RequestError{constructor(t){super("Promise was canceled",{},t),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};Rt.CancelError=Ev;ure($a(),Rt)});var XN=l(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0});var YN=Ha(),fre=(e,t,r,n)=>{let{rawBody:s}=e;try{if(t==="text")return s.toString(n);if(t==="json")return s.length===0?"":r(s.toString());if(t==="buffer")return s;throw new YN.ParseError({message:`Unknown body type '${t}'`,name:"Error"},e)}catch(i){throw new YN.ParseError(i,e)}};Sv.default=fre});var Pv=l(sn=>{"use strict";var pre=sn&&sn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mre=sn&&sn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pre(t,e,r)};Object.defineProperty(sn,"__esModule",{value:!0});var hre=require("events"),_re=Cr(),yre=Jq(),Fm=Ha(),QN=XN(),ZN=$a(),gre=iv(),wre=fv(),eM=pv(),vre=["request","response","redirect","uploadProgress","downloadProgress"];function tM(e){let t,r,n=new hre.EventEmitter,s=new yre((o,a,c)=>{let d=u=>{let f=new ZN.default(void 0,e);f.retryCount=u,f._noPipe=!0,c(()=>f.destroy()),c.shouldReject=!1,c(()=>a(new Fm.CancelError(f))),t=f,f.once("response",async _=>{var g;if(_.retryCount=u,_.request.aborted)return;let y;try{y=await wre.default(f),_.rawBody=y}catch{return}if(f._isAboutToError)return;let P=((g=_.headers["content-encoding"])!==null&&g!==void 0?g:"").toLowerCase(),N=["gzip","deflate","br"].includes(P),{options:M}=f;if(N&&!M.decompress)_.body=y;else try{_.body=QN.default(_,M.responseType,M.parseJson,M.encoding)}catch(he){if(_.body=y.toString(),eM.isResponseOk(_)){f._beforeError(he);return}}try{for(let[he,sr]of M.hooks.afterResponse.entries())_=await sr(_,async Ne=>{let ir=ZN.default.normalizeArguments(void 0,{...Ne,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},M);ir.hooks.afterResponse=ir.hooks.afterResponse.slice(0,he);for(let Gm of ir.hooks.beforeRetry)await Gm(ir);let on=tM(ir);return c(()=>{on.catch(()=>{}),on.cancel()}),on})}catch(he){f._beforeError(new Fm.RequestError(he.message,he,f));return}if(r=_,!eM.isResponseOk(_)){f._beforeError(new Fm.HTTPError(_));return}f.destroy(),o(f.options.resolveBodyOnly?_.body:_)});let p=_=>{if(s.isCanceled)return;let{options:g}=f;if(_ instanceof Fm.HTTPError&&!g.throwHttpErrors){let{response:y}=_;o(f.options.resolveBodyOnly?y.body:y);return}a(_)};f.once("error",p);let m=f.options.body;f.once("retry",(_,g)=>{var y,P;if(m===((y=g.request)===null||y===void 0?void 0:y.options.body)&&_re.default.nodeStream((P=g.request)===null||P===void 0?void 0:P.options.body)){p(g);return}d(_)}),gre.default(f,n,vre)};d(0)});s.on=(o,a)=>(n.on(o,a),s);let i=o=>{let a=(async()=>{await s;let{options:c}=r.request;return QN.default(r,o,c.parseJson,c.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)),a};return s.json=()=>{let{headers:o}=t.options;return!t.writableFinished&&o.accept===void 0&&(o.accept="application/json"),i("json")},s.buffer=()=>i("buffer"),s.text=()=>i("text"),s}sn.default=tM;mre(Ha(),sn)});var rM=l(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});var Ere=Ha();function Sre(e,...t){let r=(async()=>{if(e instanceof Ere.RequestError)try{for(let s of t)if(s)for(let i of s)e=await i(e)}catch(s){e=s}throw e})(),n=()=>r;return r.json=n,r.text=n,r.buffer=n,r.on=n,r}Iv.default=Sre});var iM=l(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});var nM=Cr();function sM(e){for(let t of Object.values(e))(nM.default.plainObject(t)||nM.default.array(t))&&sM(t);return Object.freeze(e)}bv.default=sM});var aM=l(oM=>{"use strict";Object.defineProperty(oM,"__esModule",{value:!0})});var Av=l(gt=>{"use strict";var Pre=gt&&gt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ire=gt&&gt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Pre(t,e,r)};Object.defineProperty(gt,"__esModule",{value:!0});gt.defaultHandler=void 0;var cM=Cr(),yt=Pv(),bre=rM(),$m=$a(),Are=iM(),Rre={RequestError:yt.RequestError,CacheError:yt.CacheError,ReadError:yt.ReadError,HTTPError:yt.HTTPError,MaxRedirectsError:yt.MaxRedirectsError,TimeoutError:yt.TimeoutError,ParseError:yt.ParseError,CancelError:yt.CancelError,UnsupportedProtocolError:yt.UnsupportedProtocolError,UploadError:yt.UploadError},Cre=async e=>new Promise(t=>{setTimeout(t,e)}),{normalizeArguments:Um}=$m.default,dM=(...e)=>{let t;for(let r of e)t=Um(void 0,r,t);return t},Tre=e=>e.isStream?new $m.default(void 0,e):yt.default(e),xre=e=>"defaults"in e&&"options"in e.defaults,qre=["get","post","put","patch","head","delete"];gt.defaultHandler=(e,t)=>t(e);var lM=(e,t)=>{if(e)for(let r of e)r(t)},uM=e=>{e._rawHandlers=e.handlers,e.handlers=e.handlers.map(n=>(s,i)=>{let o,a=n(s,c=>(o=i(c),o));if(a!==o&&!s.isStream&&o){let c=a,{then:d,catch:u,finally:f}=c;Object.setPrototypeOf(c,Object.getPrototypeOf(o)),Object.defineProperties(c,Object.getOwnPropertyDescriptors(o)),c.then=d,c.catch=u,c.finally=f}return a});let t=(n,s={},i)=>{var o,a;let c=0,d=u=>e.handlers[c++](u,c===e.handlers.length?Tre:d);if(cM.default.plainObject(n)){let u={...n,...s};$m.setNonEnumerableProperties([n,s],u),s=u,n=void 0}try{let u;try{lM(e.options.hooks.init,s),lM((o=s.hooks)===null||o===void 0?void 0:o.init,s)}catch(p){u=p}let f=Um(n,s,i??e.options);if(f[$m.kIsNormalizedAlready]=!0,u)throw new yt.RequestError(u.message,u,f);return d(f)}catch(u){if(s.isStream)throw u;return bre.default(u,e.options.hooks.beforeError,(a=s.hooks)===null||a===void 0?void 0:a.beforeError)}};t.extend=(...n)=>{let s=[e.options],i=[...e._rawHandlers],o;for(let a of n)xre(a)?(s.push(a.defaults.options),i.push(...a.defaults._rawHandlers),o=a.defaults.mutableDefaults):(s.push(a),"handlers"in a&&i.push(...a.handlers),o=a.mutableDefaults);return i=i.filter(a=>a!==gt.defaultHandler),i.length===0&&i.push(gt.defaultHandler),uM({options:dM(...s),handlers:i,mutableDefaults:Boolean(o)})};let r=async function*(n,s){let i=Um(n,s,e.options);i.resolveBodyOnly=!1;let o=i.pagination;if(!cM.default.object(o))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:c}=o,d=0;for(;d<o.requestLimit;){d!==0&&await Cre(o.backoff);let u=await t(void 0,void 0,i),f=await o.transform(u),p=[];for(let _ of f)if(o.filter(_,a,p)&&(!o.shouldContinue(_,a,p)||(yield _,o.stackAllItems&&a.push(_),p.push(_),--c<=0)))return;let m=o.paginate(u,a,p);if(m===!1)return;m===u.request.options?i=u.request.options:m!==void 0&&(i=Um(void 0,m,i)),d++}};t.paginate=r,t.paginate.all=async(n,s)=>{let i=[];for await(let o of r(n,s))i.push(o);return i},t.paginate.each=r,t.stream=(n,s)=>t(n,{...s,isStream:!0});for(let n of qre)t[n]=(s,i)=>t(s,{...i,method:n}),t.stream[n]=(s,i)=>t(s,{...i,method:n,isStream:!0});return Object.assign(t,Rre),Object.defineProperty(t,"defaults",{value:e.mutableDefaults?e:Are.default(e),writable:e.mutableDefaults,configurable:e.mutableDefaults,enumerable:!0}),t.mergeOptions=dM,t};gt.default=uM;Ire(aM(),gt)});var mM=l((Tr,Hm)=>{"use strict";var Ore=Tr&&Tr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fM=Tr&&Tr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ore(t,e,r)};Object.defineProperty(Tr,"__esModule",{value:!0});var Nre=require("url"),pM=Av(),Mre={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:e=>e.request.options.responseType==="json"?e.body:JSON.parse(e.body),paginate:e=>{if(!Reflect.has(e.headers,"link"))return!1;let t=e.headers.link.split(","),r;for(let n of t){let s=n.split(";");if(s[1].includes("next")){r=s[0].trimStart().trim(),r=r.slice(1,-1);break}}return r?{url:new Nre.URL(r)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:e=>JSON.parse(e),stringifyJson:e=>JSON.stringify(e),cacheOptions:{}},handlers:[pM.defaultHandler],mutableDefaults:!1},Rv=pM.default(Mre);Tr.default=Rv;Hm.exports=Rv;Hm.exports.default=Rv;Hm.exports.__esModule=!0;fM(Av(),Tr);fM(Pv(),Tr)});var wt=js(ch());var hM=js(Dh()),_M=js(GS()),yM=require("node:url"),gM=js(Gq()),wM=js(mM());function kre(e,t){return new hM.SignatureV4({service:"lambda",region:e,credentials:t,sha256:_M.Sha256})}async function Dre(e,t){return await e.sign({method:"POST",hostname:t.host,path:t.pathname,protocol:t.protocol,headers:{"Content-Type":"application/json",host:t.hostname}})}async function vM(e,t=(0,gM.fromEnv)(),r=process.env.AWS_REGION){if(!r)throw Error("AWS_REGION must be supplied");let n=kre(r,t),s=await Dre(n,new yM.URL(e)),{method:i,...o}=s,a=(0,wM.default)(e,{...o,method:"POST",responseType:"json"}),c=a.json(),[d,u]=await Promise.all([a,c]);return{response:d,data:u}}function EM(e){return Object.prototype.toString.call(e)==="[object Error]"&&e.name==="HTTPError"}function SM(e){return Object.prototype.toString.call(e)==="[object Error]"&&e.name==="ParseError"}async function jre(){let e=process.env.CI?(0,wt.getInput)("url",{required:!0,trimWhitespace:!0}):process.env.LAMBDA_URL;if(!e)throw Error("Lambda function url must be supplied");try{let t=await vM(e);(0,wt.debug)(`Got token with following permissions: ,
      ${JSON.stringify({permissions:t.data.permissions,repositories:t.data.repositories})}`),(0,wt.setSecret)(t.data.token),(0,wt.setOutput)("access-token",t.data.token)}catch(t){if(EM(t)){let r={message:t.message,code:t.code,body:t.response?.body},n=`[HTTPError] Error invoking lambda endpoint: ${JSON.stringify(r,null,1)}`;(0,wt.setFailed)(n)}else if(SM(t)){let r={message:t.message,code:t.code},n=`[HTTPError] Error invoking lambda endpoint: ${JSON.stringify(r,null,1)}`;(0,wt.debug)(`Failed to parse response body: ${t.response.body}`),(0,wt.setFailed)(n)}else throw t}}jre();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
